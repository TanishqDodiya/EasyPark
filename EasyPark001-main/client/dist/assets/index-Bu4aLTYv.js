function ub(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function db(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L0={exports:{}},qo={},P0={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),hb=Symbol.for("react.portal"),fb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),xb=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),bb=Symbol.for("react.lazy"),sf=Symbol.iterator;function kb(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var N0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T0=Object.assign,M0={};function vs(t,e,n){this.props=t,this.context=e,this.refs=M0,this.updater=n||N0}vs.prototype.isReactComponent={};vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O0(){}O0.prototype=vs.prototype;function Qu(t,e,n){this.props=t,this.context=e,this.refs=M0,this.updater=n||N0}var Xu=Qu.prototype=new O0;Xu.constructor=Qu;T0(Xu,vs.prototype);Xu.isPureReactComponent=!0;var af=Array.isArray,A0=Object.prototype.hasOwnProperty,ed={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function I0(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)A0.call(e,r)&&!R0.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:zi,type:t,key:i,ref:a,props:s,_owner:ed.current}}function Sb(t,e){return{$$typeof:zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function td(t){return typeof t=="object"&&t!==null&&t.$$typeof===zi}function jb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var of=/\/+/g;function Cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jb(""+t.key):e.toString(36)}function Va(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zi:case hb:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Cl(a,0):r,af(s)?(n="",t!=null&&(n=t.replace(of,"$&/")+"/"),Va(s,e,n,"",function(u){return u})):s!=null&&(td(s)&&(s=Sb(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(of,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",af(t))for(var o=0;o<t.length;o++){i=t[o];var c=r+Cl(i,o);a+=Va(i,e,n,c,s)}else if(c=kb(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=r+Cl(i,o++),a+=Va(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fa(t,e,n){if(t==null)return t;var r=[],s=0;return Va(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Cb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Fa={transition:null},Eb={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Fa,ReactCurrentOwner:ed};function D0(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:fa,forEach:function(t,e,n){fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fa(t,function(){e++}),e},toArray:function(t){return fa(t,function(e){return e})||[]},only:function(t){if(!td(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=vs;re.Fragment=fb;re.Profiler=mb;re.PureComponent=Qu;re.StrictMode=pb;re.Suspense=xb;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;re.act=D0;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T0({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ed.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)A0.call(e,c)&&!R0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:zi,type:t.type,key:s,ref:i,props:r,_owner:a}};re.createContext=function(t){return t={$$typeof:vb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gb,_context:t},t.Consumer=t};re.createElement=I0;re.createFactory=function(t){var e=I0.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:yb,render:t}};re.isValidElement=td;re.lazy=function(t){return{$$typeof:bb,_payload:{_status:-1,_result:t},_init:Cb}};re.memo=function(t,e){return{$$typeof:wb,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Fa.transition;Fa.transition={};try{t()}finally{Fa.transition=e}};re.unstable_act=D0;re.useCallback=function(t,e){return et.current.useCallback(t,e)};re.useContext=function(t){return et.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return et.current.useDeferredValue(t)};re.useEffect=function(t,e){return et.current.useEffect(t,e)};re.useId=function(){return et.current.useId()};re.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return et.current.useMemo(t,e)};re.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};re.useRef=function(t){return et.current.useRef(t)};re.useState=function(t){return et.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return et.current.useTransition()};re.version="18.3.1";P0.exports=re;var f=P0.exports;const B0=db(f),_b=ub({__proto__:null,default:B0},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=f,Pb=Symbol.for("react.element"),Nb=Symbol.for("react.fragment"),Tb=Object.prototype.hasOwnProperty,Mb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ob={key:!0,ref:!0,__self:!0,__source:!0};function U0(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Tb.call(e,r)&&!Ob.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Pb,type:t,key:i,ref:a,props:s,_owner:Mb.current}}qo.Fragment=Nb;qo.jsx=U0;qo.jsxs=U0;L0.exports=qo;var l=L0.exports,Cc={},$0={exports:{}},yt={},V0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var R=T.length;T.push(I);e:for(;0<R;){var F=R-1>>>1,Z=T[F];if(0<s(Z,I))T[F]=I,T[R]=Z,R=F;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],R=T.pop();if(R!==I){T[0]=R;e:for(var F=0,Z=T.length,V=Z>>>1;F<V;){var se=2*(F+1)-1,N=T[se],le=se+1,ce=T[le];if(0>s(N,R))le<Z&&0>s(ce,N)?(T[F]=ce,T[le]=R,F=le):(T[F]=N,T[se]=R,F=se);else if(le<Z&&0>s(ce,R))T[F]=ce,T[le]=R,F=le;else break e}}return I}function s(T,I){var R=T.sortIndex-I.sortIndex;return R!==0?R:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,p=3,v=!1,g=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,e(c,I);else break;I=n(u)}}function b(T){if(w=!1,y(T),!g)if(n(c)!==null)g=!0,X(k);else{var I=n(u);I!==null&&G(b,I.startTime-T)}}function k(T,I){g=!1,w&&(w=!1,x(E),E=-1),v=!0;var R=p;try{for(y(I),h=n(c);h!==null&&(!(h.expirationTime>I)||T&&!M());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var Z=F(h.expirationTime<=I);I=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(c)&&r(c),y(I)}else r(c);h=n(c)}if(h!==null)var V=!0;else{var se=n(u);se!==null&&G(b,se.startTime-I),V=!1}return V}finally{h=null,p=R,v=!1}}var j=!1,C=null,E=-1,_=5,L=-1;function M(){return!(t.unstable_now()-L<_)}function U(){if(C!==null){var T=t.unstable_now();L=T;var I=!0;try{I=C(!0,T)}finally{I?z():(j=!1,C=null)}}else j=!1}var z;if(typeof m=="function")z=function(){m(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=U,z=function(){J.postMessage(null)}}else z=function(){S(U,0)};function X(T){C=T,j||(j=!0,z())}function G(T,I){E=S(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,X(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var R=p;p=I;try{return T()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=p;p=T;try{return I()}finally{p=R}},t.unstable_scheduleCallback=function(T,I,R){var F=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,T){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,T={id:d++,callback:I,priorityLevel:T,startTime:R,expirationTime:Z,sortIndex:-1},R>F?(T.sortIndex=R,e(u,T),n(c)===null&&T===n(u)&&(w?(x(E),E=-1):w=!0,G(b,R-F))):(T.sortIndex=Z,e(c,T),g||v||(g=!0,X(k))),T},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(T){var I=p;return function(){var R=p;p=I;try{return T.apply(this,arguments)}finally{p=R}}}})(F0);V0.exports=F0;var Ab=V0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=f,gt=Ab;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z0=new Set,di={};function xr(t,e){as(t,e),as(t+"Capture",e)}function as(t,e){for(di[t]=e,t=0;t<e.length;t++)z0.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=Object.prototype.hasOwnProperty,Ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lf={},cf={};function Db(t){return Ec.call(cf,t)?!0:Ec.call(lf,t)?!1:Ib.test(t)?cf[t]=!0:(lf[t]=!0,!1)}function Bb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ub(t,e,n,r){if(e===null||typeof e>"u"||Bb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function rd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nd,rd);We[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nd,rd);We[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nd,rd);We[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sd(t,e,n,r){var s=We.hasOwnProperty(e)?We[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ub(e,n,s,r)&&(n=null),r||s===null?Db(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hn=Rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),id=Symbol.for("react.strict_mode"),_c=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),ad=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),od=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),uf=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=uf&&t[uf]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,El;function $s(t){if(El===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);El=e&&e[1]||""}return`
`+El+t}var _l=!1;function Ll(t,e){if(!t||_l)return"";_l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{_l=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$s(t):""}function $b(t){switch(t.tag){case 5:return $s(t.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 2:case 15:return t=Ll(t.type,!1),t;case 11:return t=Ll(t.type.render,!1),t;case 1:return t=Ll(t.type,!0),t;default:return""}}function Nc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ar:return"Fragment";case Or:return"Portal";case _c:return"Profiler";case id:return"StrictMode";case Lc:return"Suspense";case Pc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H0:return(t.displayName||"Context")+".Consumer";case W0:return(t._context.displayName||"Context")+".Provider";case ad:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case od:return e=t.displayName||null,e!==null?e:Nc(t.type)||"Memo";case xn:e=t._payload,t=t._init;try{return Nc(t(e))}catch{}}return null}function Vb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nc(e);case 8:return e===id?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fb(t){var e=G0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ma(t){t._valueTracker||(t._valueTracker=Fb(t))}function q0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function no(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tc(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function df(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z0(t,e){e=e.checked,e!=null&&sd(t,"checked",e,!1)}function Mc(t,e){Z0(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oc(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oc(t,e,n){(e!=="number"||no(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vs=Array.isArray;function Qr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ac(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ff(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Vs(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function J0(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ga,Q0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zb=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){zb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zs[e]=Zs[t]})});function X0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+e).trim():e+"px"}function ev(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=X0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Wb=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(t,e){if(e){if(Wb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function ld(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uc=null,Xr=null,es=null;function mf(t){if(t=Ki(t)){if(typeof Uc!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Xo(e),Uc(t.stateNode,t.type,e))}}function tv(t){Xr?es?es.push(t):es=[t]:Xr=t}function nv(){if(Xr){var t=Xr,e=es;if(es=Xr=null,mf(t),e)for(t=0;t<e.length;t++)mf(e[t])}}function rv(t,e){return t(e)}function sv(){}var Pl=!1;function iv(t,e,n){if(Pl)return t(e,n);Pl=!0;try{return rv(t,e,n)}finally{Pl=!1,(Xr!==null||es!==null)&&(sv(),nv())}}function fi(t,e){var n=t.stateNode;if(n===null)return null;var r=Xo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var $c=!1;if(on)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){$c=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{$c=!1}function Hb(t,e,n,r,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Js=!1,ro=null,so=!1,Vc=null,Kb={onError:function(t){Js=!0,ro=t}};function Gb(t,e,n,r,s,i,a,o,c){Js=!1,ro=null,Hb.apply(Kb,arguments)}function qb(t,e,n,r,s,i,a,o,c){if(Gb.apply(this,arguments),Js){if(Js){var u=ro;Js=!1,ro=null}else throw Error(O(198));so||(so=!0,Vc=u)}}function wr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function av(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gf(t){if(wr(t)!==t)throw Error(O(188))}function Zb(t){var e=t.alternate;if(!e){if(e=wr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gf(s),t;if(i===r)return gf(s),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function ov(t){return t=Zb(t),t!==null?lv(t):null}function lv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lv(t);if(e!==null)return e;t=t.sibling}return null}var cv=gt.unstable_scheduleCallback,vf=gt.unstable_cancelCallback,Jb=gt.unstable_shouldYield,Yb=gt.unstable_requestPaint,Pe=gt.unstable_now,Qb=gt.unstable_getCurrentPriorityLevel,cd=gt.unstable_ImmediatePriority,uv=gt.unstable_UserBlockingPriority,io=gt.unstable_NormalPriority,Xb=gt.unstable_LowPriority,dv=gt.unstable_IdlePriority,Zo=null,Ht=null;function e1(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Zo,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:r1,t1=Math.log,n1=Math.LN2;function r1(t){return t>>>=0,t===0?32:31-(t1(t)/n1|0)|0}var va=64,ya=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ao(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Fs(o):(i&=a,i!==0&&(r=Fs(i)))}else a=n&~s,a!==0?r=Fs(a):i!==0&&(r=Fs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),s=1<<n,r|=t[n],e&=~s;return r}function s1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Bt(i),o=1<<a,c=s[a];c===-1?(!(o&n)||o&r)&&(s[a]=s1(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hv(){var t=va;return va<<=1,!(va&4194240)&&(va=64),t}function Nl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function a1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Bt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function fv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pv,dd,mv,gv,vv,zc=!1,xa=[],Nn=null,Tn=null,Mn=null,pi=new Map,mi=new Map,Sn=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":pi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(e.pointerId)}}function Ns(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ki(e),e!==null&&dd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function l1(t,e,n,r,s){switch(e){case"focusin":return Nn=Ns(Nn,t,e,n,r,s),!0;case"dragenter":return Tn=Ns(Tn,t,e,n,r,s),!0;case"mouseover":return Mn=Ns(Mn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return pi.set(i,Ns(pi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,mi.set(i,Ns(mi.get(i)||null,t,e,n,r,s)),!0}return!1}function yv(t){var e=ar(t.target);if(e!==null){var n=wr(e);if(n!==null){if(e=n.tag,e===13){if(e=av(n),e!==null){t.blockedOn=e,vv(t.priority,function(){mv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function za(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bc=r,n.target.dispatchEvent(r),Bc=null}else return e=Ki(n),e!==null&&dd(e),t.blockedOn=n,!1;e.shift()}return!0}function xf(t,e,n){za(t)&&n.delete(e)}function c1(){zc=!1,Nn!==null&&za(Nn)&&(Nn=null),Tn!==null&&za(Tn)&&(Tn=null),Mn!==null&&za(Mn)&&(Mn=null),pi.forEach(xf),mi.forEach(xf)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,zc||(zc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,c1)))}function gi(t){function e(s){return Ts(s,t)}if(0<xa.length){Ts(xa[0],t);for(var n=1;n<xa.length;n++){var r=xa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&Ts(Nn,t),Tn!==null&&Ts(Tn,t),Mn!==null&&Ts(Mn,t),pi.forEach(e),mi.forEach(e),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)yv(n),n.blockedOn===null&&Sn.shift()}var ts=hn.ReactCurrentBatchConfig,oo=!0;function u1(t,e,n,r){var s=ue,i=ts.transition;ts.transition=null;try{ue=1,hd(t,e,n,r)}finally{ue=s,ts.transition=i}}function d1(t,e,n,r){var s=ue,i=ts.transition;ts.transition=null;try{ue=4,hd(t,e,n,r)}finally{ue=s,ts.transition=i}}function hd(t,e,n,r){if(oo){var s=Wc(t,e,n,r);if(s===null)$l(t,e,r,lo,n),yf(t,r);else if(l1(s,t,e,n,r))r.stopPropagation();else if(yf(t,r),e&4&&-1<o1.indexOf(t)){for(;s!==null;){var i=Ki(s);if(i!==null&&pv(i),i=Wc(t,e,n,r),i===null&&$l(t,e,r,lo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $l(t,e,r,null,n)}}var lo=null;function Wc(t,e,n,r){if(lo=null,t=ld(r),t=ar(t),t!==null)if(e=wr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=av(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lo=t,null}function xv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qb()){case cd:return 1;case uv:return 4;case io:case Xb:return 16;case dv:return 536870912;default:return 16}default:return 16}}var En=null,fd=null,Wa=null;function wv(){if(Wa)return Wa;var t,e=fd,n=e.length,r,s="value"in En?En.value:En.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Wa=s.slice(t,1<r?1-r:void 0)}function Ha(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function wf(){return!1}function xt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wa:wf,this.isPropagationStopped=wf,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),e}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=xt(ys),Hi=Se({},ys,{view:0,detail:0}),h1=xt(Hi),Tl,Ml,Ms,Jo=Se({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ms&&(Ms&&t.type==="mousemove"?(Tl=t.screenX-Ms.screenX,Ml=t.screenY-Ms.screenY):Ml=Tl=0,Ms=t),Tl)},movementY:function(t){return"movementY"in t?t.movementY:Ml}}),bf=xt(Jo),f1=Se({},Jo,{dataTransfer:0}),p1=xt(f1),m1=Se({},Hi,{relatedTarget:0}),Ol=xt(m1),g1=Se({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=xt(g1),y1=Se({},ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x1=xt(y1),w1=Se({},ys,{data:0}),kf=xt(w1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=S1[t])?!!e[t]:!1}function md(){return j1}var C1=Se({},Hi,{key:function(t){if(t.key){var e=b1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E1=xt(C1),_1=Se({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=xt(_1),L1=Se({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),P1=xt(L1),N1=Se({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),T1=xt(N1),M1=Se({},Jo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O1=xt(M1),A1=[9,13,27,32],gd=on&&"CompositionEvent"in window,Ys=null;on&&"documentMode"in document&&(Ys=document.documentMode);var R1=on&&"TextEvent"in window&&!Ys,bv=on&&(!gd||Ys&&8<Ys&&11>=Ys),jf=" ",Cf=!1;function kv(t,e){switch(t){case"keyup":return A1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rr=!1;function I1(t,e){switch(t){case"compositionend":return Sv(e);case"keypress":return e.which!==32?null:(Cf=!0,jf);case"textInput":return t=e.data,t===jf&&Cf?null:t;default:return null}}function D1(t,e){if(Rr)return t==="compositionend"||!gd&&kv(t,e)?(t=wv(),Wa=fd=En=null,Rr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bv&&e.locale!=="ko"?null:e.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!B1[t.type]:e==="textarea"}function jv(t,e,n,r){tv(r),e=co(e,"onChange"),0<e.length&&(n=new pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qs=null,vi=null;function U1(t){Rv(t,0)}function Yo(t){var e=Br(t);if(q0(e))return t}function $1(t,e){if(t==="change")return e}var Cv=!1;if(on){var Al;if(on){var Rl="oninput"in document;if(!Rl){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),Rl=typeof _f.oninput=="function"}Al=Rl}else Al=!1;Cv=Al&&(!document.documentMode||9<document.documentMode)}function Lf(){Qs&&(Qs.detachEvent("onpropertychange",Ev),vi=Qs=null)}function Ev(t){if(t.propertyName==="value"&&Yo(vi)){var e=[];jv(e,vi,t,ld(t)),iv(U1,e)}}function V1(t,e,n){t==="focusin"?(Lf(),Qs=e,vi=n,Qs.attachEvent("onpropertychange",Ev)):t==="focusout"&&Lf()}function F1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(vi)}function z1(t,e){if(t==="click")return Yo(e)}function W1(t,e){if(t==="input"||t==="change")return Yo(e)}function H1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:H1;function yi(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ec.call(e,s)||!$t(t[s],e[s]))return!1}return!0}function Pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var n=Pf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pf(n)}}function _v(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_v(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lv(){for(var t=window,e=no();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=no(t.document)}return e}function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K1(t){var e=Lv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_v(n.ownerDocument.documentElement,n)){if(r!==null&&vd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Nf(n,i);var a=Nf(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G1=on&&"documentMode"in document&&11>=document.documentMode,Ir=null,Hc=null,Xs=null,Kc=!1;function Tf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kc||Ir==null||Ir!==no(r)||(r=Ir,"selectionStart"in r&&vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xs&&yi(Xs,r)||(Xs=r,r=co(Hc,"onSelect"),0<r.length&&(e=new pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ir)))}function ba(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dr={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Il={},Pv={};on&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Qo(t){if(Il[t])return Il[t];if(!Dr[t])return t;var e=Dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Pv)return Il[t]=e[n];return t}var Nv=Qo("animationend"),Tv=Qo("animationiteration"),Mv=Qo("animationstart"),Ov=Qo("transitionend"),Av=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){Av.set(t,e),xr(e,[t])}for(var Dl=0;Dl<Mf.length;Dl++){var Bl=Mf[Dl],q1=Bl.toLowerCase(),Z1=Bl[0].toUpperCase()+Bl.slice(1);zn(q1,"on"+Z1)}zn(Nv,"onAnimationEnd");zn(Tv,"onAnimationIteration");zn(Mv,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Ov,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function Of(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qb(r,e,void 0,t),t.currentTarget=null}function Rv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Of(s,o,u),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Of(s,o,u),i=c}}}if(so)throw t=Vc,so=!1,Vc=null,t}function pe(t,e){var n=e[Yc];n===void 0&&(n=e[Yc]=new Set);var r=t+"__bubble";n.has(r)||(Iv(e,t,2,!1),n.add(r))}function Ul(t,e,n){var r=0;e&&(r|=4),Iv(n,t,r,e)}var ka="_reactListening"+Math.random().toString(36).slice(2);function xi(t){if(!t[ka]){t[ka]=!0,z0.forEach(function(n){n!=="selectionchange"&&(J1.has(n)||Ul(n,!1,t),Ul(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ka]||(e[ka]=!0,Ul("selectionchange",!1,e))}}function Iv(t,e,n,r){switch(xv(e)){case 1:var s=u1;break;case 4:s=d1;break;default:s=hd}n=s.bind(null,e,n,t),s=void 0,!$c||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function $l(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ar(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}iv(function(){var u=i,d=ld(n),h=[];e:{var p=Av.get(t);if(p!==void 0){var v=pd,g=t;switch(t){case"keypress":if(Ha(n)===0)break e;case"keydown":case"keyup":v=E1;break;case"focusin":g="focus",v=Ol;break;case"focusout":g="blur",v=Ol;break;case"beforeblur":case"afterblur":v=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=p1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=P1;break;case Nv:case Tv:case Mv:v=v1;break;case Ov:v=T1;break;case"scroll":v=h1;break;case"wheel":v=O1;break;case"copy":case"cut":case"paste":v=x1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sf}var w=(e&4)!==0,S=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var m=u,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,x!==null&&(b=fi(m,x),b!=null&&w.push(wi(m,b,y)))),S)break;m=m.return}0<w.length&&(p=new v(p,g,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Bc&&(g=n.relatedTarget||n.fromElement)&&(ar(g)||g[ln]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(g=n.relatedTarget||n.toElement,v=u,g=g?ar(g):null,g!==null&&(S=wr(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(w=bf,b="onMouseLeave",x="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Sf,b="onPointerLeave",x="onPointerEnter",m="pointer"),S=v==null?p:Br(v),y=g==null?p:Br(g),p=new w(b,m+"leave",v,n,d),p.target=S,p.relatedTarget=y,b=null,ar(d)===u&&(w=new w(x,m+"enter",g,n,d),w.target=y,w.relatedTarget=S,b=w),S=b,v&&g)t:{for(w=v,x=g,m=0,y=w;y;y=Sr(y))m++;for(y=0,b=x;b;b=Sr(b))y++;for(;0<m-y;)w=Sr(w),m--;for(;0<y-m;)x=Sr(x),y--;for(;m--;){if(w===x||x!==null&&w===x.alternate)break t;w=Sr(w),x=Sr(x)}w=null}else w=null;v!==null&&Af(h,p,v,w,!1),g!==null&&S!==null&&Af(h,S,g,w,!0)}}e:{if(p=u?Br(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=$1;else if(Ef(p))if(Cv)k=W1;else{k=F1;var j=V1}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=z1);if(k&&(k=k(t,u))){jv(h,k,n,d);break e}j&&j(t,p,u),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Oc(p,"number",p.value)}switch(j=u?Br(u):window,t){case"focusin":(Ef(j)||j.contentEditable==="true")&&(Ir=j,Hc=u,Xs=null);break;case"focusout":Xs=Hc=Ir=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Tf(h,n,d);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":Tf(h,n,d)}var C;if(gd)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Rr?kv(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(bv&&n.locale!=="ko"&&(Rr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Rr&&(C=wv()):(En=d,fd="value"in En?En.value:En.textContent,Rr=!0)),j=co(u,E),0<j.length&&(E=new kf(E,t,null,n,d),h.push({event:E,listeners:j}),C?E.data=C:(C=Sv(n),C!==null&&(E.data=C)))),(C=R1?I1(t,n):D1(t,n))&&(u=co(u,"onBeforeInput"),0<u.length&&(d=new kf("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}Rv(h,e)})}function wi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function co(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fi(t,n),i!=null&&r.unshift(wi(t,i,s)),i=fi(t,e),i!=null&&r.push(wi(t,i,s))),t=t.return}return r}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Af(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=fi(n,i),c!=null&&a.unshift(wi(n,c,o))):s||(c=fi(n,i),c!=null&&a.push(wi(n,c,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Y1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Rf(t){return(typeof t=="string"?t:""+t).replace(Y1,`
`).replace(Q1,"")}function Sa(t,e,n){if(e=Rf(e),Rf(t)!==e&&n)throw Error(O(425))}function uo(){}var Gc=null,qc=null;function Zc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jc=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,ek=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(t){return If.resolve(null).then(t).catch(tk)}:Jc;function tk(t){setTimeout(function(){throw t})}function Vl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gi(e)}function On(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+xs,bi="__reactProps$"+xs,ln="__reactContainer$"+xs,Yc="__reactEvents$"+xs,nk="__reactListeners$"+xs,rk="__reactHandles$"+xs;function ar(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Wt])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function Ki(t){return t=t[Wt]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Xo(t){return t[bi]||null}var Qc=[],Ur=-1;function Wn(t){return{current:t}}function me(t){0>Ur||(t.current=Qc[Ur],Qc[Ur]=null,Ur--)}function fe(t,e){Ur++,Qc[Ur]=t.current,t.current=e}var $n={},Ye=Wn($n),it=Wn(!1),pr=$n;function os(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function ho(){me(it),me(Ye)}function Bf(t,e,n){if(Ye.current!==$n)throw Error(O(168));fe(Ye,e),fe(it,n)}function Dv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(O(108,Vb(t)||"Unknown",s));return Se({},n,r)}function fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,pr=Ye.current,fe(Ye,t),fe(it,it.current),!0}function Uf(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Dv(t,e,pr),r.__reactInternalMemoizedMergedChildContext=t,me(it),me(Ye),fe(Ye,t)):me(it),fe(it,n)}var en=null,el=!1,Fl=!1;function Bv(t){en===null?en=[t]:en.push(t)}function sk(t){el=!0,Bv(t)}function Hn(){if(!Fl&&en!==null){Fl=!0;var t=0,e=ue;try{var n=en;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,el=!1}catch(s){throw en!==null&&(en=en.slice(t+1)),cv(cd,Hn),s}finally{ue=e,Fl=!1}}return null}var $r=[],Vr=0,po=null,mo=0,St=[],jt=0,mr=null,tn=1,nn="";function Qn(t,e){$r[Vr++]=mo,$r[Vr++]=po,po=t,mo=e}function Uv(t,e,n){St[jt++]=tn,St[jt++]=nn,St[jt++]=mr,mr=t;var r=tn;t=nn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var i=32-Bt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,tn=1<<32-Bt(e)+s|n<<s|r,nn=i+t}else tn=1<<i|n<<s|r,nn=t}function yd(t){t.return!==null&&(Qn(t,1),Uv(t,1,0))}function xd(t){for(;t===po;)po=$r[--Vr],$r[Vr]=null,mo=$r[--Vr],$r[Vr]=null;for(;t===mr;)mr=St[--jt],St[jt]=null,nn=St[--jt],St[jt]=null,tn=St[--jt],St[jt]=null}var pt=null,ft=null,ve=!1,Dt=null;function $v(t,e){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $f(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,ft=On(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mr!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pt=t,ft=null,!0):!1;default:return!1}}function Xc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eu(t){if(ve){var e=ft;if(e){var n=e;if(!$f(t,e)){if(Xc(t))throw Error(O(418));e=On(n.nextSibling);var r=pt;e&&$f(t,e)?$v(r,n):(t.flags=t.flags&-4097|2,ve=!1,pt=t)}}else{if(Xc(t))throw Error(O(418));t.flags=t.flags&-4097|2,ve=!1,pt=t}}}function Vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function ja(t){if(t!==pt)return!1;if(!ve)return Vf(t),ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zc(t.type,t.memoizedProps)),e&&(e=ft)){if(Xc(t))throw Vv(),Error(O(418));for(;e;)$v(t,e),e=On(e.nextSibling)}if(Vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=On(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=pt?On(t.stateNode.nextSibling):null;return!0}function Vv(){for(var t=ft;t;)t=On(t.nextSibling)}function ls(){ft=pt=null,ve=!1}function wd(t){Dt===null?Dt=[t]:Dt.push(t)}var ik=hn.ReactCurrentBatchConfig;function Os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ff(t){var e=t._init;return e(t._payload)}function Fv(t){function e(x,m){if(t){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function n(x,m){if(!t)return null;for(;m!==null;)e(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=Dn(x,m),x.index=0,x.sibling=null,x}function i(x,m,y){return x.index=y,t?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,m,y,b){return m===null||m.tag!==6?(m=Zl(y,x.mode,b),m.return=x,m):(m=s(m,y),m.return=x,m)}function c(x,m,y,b){var k=y.type;return k===Ar?d(x,m,y.props.children,b,y.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xn&&Ff(k)===m.type)?(b=s(m,y.props),b.ref=Os(x,m,y),b.return=x,b):(b=Qa(y.type,y.key,y.props,null,x.mode,b),b.ref=Os(x,m,y),b.return=x,b)}function u(x,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Jl(y,x.mode,b),m.return=x,m):(m=s(m,y.children||[]),m.return=x,m)}function d(x,m,y,b,k){return m===null||m.tag!==7?(m=hr(y,x.mode,b,k),m.return=x,m):(m=s(m,y),m.return=x,m)}function h(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Zl(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pa:return y=Qa(m.type,m.key,m.props,null,x.mode,y),y.ref=Os(x,null,m),y.return=x,y;case Or:return m=Jl(m,x.mode,y),m.return=x,m;case xn:var b=m._init;return h(x,b(m._payload),y)}if(Vs(m)||Ls(m))return m=hr(m,x.mode,y,null),m.return=x,m;Ca(x,m)}return null}function p(x,m,y,b){var k=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(x,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:return y.key===k?c(x,m,y,b):null;case Or:return y.key===k?u(x,m,y,b):null;case xn:return k=y._init,p(x,m,k(y._payload),b)}if(Vs(y)||Ls(y))return k!==null?null:d(x,m,y,b,null);Ca(x,y)}return null}function v(x,m,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(y)||null,o(m,x,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pa:return x=x.get(b.key===null?y:b.key)||null,c(m,x,b,k);case Or:return x=x.get(b.key===null?y:b.key)||null,u(m,x,b,k);case xn:var j=b._init;return v(x,m,y,j(b._payload),k)}if(Vs(b)||Ls(b))return x=x.get(y)||null,d(m,x,b,k,null);Ca(m,b)}return null}function g(x,m,y,b){for(var k=null,j=null,C=m,E=m=0,_=null;C!==null&&E<y.length;E++){C.index>E?(_=C,C=null):_=C.sibling;var L=p(x,C,y[E],b);if(L===null){C===null&&(C=_);break}t&&C&&L.alternate===null&&e(x,C),m=i(L,m,E),j===null?k=L:j.sibling=L,j=L,C=_}if(E===y.length)return n(x,C),ve&&Qn(x,E),k;if(C===null){for(;E<y.length;E++)C=h(x,y[E],b),C!==null&&(m=i(C,m,E),j===null?k=C:j.sibling=C,j=C);return ve&&Qn(x,E),k}for(C=r(x,C);E<y.length;E++)_=v(C,x,E,y[E],b),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?E:_.key),m=i(_,m,E),j===null?k=_:j.sibling=_,j=_);return t&&C.forEach(function(M){return e(x,M)}),ve&&Qn(x,E),k}function w(x,m,y,b){var k=Ls(y);if(typeof k!="function")throw Error(O(150));if(y=k.call(y),y==null)throw Error(O(151));for(var j=k=null,C=m,E=m=0,_=null,L=y.next();C!==null&&!L.done;E++,L=y.next()){C.index>E?(_=C,C=null):_=C.sibling;var M=p(x,C,L.value,b);if(M===null){C===null&&(C=_);break}t&&C&&M.alternate===null&&e(x,C),m=i(M,m,E),j===null?k=M:j.sibling=M,j=M,C=_}if(L.done)return n(x,C),ve&&Qn(x,E),k;if(C===null){for(;!L.done;E++,L=y.next())L=h(x,L.value,b),L!==null&&(m=i(L,m,E),j===null?k=L:j.sibling=L,j=L);return ve&&Qn(x,E),k}for(C=r(x,C);!L.done;E++,L=y.next())L=v(C,x,E,L.value,b),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?E:L.key),m=i(L,m,E),j===null?k=L:j.sibling=L,j=L);return t&&C.forEach(function(U){return e(x,U)}),ve&&Qn(x,E),k}function S(x,m,y,b){if(typeof y=="object"&&y!==null&&y.type===Ar&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:e:{for(var k=y.key,j=m;j!==null;){if(j.key===k){if(k=y.type,k===Ar){if(j.tag===7){n(x,j.sibling),m=s(j,y.props.children),m.return=x,x=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===xn&&Ff(k)===j.type){n(x,j.sibling),m=s(j,y.props),m.ref=Os(x,j,y),m.return=x,x=m;break e}n(x,j);break}else e(x,j);j=j.sibling}y.type===Ar?(m=hr(y.props.children,x.mode,b,y.key),m.return=x,x=m):(b=Qa(y.type,y.key,y.props,null,x.mode,b),b.ref=Os(x,m,y),b.return=x,x=b)}return a(x);case Or:e:{for(j=y.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(x,m.sibling),m=s(m,y.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else e(x,m);m=m.sibling}m=Jl(y,x.mode,b),m.return=x,x=m}return a(x);case xn:return j=y._init,S(x,m,j(y._payload),b)}if(Vs(y))return g(x,m,y,b);if(Ls(y))return w(x,m,y,b);Ca(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,y),m.return=x,x=m):(n(x,m),m=Zl(y,x.mode,b),m.return=x,x=m),a(x)):n(x,m)}return S}var cs=Fv(!0),zv=Fv(!1),go=Wn(null),vo=null,Fr=null,bd=null;function kd(){bd=Fr=vo=null}function Sd(t){var e=go.current;me(go),t._currentValue=e}function tu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ns(t,e){vo=t,bd=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function _t(t){var e=t._currentValue;if(bd!==t)if(t={context:t,memoizedValue:e,next:null},Fr===null){if(vo===null)throw Error(O(308));Fr=t,vo.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return e}var or=null;function jd(t){or===null?or=[t]:or.push(t)}function Wv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jd(e)):(n.next=s.next,s.next=n),e.interleaved=n,cn(t,r)}function cn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wn=!1;function Cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function An(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,cn(t,n)}return s=r.interleaved,s===null?(e.next=e,jd(r)):(e.next=s.next,s.next=e),r.interleaved=e,cn(t,n)}function Ka(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ud(t,n)}}function zf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yo(t,e,n,r){var s=t.updateQueue;wn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var p=o.lane,v=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,w=o;switch(p=e,v=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(v,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,p=typeof g=="function"?g.call(v,h,p):g,p==null)break e;h=Se({},h,p);break e;case 2:wn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vr|=a,t.lanes=a,t.memoizedState=h}}function Wf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var Gi={},Kt=Wn(Gi),ki=Wn(Gi),Si=Wn(Gi);function lr(t){if(t===Gi)throw Error(O(174));return t}function Ed(t,e){switch(fe(Si,e),fe(ki,t),fe(Kt,Gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rc(e,t)}me(Kt),fe(Kt,e)}function us(){me(Kt),me(ki),me(Si)}function Kv(t){lr(Si.current);var e=lr(Kt.current),n=Rc(e,t.type);e!==n&&(fe(ki,t),fe(Kt,n))}function _d(t){ki.current===t&&(me(Kt),me(ki))}var xe=Wn(0);function xo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zl=[];function Ld(){for(var t=0;t<zl.length;t++)zl[t]._workInProgressVersionPrimary=null;zl.length=0}var Ga=hn.ReactCurrentDispatcher,Wl=hn.ReactCurrentBatchConfig,gr=0,be=null,Ae=null,De=null,wo=!1,ei=!1,ji=0,ak=0;function He(){throw Error(O(321))}function Pd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,s,i){if(gr=i,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ga.current=t===null||t.memoizedState===null?uk:dk,t=n(r,s),ei){i=0;do{if(ei=!1,ji=0,25<=i)throw Error(O(301));i+=1,De=Ae=null,e.updateQueue=null,Ga.current=hk,t=n(r,s)}while(ei)}if(Ga.current=bo,e=Ae!==null&&Ae.next!==null,gr=0,De=Ae=be=null,wo=!1,e)throw Error(O(300));return t}function Td(){var t=ji!==0;return ji=0,t}function zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?be.memoizedState=De=t:De=De.next=t,De}function Lt(){if(Ae===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var e=De===null?be.memoizedState:De.next;if(e!==null)De=e,Ae=t;else{if(t===null)throw Error(O(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},De===null?be.memoizedState=De=t:De=De.next=t}return De}function Ci(t,e){return typeof e=="function"?e(t):e}function Hl(t){var e=Lt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((gr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,be.lanes|=d,vr|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=o,$t(r,e.memoizedState)||(st=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,be.lanes|=i,vr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kl(t){var e=Lt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);$t(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gv(){}function qv(t,e){var n=be,r=Lt(),s=e(),i=!$t(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,Md(Yv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Ei(9,Jv.bind(null,n,r,s,e),void 0,null),Be===null)throw Error(O(349));gr&30||Zv(n,e,s)}return s}function Zv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jv(t,e,n,r){e.value=n,e.getSnapshot=r,Qv(e)&&Xv(t)}function Yv(t,e,n){return n(function(){Qv(e)&&Xv(t)})}function Qv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function Xv(t){var e=cn(t,1);e!==null&&Ut(e,t,1,-1)}function Hf(t){var e=zt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e.queue=t,t=t.dispatch=ck.bind(null,be,t),[e.memoizedState,t]}function Ei(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ey(){return Lt().memoizedState}function qa(t,e,n,r){var s=zt();be.flags|=t,s.memoizedState=Ei(1|e,n,void 0,r===void 0?null:r)}function tl(t,e,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var a=Ae.memoizedState;if(i=a.destroy,r!==null&&Pd(r,a.deps)){s.memoizedState=Ei(e,n,i,r);return}}be.flags|=t,s.memoizedState=Ei(1|e,n,i,r)}function Kf(t,e){return qa(8390656,8,t,e)}function Md(t,e){return tl(2048,8,t,e)}function ty(t,e){return tl(4,2,t,e)}function ny(t,e){return tl(4,4,t,e)}function ry(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sy(t,e,n){return n=n!=null?n.concat([t]):null,tl(4,4,ry.bind(null,e,t),n)}function Od(){}function iy(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ay(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oy(t,e,n){return gr&21?($t(n,e)||(n=hv(),be.lanes|=n,vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function ok(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Wl.transition;Wl.transition={};try{t(!1),e()}finally{ue=n,Wl.transition=r}}function ly(){return Lt().memoizedState}function lk(t,e,n){var r=In(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cy(t))uy(e,n);else if(n=Wv(t,e,n,r),n!==null){var s=Xe();Ut(n,t,r,s),dy(n,e,r)}}function ck(t,e,n){var r=In(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cy(t))uy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,$t(o,a)){var c=e.interleaved;c===null?(s.next=s,jd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Wv(t,e,s,r),n!==null&&(s=Xe(),Ut(n,t,r,s),dy(n,e,r))}}function cy(t){var e=t.alternate;return t===be||e!==null&&e===be}function uy(t,e){ei=wo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ud(t,n)}}var bo={readContext:_t,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},uk={readContext:_t,useCallback:function(t,e){return zt().memoizedState=[t,e===void 0?null:e],t},useContext:_t,useEffect:Kf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qa(4194308,4,ry.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var n=zt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lk.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=zt();return t={current:t},e.memoizedState=t},useState:Hf,useDebugValue:Od,useDeferredValue:function(t){return zt().memoizedState=t},useTransition:function(){var t=Hf(!1),e=t[0];return t=ok.bind(null,t[1]),zt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,s=zt();if(ve){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Be===null)throw Error(O(349));gr&30||Zv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Kf(Yv.bind(null,r,i,t),[t]),r.flags|=2048,Ei(9,Jv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zt(),e=Be.identifierPrefix;if(ve){var n=nn,r=tn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ji++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ak++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dk={readContext:_t,useCallback:iy,useContext:_t,useEffect:Md,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Hl,useRef:ey,useState:function(){return Hl(Ci)},useDebugValue:Od,useDeferredValue:function(t){var e=Lt();return oy(e,Ae.memoizedState,t)},useTransition:function(){var t=Hl(Ci)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:qv,useId:ly,unstable_isNewReconciler:!1},hk={readContext:_t,useCallback:iy,useContext:_t,useEffect:Md,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Kl,useRef:ey,useState:function(){return Kl(Ci)},useDebugValue:Od,useDeferredValue:function(t){var e=Lt();return Ae===null?e.memoizedState=t:oy(e,Ae.memoizedState,t)},useTransition:function(){var t=Kl(Ci)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:qv,useId:ly,unstable_isNewReconciler:!1};function Ot(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nl={isMounted:function(t){return(t=t._reactInternals)?wr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xe(),s=In(t),i=rn(r,s);i.payload=e,n!=null&&(i.callback=n),e=An(t,i,s),e!==null&&(Ut(e,t,s,r),Ka(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xe(),s=In(t),i=rn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=An(t,i,s),e!==null&&(Ut(e,t,s,r),Ka(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),r=In(t),s=rn(n,r);s.tag=2,e!=null&&(s.callback=e),e=An(t,s,r),e!==null&&(Ut(e,t,r,n),Ka(e,t,r))}};function Gf(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!yi(n,r)||!yi(s,i):!0}function hy(t,e,n){var r=!1,s=$n,i=e.contextType;return typeof i=="object"&&i!==null?i=_t(i):(s=at(e)?pr:Ye.current,r=e.contextTypes,i=(r=r!=null)?os(t,s):$n),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nl.enqueueReplaceState(e,e.state,null)}function ru(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Cd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_t(i):(i=at(e)?pr:Ye.current,s.context=os(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nl.enqueueReplaceState(s,s.state,null),yo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ds(t,e){try{var n="",r=e;do n+=$b(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fk=typeof WeakMap=="function"?WeakMap:Map;function fy(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){So||(So=!0,pu=r),su(t,e)},n}function py(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){su(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){su(t,e),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Zf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_k.bind(null,t,e,n),e.then(t,t))}function Jf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,An(n,e,1))),n.lanes|=1),t)}var pk=hn.ReactCurrentOwner,st=!1;function Qe(t,e,n,r){e.child=t===null?zv(e,null,n,r):cs(e,t.child,n,r)}function Qf(t,e,n,r,s){n=n.render;var i=e.ref;return ns(e,s),r=Nd(t,e,n,r,i,s),n=Td(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ve&&n&&yd(e),e.flags|=1,Qe(t,e,r,s),e.child)}function Xf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,my(t,e,i,r,s)):(t=Qa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(a,r)&&t.ref===e.ref)return un(t,e,s)}return e.flags|=1,t=Dn(i,r),t.ref=e.ref,t.return=e,e.child=t}function my(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(yi(i,r)&&t.ref===e.ref)if(st=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,un(t,e,s)}return iu(t,e,n,r,s)}function gy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Wr,ct),ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Wr,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Wr,ct),ct|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,fe(Wr,ct),ct|=r;return Qe(t,e,s,n),e.child}function vy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iu(t,e,n,r,s){var i=at(n)?pr:Ye.current;return i=os(e,i),ns(e,s),n=Nd(t,e,n,r,i,s),r=Td(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ve&&r&&yd(e),e.flags|=1,Qe(t,e,n,s),e.child)}function ep(t,e,n,r,s){if(at(n)){var i=!0;fo(e)}else i=!1;if(ns(e,s),e.stateNode===null)Za(t,e),hy(e,n,r),ru(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=at(n)?pr:Ye.current,u=os(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&qf(e,a,r,u),wn=!1;var p=e.memoizedState;a.state=p,yo(e,r,a,s),c=e.memoizedState,o!==r||p!==c||it.current||wn?(typeof d=="function"&&(nu(e,n,d,r),c=e.memoizedState),(o=wn||Gf(e,n,o,r,p,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Hv(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ot(e.type,o),a.props=u,h=e.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=at(n)?pr:Ye.current,c=os(e,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||p!==c)&&qf(e,a,r,c),wn=!1,p=e.memoizedState,a.state=p,yo(e,r,a,s);var g=e.memoizedState;o!==h||p!==g||it.current||wn?(typeof v=="function"&&(nu(e,n,v,r),g=e.memoizedState),(u=wn||Gf(e,n,u,r,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return au(t,e,n,r,i,s)}function au(t,e,n,r,s,i){vy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Uf(e,n,!1),un(t,e,i);r=e.stateNode,pk.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=cs(e,t.child,null,i),e.child=cs(e,null,o,i)):Qe(t,e,o,i),e.memoizedState=r.state,s&&Uf(e,n,!0),e.child}function yy(t){var e=t.stateNode;e.pendingContext?Bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Bf(t,e.context,!1),Ed(t,e.containerInfo)}function tp(t,e,n,r,s){return ls(),wd(s),e.flags|=256,Qe(t,e,n,r),e.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function lu(t){return{baseLanes:t,cachePool:null,transitions:null}}function xy(t,e,n){var r=e.pendingProps,s=xe.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(xe,s&1),t===null)return eu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=il(a,r,0,null),t=hr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lu(n),e.memoizedState=ou,t):Ad(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return mk(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Dn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Dn(o,i):(i=hr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?lu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ou,r}return i=t.child,t=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ad(t,e){return e=il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ea(t,e,n,r){return r!==null&&wd(r),cs(e,t.child,null,n),t=Ad(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mk(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Gl(Error(O(422))),Ea(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=il({mode:"visible",children:r.children},s,0,null),i=hr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&cs(e,t.child,null,a),e.child.memoizedState=lu(a),e.memoizedState=ou,i);if(!(e.mode&1))return Ea(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(O(419)),r=Gl(i,r,void 0),Ea(t,e,a,r)}if(o=(a&t.childLanes)!==0,st||o){if(r=Be,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,cn(t,s),Ut(r,t,s,-1))}return $d(),r=Gl(Error(O(421))),Ea(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Lk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ft=On(s.nextSibling),pt=e,ve=!0,Dt=null,t!==null&&(St[jt++]=tn,St[jt++]=nn,St[jt++]=mr,tn=t.id,nn=t.overflow,mr=e),e=Ad(e,r.children),e.flags|=4096,e)}function np(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tu(t.return,e,n)}function ql(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Qe(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&np(t,n,e);else if(t.tag===19)np(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ql(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ql(e,!0,n,null,i);break;case"together":ql(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gk(t,e,n){switch(e.tag){case 3:yy(e),ls();break;case 5:Kv(e);break;case 1:at(e.type)&&fo(e);break;case 4:Ed(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;fe(go,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?xy(t,e,n):(fe(xe,xe.current&1),t=un(t,e,n),t!==null?t.sibling:null);fe(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,gy(t,e,n)}return un(t,e,n)}var by,cu,ky,Sy;by=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};ky=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,lr(Kt.current);var i=null;switch(n){case"input":s=Tc(t,s),r=Tc(t,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=Ac(t,s),r=Ac(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uo)}Ic(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(di.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(di.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Sy=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vk(t,e,n){var r=e.pendingProps;switch(xd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(e),null;case 1:return at(e.type)&&ho(),Ke(e),null;case 3:return r=e.stateNode,us(),me(it),me(Ye),Ld(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(vu(Dt),Dt=null))),cu(t,e),Ke(e),null;case 5:_d(e);var s=lr(Si.current);if(n=e.type,t!==null&&e.stateNode!=null)ky(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ke(e),null}if(t=lr(Kt.current),ja(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wt]=e,r[bi]=i,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<zs.length;s++)pe(zs[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":df(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":ff(r,i),pe("invalid",r)}Ic(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Sa(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Sa(r.textContent,o,t),s=["children",""+o]):di.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pe("scroll",r)}switch(n){case"input":ma(r),hf(r,i,!0);break;case"textarea":ma(r),pf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Wt]=e,t[bi]=r,by(t,e,!1,!1),e.stateNode=t;e:{switch(a=Dc(n,r),n){case"dialog":pe("cancel",t),pe("close",t),s=r;break;case"iframe":case"object":case"embed":pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<zs.length;s++)pe(zs[s],t);s=r;break;case"source":pe("error",t),s=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=r;break;case"details":pe("toggle",t),s=r;break;case"input":df(t,r),s=Tc(t,r),pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),pe("invalid",t);break;case"textarea":ff(t,r),s=Ac(t,r),pe("invalid",t);break;default:s=r}Ic(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ev(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q0(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hi(t,c):typeof c=="number"&&hi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(di.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pe("scroll",t):c!=null&&sd(t,i,c,a))}switch(n){case"input":ma(t),hf(t,r,!1);break;case"textarea":ma(t),pf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ke(e),null;case 6:if(t&&e.stateNode!=null)Sy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=lr(Si.current),lr(Kt.current),ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wt]=e,(i=r.nodeValue!==n)&&(t=pt,t!==null))switch(t.tag){case 3:Sa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=e,e.stateNode=r}return Ke(e),null;case 13:if(me(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ve&&ft!==null&&e.mode&1&&!(e.flags&128))Vv(),ls(),e.flags|=98560,i=!1;else if(i=ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Wt]=e}else ls(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ke(e),i=!1}else Dt!==null&&(vu(Dt),Dt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Re===0&&(Re=3):$d())),e.updateQueue!==null&&(e.flags|=4),Ke(e),null);case 4:return us(),cu(t,e),t===null&&xi(e.stateNode.containerInfo),Ke(e),null;case 10:return Sd(e.type._context),Ke(e),null;case 17:return at(e.type)&&ho(),Ke(e),null;case 19:if(me(xe),i=e.memoizedState,i===null)return Ke(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)As(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xo(t),a!==null){for(e.flags|=128,As(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pe()>hs&&(e.flags|=128,r=!0,As(i,!1),e.lanes=4194304)}else{if(!r)if(t=xo(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ve)return Ke(e),null}else 2*Pe()-i.renderingStartTime>hs&&n!==1073741824&&(e.flags|=128,r=!0,As(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pe(),e.sibling=null,n=xe.current,fe(xe,r?n&1|2:n&1),e):(Ke(e),null);case 22:case 23:return Ud(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(Ke(e),e.subtreeFlags&6&&(e.flags|=8192)):Ke(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function yk(t,e){switch(xd(e),e.tag){case 1:return at(e.type)&&ho(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return us(),me(it),me(Ye),Ld(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _d(e),null;case 13:if(me(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(xe),null;case 4:return us(),null;case 10:return Sd(e.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var _a=!1,Ze=!1,xk=typeof WeakSet=="function"?WeakSet:Set,D=null;function zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function uu(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var rp=!1;function wk(t,e){if(Gc=oo,t=Lv(),vd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++u===s&&(o=a),p===i&&++d===r&&(c=a),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qc={focusedElem:t,selectionRange:n},oo=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,S=g.memoizedState,x=e.stateNode,m=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ot(e.type,w),S);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){Ee(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return g=rp,rp=!1,g}function ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&uu(e,n,i)}s=s.next}while(s!==r)}}function rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jy(t){var e=t.alternate;e!==null&&(t.alternate=null,jy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[bi],delete e[Yc],delete e[nk],delete e[rk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cy(t){return t.tag===5||t.tag===3||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uo));else if(r!==4&&(t=t.child,t!==null))for(hu(t,e,n),t=t.sibling;t!==null;)hu(t,e,n),t=t.sibling}function fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}var Ve=null,Rt=!1;function gn(t,e,n){for(n=n.child;n!==null;)Ey(t,e,n),n=n.sibling}function Ey(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Zo,n)}catch{}switch(n.tag){case 5:Ze||zr(n,e);case 6:var r=Ve,s=Rt;Ve=null,gn(t,e,n),Ve=r,Rt=s,Ve!==null&&(Rt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Rt?(t=Ve,n=n.stateNode,t.nodeType===8?Vl(t.parentNode,n):t.nodeType===1&&Vl(t,n),gi(t)):Vl(Ve,n.stateNode));break;case 4:r=Ve,s=Rt,Ve=n.stateNode.containerInfo,Rt=!0,gn(t,e,n),Ve=r,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&uu(n,e,a),s=s.next}while(s!==r)}gn(t,e,n);break;case 1:if(!Ze&&(zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ee(n,e,o)}gn(t,e,n);break;case 21:gn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,gn(t,e,n),Ze=r):gn(t,e,n);break;default:gn(t,e,n)}}function ip(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xk),e.forEach(function(r){var s=Pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ve=o.stateNode,Rt=!1;break e;case 3:Ve=o.stateNode.containerInfo,Rt=!0;break e;case 4:Ve=o.stateNode.containerInfo,Rt=!0;break e}o=o.return}if(Ve===null)throw Error(O(160));Ey(i,a,s),Ve=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ee(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_y(e,t),e=e.sibling}function _y(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Ft(t),r&4){try{ti(3,t,t.return),rl(3,t)}catch(w){Ee(t,t.return,w)}try{ti(5,t,t.return)}catch(w){Ee(t,t.return,w)}}break;case 1:Nt(e,t),Ft(t),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Nt(e,t),Ft(t),r&512&&n!==null&&zr(n,n.return),t.flags&32){var s=t.stateNode;try{hi(s,"")}catch(w){Ee(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Z0(s,i),Dc(o,a);var u=Dc(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?ev(s,h):d==="dangerouslySetInnerHTML"?Q0(s,h):d==="children"?hi(s,h):sd(s,d,h,u)}switch(o){case"input":Mc(s,i);break;case"textarea":J0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Qr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Qr(s,!!i.multiple,i.defaultValue,!0):Qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[bi]=i}catch(w){Ee(t,t.return,w)}}break;case 6:if(Nt(e,t),Ft(t),r&4){if(t.stateNode===null)throw Error(O(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ee(t,t.return,w)}}break;case 3:if(Nt(e,t),Ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(w){Ee(t,t.return,w)}break;case 4:Nt(e,t),Ft(t);break;case 13:Nt(e,t),Ft(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dd=Pe())),r&4&&ip(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||d,Nt(e,t),Ze=u):Nt(e,t),Ft(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(p=D,v=p.child,p.tag){case 0:case 11:case 14:case 15:ti(4,p,p.return);break;case 1:zr(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){Ee(r,n,w)}}break;case 5:zr(p,p.return);break;case 22:if(p.memoizedState!==null){op(h);continue}}v!==null?(v.return=p,D=v):op(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=X0("display",a))}catch(w){Ee(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Ee(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),Ft(t),r&4&&ip(t);break;case 21:break;default:Nt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cy(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hi(s,""),r.flags&=-33);var i=sp(t);fu(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=sp(t);hu(t,o,a);break;default:throw Error(O(161))}}catch(c){Ee(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bk(t,e,n){D=t,Ly(t)}function Ly(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||_a;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Ze;o=_a;var u=Ze;if(_a=a,(Ze=c)&&!u)for(D=s;D!==null;)a=D,c=a.child,a.tag===22&&a.memoizedState!==null?lp(s):c!==null?(c.return=a,D=c):lp(s);for(;i!==null;)D=i,Ly(i),i=i.sibling;D=s,_a=o,Ze=u}ap(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):ap(t)}}function ap(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||rl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ot(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Wf(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wf(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ze||e.flags&512&&du(e)}catch(p){Ee(e,e.return,p)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function op(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function lp(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(c){Ee(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ee(e,s,c)}}var i=e.return;try{du(e)}catch(c){Ee(e,i,c)}break;case 5:var a=e.return;try{du(e)}catch(c){Ee(e,a,c)}}}catch(c){Ee(e,e.return,c)}if(e===t){D=null;break}var o=e.sibling;if(o!==null){o.return=e.return,D=o;break}D=e.return}}var kk=Math.ceil,ko=hn.ReactCurrentDispatcher,Rd=hn.ReactCurrentOwner,Et=hn.ReactCurrentBatchConfig,ie=0,Be=null,Me=null,ze=0,ct=0,Wr=Wn(0),Re=0,_i=null,vr=0,sl=0,Id=0,ni=null,rt=null,Dd=0,hs=1/0,Qt=null,So=!1,pu=null,Rn=null,La=!1,_n=null,jo=0,ri=0,mu=null,Ja=-1,Ya=0;function Xe(){return ie&6?Pe():Ja!==-1?Ja:Ja=Pe()}function In(t){return t.mode&1?ie&2&&ze!==0?ze&-ze:ik.transition!==null?(Ya===0&&(Ya=hv()),Ya):(t=ue,t!==0||(t=window.event,t=t===void 0?16:xv(t.type)),t):1}function Ut(t,e,n,r){if(50<ri)throw ri=0,mu=null,Error(O(185));Wi(t,n,r),(!(ie&2)||t!==Be)&&(t===Be&&(!(ie&2)&&(sl|=n),Re===4&&jn(t,ze)),ot(t,r),n===1&&ie===0&&!(e.mode&1)&&(hs=Pe()+500,el&&Hn()))}function ot(t,e){var n=t.callbackNode;i1(t,e);var r=ao(t,t===Be?ze:0);if(r===0)n!==null&&vf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vf(n),e===1)t.tag===0?sk(cp.bind(null,t)):Bv(cp.bind(null,t)),ek(function(){!(ie&6)&&Hn()}),n=null;else{switch(fv(r)){case 1:n=cd;break;case 4:n=uv;break;case 16:n=io;break;case 536870912:n=dv;break;default:n=io}n=Iy(n,Py.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Py(t,e){if(Ja=-1,Ya=0,ie&6)throw Error(O(327));var n=t.callbackNode;if(rs()&&t.callbackNode!==n)return null;var r=ao(t,t===Be?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Co(t,r);else{e=r;var s=ie;ie|=2;var i=Ty();(Be!==t||ze!==e)&&(Qt=null,hs=Pe()+500,dr(t,e));do try{Ck();break}catch(o){Ny(t,o)}while(!0);kd(),ko.current=i,ie=s,Me!==null?e=0:(Be=null,ze=0,e=Re)}if(e!==0){if(e===2&&(s=Fc(t),s!==0&&(r=s,e=gu(t,s))),e===1)throw n=_i,dr(t,0),jn(t,r),ot(t,Pe()),n;if(e===6)jn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Sk(s)&&(e=Co(t,r),e===2&&(i=Fc(t),i!==0&&(r=i,e=gu(t,i))),e===1))throw n=_i,dr(t,0),jn(t,r),ot(t,Pe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Xn(t,rt,Qt);break;case 3:if(jn(t,r),(r&130023424)===r&&(e=Dd+500-Pe(),10<e)){if(ao(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Jc(Xn.bind(null,t,rt,Qt),e);break}Xn(t,rt,Qt);break;case 4:if(jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Bt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kk(r/1960))-r,10<r){t.timeoutHandle=Jc(Xn.bind(null,t,rt,Qt),r);break}Xn(t,rt,Qt);break;case 5:Xn(t,rt,Qt);break;default:throw Error(O(329))}}}return ot(t,Pe()),t.callbackNode===n?Py.bind(null,t):null}function gu(t,e){var n=ni;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=Co(t,e),t!==2&&(e=rt,rt=n,e!==null&&vu(e)),t}function vu(t){rt===null?rt=t:rt.push.apply(rt,t)}function Sk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!$t(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jn(t,e){for(e&=~Id,e&=~sl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function cp(t){if(ie&6)throw Error(O(327));rs();var e=ao(t,0);if(!(e&1))return ot(t,Pe()),null;var n=Co(t,e);if(t.tag!==0&&n===2){var r=Fc(t);r!==0&&(e=r,n=gu(t,r))}if(n===1)throw n=_i,dr(t,0),jn(t,e),ot(t,Pe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xn(t,rt,Qt),ot(t,Pe()),null}function Bd(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(hs=Pe()+500,el&&Hn())}}function yr(t){_n!==null&&_n.tag===0&&!(ie&6)&&rs();var e=ie;ie|=1;var n=Et.transition,r=ue;try{if(Et.transition=null,ue=1,t)return t()}finally{ue=r,Et.transition=n,ie=e,!(ie&6)&&Hn()}}function Ud(){ct=Wr.current,me(Wr)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X1(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(xd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ho();break;case 3:us(),me(it),me(Ye),Ld();break;case 5:_d(r);break;case 4:us();break;case 13:me(xe);break;case 19:me(xe);break;case 10:Sd(r.type._context);break;case 22:case 23:Ud()}n=n.return}if(Be=t,Me=t=Dn(t.current,null),ze=ct=e,Re=0,_i=null,Id=sl=vr=0,rt=ni=null,or!==null){for(e=0;e<or.length;e++)if(n=or[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}or=null}return t}function Ny(t,e){do{var n=Me;try{if(kd(),Ga.current=bo,wo){for(var r=be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wo=!1}if(gr=0,De=Ae=be=null,ei=!1,ji=0,Rd.current=null,n===null||n.return===null){Re=1,_i=e,Me=null;break}e:{var i=t,a=n.return,o=n,c=e;if(e=ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Jf(a);if(v!==null){v.flags&=-257,Yf(v,a,o,i,e),v.mode&1&&Zf(i,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(c),e.updateQueue=w}else g.add(c);break e}else{if(!(e&1)){Zf(i,u,e),$d();break e}c=Error(O(426))}}else if(ve&&o.mode&1){var S=Jf(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Yf(S,a,o,i,e),wd(ds(c,o));break e}}i=c=ds(c,o),Re!==4&&(Re=2),ni===null?ni=[i]:ni.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=fy(i,c,e);zf(i,x);break e;case 1:o=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Rn===null||!Rn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=py(i,o,e);zf(i,b);break e}}i=i.return}while(i!==null)}Oy(n)}catch(k){e=k,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function Ty(){var t=ko.current;return ko.current=bo,t===null?bo:t}function $d(){(Re===0||Re===3||Re===2)&&(Re=4),Be===null||!(vr&268435455)&&!(sl&268435455)||jn(Be,ze)}function Co(t,e){var n=ie;ie|=2;var r=Ty();(Be!==t||ze!==e)&&(Qt=null,dr(t,e));do try{jk();break}catch(s){Ny(t,s)}while(!0);if(kd(),ie=n,ko.current=r,Me!==null)throw Error(O(261));return Be=null,ze=0,Re}function jk(){for(;Me!==null;)My(Me)}function Ck(){for(;Me!==null&&!Jb();)My(Me)}function My(t){var e=Ry(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?Oy(t):Me=e,Rd.current=null}function Oy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yk(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Me=null;return}}else if(n=vk(n,e,ct),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Re===0&&(Re=5)}function Xn(t,e,n){var r=ue,s=Et.transition;try{Et.transition=null,ue=1,Ek(t,e,n,r)}finally{Et.transition=s,ue=r}return null}function Ek(t,e,n,r){do rs();while(_n!==null);if(ie&6)throw Error(O(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(a1(t,i),t===Be&&(Me=Be=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,Iy(io,function(){return rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Et.transition,Et.transition=null;var a=ue;ue=1;var o=ie;ie|=4,Rd.current=null,wk(t,n),_y(n,t),K1(qc),oo=!!Gc,qc=Gc=null,t.current=n,bk(n),Yb(),ie=o,ue=a,Et.transition=i}else t.current=n;if(La&&(La=!1,_n=t,jo=s),i=t.pendingLanes,i===0&&(Rn=null),e1(n.stateNode),ot(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(So)throw So=!1,t=pu,pu=null,t;return jo&1&&t.tag!==0&&rs(),i=t.pendingLanes,i&1?t===mu?ri++:(ri=0,mu=t):ri=0,Hn(),null}function rs(){if(_n!==null){var t=fv(jo),e=Et.transition,n=ue;try{if(Et.transition=null,ue=16>t?16:t,_n===null)var r=!1;else{if(t=_n,_n=null,jo=0,ie&6)throw Error(O(331));var s=ie;for(ie|=4,D=t.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ti(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var p=d.sibling,v=d.return;if(jy(d),d===u){D=null;break}if(p!==null){p.return=v,D=p;break}D=v}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ti(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,D=x;break e}D=i.return}}var m=t.current;for(D=m;D!==null;){a=D;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,D=y;else e:for(a=m;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:rl(9,o)}}catch(k){Ee(o,o.return,k)}if(o===a){D=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,D=b;break e}D=o.return}}if(ie=s,Hn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Zo,t)}catch{}r=!0}return r}finally{ue=n,Et.transition=e}}return!1}function up(t,e,n){e=ds(n,e),e=fy(t,e,1),t=An(t,e,1),e=Xe(),t!==null&&(Wi(t,1,e),ot(t,e))}function Ee(t,e,n){if(t.tag===3)up(t,t,n);else for(;e!==null;){if(e.tag===3){up(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){t=ds(n,t),t=py(e,t,1),e=An(e,t,1),t=Xe(),e!==null&&(Wi(e,1,t),ot(e,t));break}}e=e.return}}function _k(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(ze&n)===n&&(Re===4||Re===3&&(ze&130023424)===ze&&500>Pe()-Dd?dr(t,0):Id|=n),ot(t,e)}function Ay(t,e){e===0&&(t.mode&1?(e=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):e=1);var n=Xe();t=cn(t,e),t!==null&&(Wi(t,e,n),ot(t,n))}function Lk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ay(t,n)}function Pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Ay(t,n)}var Ry;Ry=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,gk(t,e,n);st=!!(t.flags&131072)}else st=!1,ve&&e.flags&1048576&&Uv(e,mo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Za(t,e),t=e.pendingProps;var s=os(e,Ye.current);ns(e,n),s=Nd(null,e,r,t,s,n);var i=Td();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(i=!0,fo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cd(e),s.updater=nl,e.stateNode=s,s._reactInternals=e,ru(e,r,t,n),e=au(null,e,r,!0,i,n)):(e.tag=0,ve&&i&&yd(e),Qe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Za(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Tk(r),t=Ot(r,t),s){case 0:e=iu(null,e,r,t,n);break e;case 1:e=ep(null,e,r,t,n);break e;case 11:e=Qf(null,e,r,t,n);break e;case 14:e=Xf(null,e,r,Ot(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),iu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),ep(t,e,r,s,n);case 3:e:{if(yy(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Hv(t,e),yo(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ds(Error(O(423)),e),e=tp(t,e,r,n,s);break e}else if(r!==s){s=ds(Error(O(424)),e),e=tp(t,e,r,n,s);break e}else for(ft=On(e.stateNode.containerInfo.firstChild),pt=e,ve=!0,Dt=null,n=zv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ls(),r===s){e=un(t,e,n);break e}Qe(t,e,r,n)}e=e.child}return e;case 5:return Kv(e),t===null&&eu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Zc(r,s)?a=null:i!==null&&Zc(r,i)&&(e.flags|=32),vy(t,e),Qe(t,e,a,n),e.child;case 6:return t===null&&eu(e),null;case 13:return xy(t,e,n);case 4:return Ed(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,n):Qe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),Qf(t,e,r,s,n);case 7:return Qe(t,e,e.pendingProps,n),e.child;case 8:return Qe(t,e,e.pendingProps.children,n),e.child;case 12:return Qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,fe(go,r._currentValue),r._currentValue=a,i!==null)if($t(i.value,a)){if(i.children===s.children&&!it.current){e=un(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=rn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tu(i.return,n,e),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(O(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),tu(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Qe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ns(e,n),s=_t(s),r=r(s),e.flags|=1,Qe(t,e,r,n),e.child;case 14:return r=e.type,s=Ot(r,e.pendingProps),s=Ot(r.type,s),Xf(t,e,r,s,n);case 15:return my(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ot(r,s),Za(t,e),e.tag=1,at(r)?(t=!0,fo(e)):t=!1,ns(e,n),hy(e,r,s),ru(e,r,s,n),au(null,e,r,!0,t,n);case 19:return wy(t,e,n);case 22:return gy(t,e,n)}throw Error(O(156,e.tag))};function Iy(t,e){return cv(t,e)}function Nk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(t,e,n,r){return new Nk(t,e,n,r)}function Vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tk(t){if(typeof t=="function")return Vd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ad)return 11;if(t===od)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=Ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qa(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Vd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ar:return hr(n.children,s,i,e);case id:a=8,s|=8;break;case _c:return t=Ct(12,n,e,s|2),t.elementType=_c,t.lanes=i,t;case Lc:return t=Ct(13,n,e,s),t.elementType=Lc,t.lanes=i,t;case Pc:return t=Ct(19,n,e,s),t.elementType=Pc,t.lanes=i,t;case K0:return il(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W0:a=10;break e;case H0:a=9;break e;case ad:a=11;break e;case od:a=14;break e;case xn:a=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Ct(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hr(t,e,n,r){return t=Ct(7,t,r,e),t.lanes=n,t}function il(t,e,n,r){return t=Ct(22,t,r,e),t.elementType=K0,t.lanes=n,t.stateNode={isHidden:!1},t}function Zl(t,e,n){return t=Ct(6,t,null,e),t.lanes=n,t}function Jl(t,e,n){return e=Ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fd(t,e,n,r,s,i,a,o,c){return t=new Mk(t,e,n,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ct(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cd(i),t}function Ok(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Dy(t){if(!t)return $n;t=t._reactInternals;e:{if(wr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(at(n))return Dv(t,n,e)}return e}function By(t,e,n,r,s,i,a,o,c){return t=Fd(n,r,!0,t,s,i,a,o,c),t.context=Dy(null),n=t.current,r=Xe(),s=In(n),i=rn(r,s),i.callback=e??null,An(n,i,s),t.current.lanes=s,Wi(t,s,r),ot(t,r),t}function al(t,e,n,r){var s=e.current,i=Xe(),a=In(s);return n=Dy(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=An(s,e,a),t!==null&&(Ut(t,s,a,i),Ka(t,s,a)),a}function Eo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zd(t,e){dp(t,e),(t=t.alternate)&&dp(t,e)}function Ak(){return null}var Uy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wd(t){this._internalRoot=t}ol.prototype.render=Wd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));al(t,e,null,null)};ol.prototype.unmount=Wd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yr(function(){al(null,t,null,null)}),e[ln]=null}};function ol(t){this._internalRoot=t}ol.prototype.unstable_scheduleHydration=function(t){if(t){var e=gv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&yv(t)}};function Hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hp(){}function Rk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Eo(a);i.call(u)}}var a=By(e,r,t,0,null,!1,!1,"",hp);return t._reactRootContainer=a,t[ln]=a.current,xi(t.nodeType===8?t.parentNode:t),yr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Eo(c);o.call(u)}}var c=Fd(t,0,!1,null,null,!1,!1,"",hp);return t._reactRootContainer=c,t[ln]=c.current,xi(t.nodeType===8?t.parentNode:t),yr(function(){al(e,c,n,r)}),c}function cl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Eo(a);o.call(c)}}al(e,a,t,s)}else a=Rk(n,e,t,s,r);return Eo(a)}pv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(ud(e,n|1),ot(e,Pe()),!(ie&6)&&(hs=Pe()+500,Hn()))}break;case 13:yr(function(){var r=cn(t,1);if(r!==null){var s=Xe();Ut(r,t,1,s)}}),zd(t,1)}};dd=function(t){if(t.tag===13){var e=cn(t,134217728);if(e!==null){var n=Xe();Ut(e,t,134217728,n)}zd(t,134217728)}};mv=function(t){if(t.tag===13){var e=In(t),n=cn(t,e);if(n!==null){var r=Xe();Ut(n,t,e,r)}zd(t,e)}};gv=function(){return ue};vv=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Uc=function(t,e,n){switch(e){case"input":if(Mc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xo(r);if(!s)throw Error(O(90));q0(r),Mc(r,s)}}}break;case"textarea":J0(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};rv=Bd;sv=yr;var Ik={usingClientEntryPoint:!1,Events:[Ki,Br,Xo,tv,nv,Bd]},Rs={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dk={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ov(t),t===null?null:t.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||Ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pa.isDisabled&&Pa.supportsFiber)try{Zo=Pa.inject(Dk),Ht=Pa}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ik;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(e))throw Error(O(200));return Ok(t,e,null,n)};yt.createRoot=function(t,e){if(!Hd(t))throw Error(O(299));var n=!1,r="",s=Uy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,!1,r,s),t[ln]=e.current,xi(t.nodeType===8?t.parentNode:t),new Wd(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=ov(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return yr(t)};yt.hydrate=function(t,e,n){if(!ll(e))throw Error(O(200));return cl(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!Hd(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Uy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=By(e,null,t,1,n??null,s,!1,i,a),t[ln]=e.current,xi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ol(e)};yt.render=function(t,e,n){if(!ll(e))throw Error(O(200));return cl(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!ll(t))throw Error(O(40));return t._reactRootContainer?(yr(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};yt.unstable_batchedUpdates=Bd;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ll(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return cl(t,e,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function $y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($y)}catch(t){console.error(t)}}$y(),$0.exports=yt;var br=$0.exports,fp=br;Cc.createRoot=fp.createRoot,Cc.hydrateRoot=fp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}var Ln;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ln||(Ln={}));const pp="popstate";function Bk(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return yu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_o(s)}return $k(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uk(){return Math.random().toString(36).substr(2,8)}function mp(t,e){return{usr:t.state,key:t.key,idx:e}}function yu(t,e,n,r){return n===void 0&&(n=null),Li({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ws(e):e,{state:n,key:e&&e.key||r||Uk()})}function _o(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ws(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function $k(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o=Ln.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Li({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Ln.Pop;let S=d(),x=S==null?null:S-u;u=S,c&&c({action:o,location:w.location,delta:x})}function p(S,x){o=Ln.Push;let m=yu(w.location,S,x);u=d()+1;let y=mp(m,u),b=w.createHref(m);try{a.pushState(y,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}i&&c&&c({action:o,location:w.location,delta:1})}function v(S,x){o=Ln.Replace;let m=yu(w.location,S,x);u=d();let y=mp(m,u),b=w.createHref(m);a.replaceState(y,"",b),i&&c&&c({action:o,location:w.location,delta:0})}function g(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof S=="string"?S:_o(S);return m=m.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,x)}let w={get action(){return o},get location(){return t(s,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(pp,h),c=S,()=>{s.removeEventListener(pp,h),c=null}},createHref(S){return e(s,S)},createURL:g,encodeLocation(S){let x=g(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(S){return a.go(S)}};return w}var gp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gp||(gp={}));function Vk(t,e,n){return n===void 0&&(n="/"),Fk(t,e,n)}function Fk(t,e,n,r){let s=typeof e=="string"?ws(e):e,i=fs(s.pathname||"/",n);if(i==null)return null;let a=Vy(t);zk(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=eS(i);o=Qk(a[c],u)}return o}function Vy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Bn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ke(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vy(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Jk(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of Fy(i.path))s(i,a,c)}),e}function Fy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Fy(r.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function zk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wk=/^:[\w-]+$/,Hk=3,Kk=2,Gk=1,qk=10,Zk=-2,vp=t=>t==="*";function Jk(t,e){let n=t.split("/"),r=n.length;return n.some(vp)&&(r+=Zk),e&&(r+=Kk),n.filter(s=>!vp(s)).reduce((s,i)=>s+(Wk.test(i)?Hk:i===""?Gk:qk),r)}function Yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Qk(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=xu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Bn([i,h.pathname]),pathnameBase:iS(Bn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Bn([i,h.pathnameBase]))}return a}function xu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let w=o[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=o[h];return v&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Xk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nS=t=>tS.test(t);function rS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ws(t):t,i;if(n)if(nS(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=yp(n.substring(1),"/"):i=yp(n,e)}else i=e;return{pathname:i,search:aS(r),hash:oS(s)}}function yp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gd(t,e){let n=sS(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qd(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ws(t):(s=Li({},t),ke(!s.pathname||!s.pathname.includes("?"),Yl("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Yl("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Yl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}o=h>=0?e[h]:"/"}let c=rS(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),iS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zy=["post","put","patch","delete"];new Set(zy);const cS=["get",...zy];new Set(cS);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pi.apply(this,arguments)}const ul=f.createContext(null),Wy=f.createContext(null),fn=f.createContext(null),dl=f.createContext(null),pn=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Hy=f.createContext(null);function uS(t,e){let{relative:n}=e===void 0?{}:e;bs()||ke(!1);let{basename:r,navigator:s}=f.useContext(fn),{hash:i,pathname:a,search:o}=fl(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Bn([r,a])),s.createHref({pathname:c,search:o,hash:i})}function bs(){return f.useContext(dl)!=null}function Vt(){return bs()||ke(!1),f.useContext(dl).location}function Ky(t){f.useContext(fn).static||f.useLayoutEffect(t)}function Zt(){let{isDataRoute:t}=f.useContext(pn);return t?SS():dS()}function dS(){bs()||ke(!1);let t=f.useContext(ul),{basename:e,future:n,navigator:r}=f.useContext(fn),{matches:s}=f.useContext(pn),{pathname:i}=Vt(),a=JSON.stringify(Gd(s,n.v7_relativeSplatPath)),o=f.useRef(!1);return Ky(()=>{o.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let h=qd(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bn([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,a,i,t])}function hl(){let{matches:t}=f.useContext(pn),e=t[t.length-1];return e?e.params:{}}function fl(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=f.useContext(fn),{matches:s}=f.useContext(pn),{pathname:i}=Vt(),a=JSON.stringify(Gd(s,r.v7_relativeSplatPath));return f.useMemo(()=>qd(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function hS(t,e){return fS(t,e)}function fS(t,e,n,r){bs()||ke(!1);let{navigator:s}=f.useContext(fn),{matches:i}=f.useContext(pn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Vt(),d;if(e){var h;let S=typeof e=="string"?ws(e):e;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||ke(!1),d=S}else d=u;let p=d.pathname||"/",v=p;if(c!=="/"){let S=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=Vk(t,{pathname:v}),w=yS(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Bn([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Bn([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&w?f.createElement(dl.Provider,{value:{location:Pi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ln.Pop}},w):w}function pS(){let t=kS(),e=lS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,null)}const mS=f.createElement(pS,null);class gS extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(pn.Provider,{value:this.props.routeContext},f.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vS(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(ul);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(pn.Provider,{value:e},r)}function yS(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ke(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:v}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let v,g=!1,w=null,S=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||mS,c&&(u<0&&p===0?(jS("route-fallback"),g=!0,S=null):u===p&&(g=!0,S=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,p+1)),m=()=>{let y;return v?y=w:g?y=S:h.route.Component?y=f.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,f.createElement(vS,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?f.createElement(gS,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):m()},null)}var Gy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gy||{}),qy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qy||{});function xS(t){let e=f.useContext(ul);return e||ke(!1),e}function wS(t){let e=f.useContext(Wy);return e||ke(!1),e}function bS(t){let e=f.useContext(pn);return e||ke(!1),e}function Zy(t){let e=bS(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function kS(){var t;let e=f.useContext(Hy),n=wS(),r=Zy();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function SS(){let{router:t}=xS(Gy.UseNavigateStable),e=Zy(qy.UseNavigateStable),n=f.useRef(!1);return Ky(()=>{n.current=!0}),f.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pi({fromRouteId:e},i)))},[t,e])}const xp={};function jS(t,e,n){xp[t]||(xp[t]=!0)}function CS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ES(t){let{to:e,replace:n,state:r,relative:s}=t;bs()||ke(!1);let{future:i,static:a}=f.useContext(fn),{matches:o}=f.useContext(pn),{pathname:c}=Vt(),u=Zt(),d=qd(e,Gd(o,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return f.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function nt(t){ke(!1)}function _S(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ln.Pop,navigator:i,static:a=!1,future:o}=t;bs()&&ke(!1);let c=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:c,navigator:i,static:a,future:Pi({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof r=="string"&&(r=ws(r));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:g="default"}=r,w=f.useMemo(()=>{let S=fs(d,c);return S==null?null:{location:{pathname:S,search:h,hash:p,state:v,key:g},navigationType:s}},[c,d,h,p,v,g,s]);return w==null?null:f.createElement(fn.Provider,{value:u},f.createElement(dl.Provider,{children:n,value:w}))}function LS(t){let{children:e,location:n}=t;return hS(wu(e),n)}new Promise(()=>{});function wu(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let i=[...e,s];if(r.type===f.Fragment){n.push.apply(n,wu(r.props.children,i));return}r.type!==nt&&ke(!1),!r.props.index||!r.props.children||ke(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=wu(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lo.apply(this,arguments)}function Jy(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function PS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NS(t,e){return t.button===0&&(!e||e==="_self")&&!PS(t)}const TS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],OS="6";try{window.__reactRouterVersion=OS}catch{}const AS=f.createContext({isTransitioning:!1}),RS="startTransition",wp=_b[RS];function IS(t){let{basename:e,children:n,future:r,window:s}=t,i=f.useRef();i.current==null&&(i.current=Bk({window:s,v5Compat:!0}));let a=i.current,[o,c]=f.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=f.useCallback(h=>{u&&wp?wp(()=>c(h)):c(h)},[c,u]);return f.useLayoutEffect(()=>a.listen(d),[a,d]),f.useEffect(()=>CS(r),[r]),f.createElement(_S,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=f.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,p=Jy(e,TS),{basename:v}=f.useContext(fn),g,w=!1;if(typeof u=="string"&&BS.test(u)&&(g=u,DS))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=fs(b.pathname,v);b.origin===y.origin&&k!=null?u=k+b.search+b.hash:w=!0}catch{}let S=uS(u,{relative:s}),x=$S(u,{replace:a,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||x(y)}return f.createElement("a",Lo({},p,{href:g||S,onClick:w||i?r:m,ref:n,target:c}))}),bp=f.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:u,children:d}=e,h=Jy(e,MS),p=fl(c,{relative:h.relative}),v=Vt(),g=f.useContext(Wy),{navigator:w,basename:S}=f.useContext(fn),x=g!=null&&VS(p)&&u===!0,m=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,y=v.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&S&&(b=fs(b,S)||b);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let j=y===m||!a&&y.startsWith(m)&&y.charAt(k)==="/",C=b!=null&&(b===m||!a&&b.startsWith(m)&&b.charAt(m.length)==="/"),E={isActive:j,isPending:C,isTransitioning:x},_=j?r:void 0,L;typeof i=="function"?L=i(E):L=[i,j?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(E):o;return f.createElement(qe,Lo({},h,{"aria-current":_,className:L,ref:n,style:M,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var bu;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bu||(bu={}));var kp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kp||(kp={}));function US(t){let e=f.useContext(ul);return e||ke(!1),e}function $S(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=Zt(),u=Vt(),d=fl(t,{relative:a});return f.useCallback(h=>{if(NS(h,n)){h.preventDefault();let p=r!==void 0?r:_o(u)===_o(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,c,d,r,s,n,t,i,a,o])}function VS(t,e){e===void 0&&(e={});let n=f.useContext(AS);n==null&&ke(!1);let{basename:r}=US(bu.useViewTransitionState),s=fl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xu(s.pathname,a)!=null||xu(s.pathname,i)!=null}const Zd=f.createContext({});function Jd(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const pl=f.createContext(null),Yd=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class FS extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function zS({children:t,isPresent:e}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=f.useContext(Yd);return f.useInsertionEffect(()=>{const{width:a,height:o,top:c,left:u}=s.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),l.jsx(FS,{isPresent:e,childRef:r,sizeRef:s,children:f.cloneElement(t,{ref:r})})}const WS=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=Jd(HS),c=f.useId(),u=f.useCallback(h=>{o.set(h,!0);for(const p of o.values())if(!p)return;r&&r()},[o,r]),d=f.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(o.set(h,!1),()=>o.delete(h))}),i?[Math.random(),u]:[n,u]);return f.useMemo(()=>{o.forEach((h,p)=>o.set(p,!1))},[n]),f.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=l.jsx(zS,{isPresent:n,children:t})),l.jsx(pl.Provider,{value:d,children:t})};function HS(){return new Map}function Yy(t=!0){const e=f.useContext(pl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=f.useId();f.useEffect(()=>{t&&s(i)},[t]);const a=f.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Na=t=>t.key||"";function Sp(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const Qd=typeof window<"u",Qy=Qd?f.useLayoutEffect:f.useEffect,ml=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1})=>{const[o,c]=Yy(a),u=f.useMemo(()=>Sp(t),[t]),d=a&&!o?[]:u.map(Na),h=f.useRef(!0),p=f.useRef(u),v=Jd(()=>new Map),[g,w]=f.useState(u),[S,x]=f.useState(u);Qy(()=>{h.current=!1,p.current=u;for(let b=0;b<S.length;b++){const k=Na(S[b]);d.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[S,d.length,d.join("-")]);const m=[];if(u!==g){let b=[...u];for(let k=0;k<S.length;k++){const j=S[k],C=Na(j);d.includes(C)||(b.splice(k,0,j),m.push(j))}i==="wait"&&m.length&&(b=m),x(Sp(b)),w(u);return}const{forceRender:y}=f.useContext(Zd);return l.jsx(l.Fragment,{children:S.map(b=>{const k=Na(b),j=a&&!o?!1:u===S||d.includes(k),C=()=>{if(v.has(k))v.set(k,!0);else return;let E=!0;v.forEach(_=>{_||(E=!1)}),E&&(y==null||y(),x(p.current),a&&(c==null||c()),r&&r())};return l.jsx(WS,{isPresent:j,initial:!h.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:j?void 0:C,children:b},k)})})},mt=t=>t;let Xy=mt;function Xd(t){let e;return()=>(e===void 0&&(e=t()),e)}const ps=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},sn=t=>t*1e3,an=t=>t/1e3,KS={useManualTiming:!1};function GS(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const v=h&&r?e:n;return d&&i.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(o),e.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const Ta=["read","resolveKeyframes","update","preRender","render","postRender"],qS=40;function ex(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ta.reduce((x,m)=>(x[m]=GS(i),x),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:p}=a,v=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,qS),1),s.timestamp=x,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},g=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Ta.reduce((x,m)=>{const y=a[m];return x[m]=(b,k=!1,j=!1)=>(n||g(),y.schedule(b,k,j)),x},{}),cancel:x=>{for(let m=0;m<Ta.length;m++)a[Ta[m]].cancel(x)},state:s,steps:a}}const{schedule:ge,cancel:Vn,state:Fe,steps:Ql}=ex(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),tx=f.createContext({strict:!1}),jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ms={};for(const t in jp)ms[t]={isEnabled:e=>jp[t].some(n=>!!e[n])};function ZS(t){for(const e in t)ms[e]={...ms[e],...t[e]}}const JS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Po(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JS.has(t)}let nx=t=>!Po(t);function YS(t){t&&(nx=e=>e.startsWith("on")?!Po(e):t(e))}try{YS(require("@emotion/is-prop-valid").default)}catch{}function QS(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(nx(s)||n===!0&&Po(s)||!e&&!Po(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function XS(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const gl=f.createContext({});function Ni(t){return typeof t=="string"||Array.isArray(t)}function vl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const eh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],th=["initial",...eh];function yl(t){return vl(t.animate)||th.some(e=>Ni(t[e]))}function rx(t){return!!(yl(t)||t.variants)}function ej(t,e){if(yl(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ni(n)?n:void 0,animate:Ni(r)?r:void 0}}return t.inherit!==!1?e:{}}function tj(t){const{initial:e,animate:n}=ej(t,f.useContext(gl));return f.useMemo(()=>({initial:e,animate:n}),[Cp(e),Cp(n)])}function Cp(t){return Array.isArray(t)?t.join(" "):t}const nj=Symbol.for("motionComponentSymbol");function Hr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rj(t,e,n){return f.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Hr(n)&&(n.current=r))},[e])}const nh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sj="framerAppearId",sx="data-"+nh(sj),{schedule:rh}=ex(queueMicrotask,!1),ix=f.createContext({});function ij(t,e,n,r,s){var i,a;const{visualElement:o}=f.useContext(gl),c=f.useContext(tx),u=f.useContext(pl),d=f.useContext(Yd).reducedMotion,h=f.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=f.useContext(ix);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&aj(h.current,n,s,v);const g=f.useRef(!1);f.useInsertionEffect(()=>{p&&g.current&&p.update(n,u)});const w=n[sx],S=f.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,w)));return Qy(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),rh.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),f.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),S.current=!1))}),p}function aj(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ax(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Hr(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function ax(t){if(t)return t.options.allowProjection!==!1?t.projection:ax(t.parent)}function oj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&ZS(t);function o(u,d){let h;const p={...f.useContext(Yd),...u,layoutId:lj(u)},{isStatic:v}=p,g=tj(u),w=r(u,v);if(!v&&Qd){cj();const S=uj(p);h=S.MeasureLayout,g.visualElement=ij(s,w,p,e,S.ProjectionNode)}return l.jsxs(gl.Provider,{value:g,children:[h&&g.visualElement?l.jsx(h,{visualElement:g.visualElement,...p}):null,n(s,u,rj(w,g.visualElement,d),w,v,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const c=f.forwardRef(o);return c[nj]=s,c}function lj({layoutId:t}){const e=f.useContext(Zd).id;return e&&t!==void 0?e+"-"+t:t}function cj(t,e){f.useContext(tx).strict}function uj(t){const{drag:e,layout:n}=ms;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sh(t){return typeof t!="string"||t.includes("-")?!1:!!(dj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ep(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ih(t,e,n,r){if(typeof e=="function"){const[s,i]=Ep(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Ep(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const ku=t=>Array.isArray(t),hj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fj=t=>ku(t)?t[t.length-1]||0:t,Je=t=>!!(t&&t.getVelocity);function Xa(t){const e=Je(t)?t.get():t;return hj(e)?e.toValue():e}function pj({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:mj(r,s,i,t),renderState:e()};return n&&(a.onMount=o=>n({props:r,current:o,...a}),a.onUpdate=o=>n(o)),a}const ox=t=>(e,n)=>{const r=f.useContext(gl),s=f.useContext(pl),i=()=>pj(t,e,r,s);return n?i():Jd(i)};function mj(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=Xa(i[p]);let{initial:a,animate:o}=t;const c=yl(t),u=rx(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!vl(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const g=ih(t,p[v]);if(g){const{transitionEnd:w,transition:S,...x}=g;for(const m in x){let y=x[m];if(Array.isArray(y)){const b=d?y.length-1:0;y=y[b]}y!==null&&(s[m]=y)}for(const m in w)s[m]=w[m]}}}return s}const ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kr=new Set(ks),lx=t=>e=>typeof e=="string"&&e.startsWith(t),cx=lx("--"),gj=lx("var(--"),ah=t=>gj(t)?vj.test(t.split("/*")[0].trim()):!1,vj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ux=(t,e)=>e&&typeof t=="number"?e.transform(t):t,dn=(t,e,n)=>n>e?e:n<t?t:n,Ss={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ti={...Ss,transform:t=>dn(0,1,t)},Ma={...Ss,default:1},qi=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vn=qi("deg"),Gt=qi("%"),H=qi("px"),yj=qi("vh"),xj=qi("vw"),_p={...Gt,parse:t=>Gt.parse(t)/100,transform:t=>Gt.transform(t*100)},wj={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H},bj={rotate:vn,rotateX:vn,rotateY:vn,rotateZ:vn,scale:Ma,scaleX:Ma,scaleY:Ma,scaleZ:Ma,skew:vn,skewX:vn,skewY:vn,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:Ti,originX:_p,originY:_p,originZ:H},Lp={...Ss,transform:Math.round},oh={...wj,...bj,zIndex:Lp,size:H,fillOpacity:Ti,strokeOpacity:Ti,numOctaves:Lp},kj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Sj=ks.length;function jj(t,e,n){let r="",s=!0;for(let i=0;i<Sj;i++){const a=ks[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=ux(o,oh[a]);if(!c){s=!1;const d=kj[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function lh(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(kr.has(c)){a=!0;continue}else if(cx(c)){s[c]=u;continue}else{const d=ux(u,oh[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=jj(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Cj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ej={offset:"strokeDashoffset",array:"strokeDasharray"};function _j(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Cj:Ej;t[i.offset]=H.transform(-r);const a=H.transform(e),o=H.transform(n);t[i.array]=`${a} ${o}`}function Pp(t,e,n){return typeof t=="string"?t:H.transform(e+n*t)}function Lj(t,e,n){const r=Pp(e,t.x,t.width),s=Pp(n,t.y,t.height);return`${r} ${s}`}function ch(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(lh(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:g}=t;p.transform&&(g&&(v.transform=p.transform),delete p.transform),g&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=Lj(g,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&_j(p,a,o,c,!1)}const uh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dx=()=>({...uh(),attrs:{}}),dh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hx(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function px(t,e,n,r){hx(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(fx.has(s)?s:nh(s),e.attrs[s])}const No={};function Pj(t){Object.assign(No,t)}function mx(t,{layout:e,layoutId:n}){return kr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!No[t]||t==="opacity")}function hh(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(Je(s[a])||e.style&&Je(e.style[a])||mx(a,t)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function gx(t,e,n){const r=hh(t,e,n);for(const s in t)if(Je(t[s])||Je(e[s])){const i=ks.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function Nj(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Np=["x","y","width","height","cx","cy","r"],Tj={useVisualState:ox({scrapeMotionValuesFromProps:gx,createRenderState:dx,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const o in s)if(kr.has(o)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let o=0;o<Np.length;o++){const c=Np[o];t[c]!==e[c]&&(a=!0)}a&&ge.read(()=>{Nj(n,r),ge.render(()=>{ch(r,s,dh(n.tagName),t.transformTemplate),px(n,r)})})}})},Mj={useVisualState:ox({scrapeMotionValuesFromProps:hh,createRenderState:uh})};function vx(t,e,n){for(const r in e)!Je(e[r])&&!mx(r,n)&&(t[r]=e[r])}function Oj({transformTemplate:t},e){return f.useMemo(()=>{const n=uh();return lh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Aj(t,e){const n=t.style||{},r={};return vx(r,n,t),Object.assign(r,Oj(t,e)),r}function Rj(t,e){const n={},r=Aj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Ij(t,e,n,r){const s=f.useMemo(()=>{const i=dx();return ch(i,e,dh(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};vx(i,t.style,t),s.style={...i,...s.style}}return s}function Dj(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(sh(n)?Ij:Rj)(r,i,a,n),u=QS(r,typeof n=="string",t),d=n!==f.Fragment?{...u,...c,ref:s}:{},{children:h}=r,p=f.useMemo(()=>Je(h)?h.get():h,[h]);return f.createElement(n,{...d,children:p})}}function Bj(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...sh(r)?Tj:Mj,preloadedFeatures:t,useRender:Dj(s),createVisualElement:e,Component:r};return oj(a)}}function yx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xl(t,e,n){const r=t.getProps();return ih(r,e,n!==void 0?n:r.custom,t)}const Uj=Xd(()=>window.ScrollTimeline!==void 0);class $j{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Uj()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Vj extends $j{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fh(t,e){return t?t[e]||t.default||t:void 0}const Su=2e4;function xx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Su;)e+=n,r=t.next(e);return e>=Su?1/0:e}function ph(t){return typeof t=="function"}function Tp(t,e){t.timeline=e,t.onfinish=null}const mh=t=>Array.isArray(t)&&typeof t[0]=="number",Fj={linearEasing:void 0};function zj(t,e){const n=Xd(t);return()=>{var r;return(r=Fj[e])!==null&&r!==void 0?r:n()}}const To=zj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wx=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(ps(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function bx(t){return!!(typeof t=="function"&&To()||!t||typeof t=="string"&&(t in ju||To())||mh(t)||Array.isArray(t)&&t.every(bx))}const Ws=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ju={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ws([0,.65,.55,1]),circOut:Ws([.55,0,1,.45]),backIn:Ws([.31,.01,.66,-.59]),backOut:Ws([.33,1.53,.69,.99])};function kx(t,e){if(t)return typeof t=="function"&&To()?wx(t,e):mh(t)?Ws(t):Array.isArray(t)?t.map(n=>kx(n,e)||ju.easeOut):ju[t]}const Mt={x:!1,y:!1};function Sx(){return Mt.x||Mt.y}function Wj(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function jx(t,e){const n=Wj(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Mp(t){return e=>{e.pointerType==="touch"||Sx()||t(e)}}function Hj(t,e,n={}){const[r,s,i]=jx(t,n),a=Mp(o=>{const{target:c}=o,u=e(o);if(typeof u!="function"||!c)return;const d=Mp(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Cx=(t,e)=>e?t===e?!0:Cx(t,e.parentElement):!1,gh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gj(t){return Kj.has(t.tagName)||t.tabIndex!==-1}const Hs=new WeakSet;function Op(t){return e=>{e.key==="Enter"&&t(e)}}function Xl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Op(()=>{if(Hs.has(n))return;Xl(n,"down");const s=Op(()=>{Xl(n,"up")}),i=()=>Xl(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ap(t){return gh(t)&&!Sx()}function Zj(t,e,n={}){const[r,s,i]=jx(t,n),a=o=>{const c=o.currentTarget;if(!Ap(o)||Hs.has(c))return;Hs.add(c);const u=e(o),d=(v,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!Ap(v)||!Hs.has(c))&&(Hs.delete(c),typeof u=="function"&&u(v,{success:g}))},h=v=>{d(v,n.useGlobalTarget||Cx(c,v.target))},p=v=>{d(v,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(o=>{!Gj(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",u=>qj(u,s),s)}),i}function Jj(t){return t==="x"||t==="y"?Mt[t]?null:(Mt[t]=!0,()=>{Mt[t]=!1}):Mt.x||Mt.y?null:(Mt.x=Mt.y=!0,()=>{Mt.x=Mt.y=!1})}const Ex=new Set(["width","height","top","left","right","bottom",...ks]);let eo;function Yj(){eo=void 0}const qt={now:()=>(eo===void 0&&qt.set(Fe.isProcessing||KS.useManualTiming?Fe.timestamp:performance.now()),eo),set:t=>{eo=t,queueMicrotask(Yj)}};function vh(t,e){t.indexOf(e)===-1&&t.push(e)}function yh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xh{constructor(){this.subscriptions=[]}add(e){return vh(this.subscriptions,e),()=>yh(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function _x(t,e){return e?t*(1e3/e):0}const Rp=30,Qj=t=>!isNaN(parseFloat(t));class Xj{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=qt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xh);const r=this.events[e].add(n);return e==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rp);return _x(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mi(t,e){return new Xj(t,e)}function e2(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mi(n))}function t2(t,e){const n=xl(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=fj(i[a]);e2(t,a,o)}}function n2(t){return!!(Je(t)&&t.add)}function Cu(t,e){const n=t.getValue("willChange");if(n2(n))return n.add(e)}function Lx(t){return t.props[sx]}const Px=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r2=1e-7,s2=12;function i2(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=Px(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>r2&&++o<s2);return a}function Zi(t,e,n,r){if(t===e&&n===r)return mt;const s=i=>i2(i,0,1,t,n);return i=>i===0||i===1?i:Px(s(i),e,r)}const Nx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Tx=t=>e=>1-t(1-e),Mx=Zi(.33,1.53,.69,.99),wh=Tx(Mx),Ox=Nx(wh),Ax=t=>(t*=2)<1?.5*wh(t):.5*(2-Math.pow(2,-10*(t-1))),bh=t=>1-Math.sin(Math.acos(t)),Rx=Tx(bh),Ix=Nx(bh),Dx=t=>/^0[^.\s]+$/u.test(t);function a2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dx(t):!0}const si=t=>Math.round(t*1e5)/1e5,kh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o2(t){return t==null}const l2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sh=(t,e)=>n=>!!(typeof n=="string"&&l2.test(n)&&n.startsWith(t)||e&&!o2(n)&&Object.prototype.hasOwnProperty.call(n,e)),Bx=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(kh);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},c2=t=>dn(0,255,t),ec={...Ss,transform:t=>Math.round(c2(t))},cr={test:Sh("rgb","red"),parse:Bx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ec.transform(t)+", "+ec.transform(e)+", "+ec.transform(n)+", "+si(Ti.transform(r))+")"};function u2(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Eu={test:Sh("#"),parse:u2,transform:cr.transform},Kr={test:Sh("hsl","hue"),parse:Bx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Gt.transform(si(e))+", "+Gt.transform(si(n))+", "+si(Ti.transform(r))+")"},Ge={test:t=>cr.test(t)||Eu.test(t)||Kr.test(t),parse:t=>cr.test(t)?cr.parse(t):Kr.test(t)?Kr.parse(t):Eu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?cr.transform(t):Kr.transform(t)},d2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(d2))===null||n===void 0?void 0:n.length)||0)>0}const Ux="number",$x="color",f2="var",p2="var(",Ip="${}",m2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oi(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(m2,c=>(Ge.test(c)?(r.color.push(i),s.push($x),n.push(Ge.parse(c))):c.startsWith(p2)?(r.var.push(i),s.push(f2),n.push(c)):(r.number.push(i),s.push(Ux),n.push(parseFloat(c))),++i,Ip)).split(Ip);return{values:n,split:o,indexes:r,types:s}}function Vx(t){return Oi(t).values}function Fx(t){const{split:e,types:n}=Oi(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===Ux?i+=si(s[a]):o===$x?i+=Ge.transform(s[a]):i+=s[a]}return i}}const g2=t=>typeof t=="number"?0:t;function v2(t){const e=Vx(t);return Fx(t)(e.map(g2))}const Fn={test:h2,parse:Vx,createTransformer:Fx,getAnimatableNone:v2},y2=new Set(["brightness","contrast","saturate","opacity"]);function x2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kh)||[];if(!r)return t;const s=n.replace(r,"");let i=y2.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const w2=/\b([a-z-]*)\(.*?\)/gu,_u={...Fn,getAnimatableNone:t=>{const e=t.match(w2);return e?e.map(x2).join(" "):t}},b2={...oh,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:_u,WebkitFilter:_u},jh=t=>b2[t];function zx(t,e){let n=jh(t);return n!==_u&&(n=Fn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const k2=new Set(["auto","none","0"]);function S2(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!k2.has(i)&&Oi(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=zx(n,s)}const Dp=t=>t===Ss||t===H,Bp=(t,e)=>parseFloat(t.split(", ")[e]),Up=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Bp(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Bp(i[1],t):0}},j2=new Set(["x","y","z"]),C2=ks.filter(t=>!j2.has(t));function E2(t){const e=[];return C2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Up(4,13),y:Up(5,14)};gs.translateX=gs.x;gs.translateY=gs.y;const fr=new Set;let Lu=!1,Pu=!1;function Wx(){if(Pu){const t=Array.from(fr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=E2(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))===null||o===void 0||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pu=!1,Lu=!1,fr.forEach(t=>t.complete()),fr.clear()}function Hx(){fr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pu=!0)})}function _2(){Hx(),Wx()}class Ch{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fr.add(this),Lu||(Lu=!0,ge.read(Hx),ge.resolveKeyframes(Wx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Kx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),L2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P2(t){const e=L2.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Gx(t,e,n=1){const[r,s]=P2(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return Kx(a)?parseFloat(a):a}return ah(s)?Gx(s,e,n+1):s}const qx=t=>e=>e.test(t),N2={test:t=>t==="auto",parse:t=>t},Zx=[Ss,H,Gt,vn,xj,yj,N2],$p=t=>Zx.find(qx(t));class Jx extends Ch{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),ah(u))){const d=Gx(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ex.has(r)||e.length!==2)return;const[s,i]=e,a=$p(s),o=$p(i);if(a!==o)if(Dp(a)&&Dp(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)a2(e[s])&&r.push(s);r.length&&S2(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=gs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Vp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fn.test(t)||t==="0")&&!t.startsWith("url("));function T2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function M2(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Vp(s,e),o=Vp(i,e);return!a||!o?!1:T2(t)||(n==="spring"||ph(n))&&r}const O2=t=>t!==null;function wl(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(O2),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const A2=40;class Yx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qt.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>A2?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_2(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=qt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!M2(e,r,s,i))if(a)this.options.duration=0;else{c&&c(wl(e,this.options,n)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const we=(t,e,n)=>t+(e-t)*n;function tc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;s=tc(c,o,t+1/3),i=tc(c,o,t),a=tc(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Mo(t,e){return n=>n>0?e:t}const nc=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},I2=[Eu,cr,Kr],D2=t=>I2.find(e=>e.test(t));function Fp(t){const e=D2(t);if(!e)return!1;let n=e.parse(t);return e===Kr&&(n=R2(n)),n}const zp=(t,e)=>{const n=Fp(t),r=Fp(e);if(!n||!r)return Mo(t,e);const s={...n};return i=>(s.red=nc(n.red,r.red,i),s.green=nc(n.green,r.green,i),s.blue=nc(n.blue,r.blue,i),s.alpha=we(n.alpha,r.alpha,i),cr.transform(s))},B2=(t,e)=>n=>e(t(n)),Ji=(...t)=>t.reduce(B2),Nu=new Set(["none","hidden"]);function U2(t,e){return Nu.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $2(t,e){return n=>we(t,e,n)}function Eh(t){return typeof t=="number"?$2:typeof t=="string"?ah(t)?Mo:Ge.test(t)?zp:z2:Array.isArray(t)?Qx:typeof t=="object"?Ge.test(t)?zp:V2:Mo}function Qx(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Eh(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function V2(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Eh(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function F2(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][s[a]],c=(n=t.values[o])!==null&&n!==void 0?n:0;r[i]=c,s[a]++}return r}const z2=(t,e)=>{const n=Fn.createTransformer(e),r=Oi(t),s=Oi(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Nu.has(t)&&!s.values.length||Nu.has(e)&&!r.values.length?U2(t,e):Ji(Qx(F2(r,s),s.values),n):Mo(t,e)};function Xx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?we(t,e,n):Eh(t)(t,e)}const W2=5;function ew(t,e,n){const r=Math.max(e-W2,0);return _x(n-t(r),e-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rc=.001;function H2({duration:t=Ce.duration,bounce:e=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let s,i,a=1-e;a=dn(Ce.minDamping,Ce.maxDamping,a),t=dn(Ce.minDuration,Ce.maxDuration,an(t)),a<1?(s=u=>{const d=u*a,h=d*t,p=d-n,v=Tu(u,a),g=Math.exp(-h);return rc-p/v*g},i=u=>{const h=u*a*t,p=h*n+n,v=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-h),w=Tu(Math.pow(u,2),a);return(-s(u)+rc>0?-1:1)*((p-v)*g)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-rc+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,c=G2(s,i,o);if(t=sn(t),isNaN(c))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const K2=12;function G2(t,e,n){let r=n;for(let s=1;s<K2;s++)r=r-t(r)/e(r);return r}function Tu(t,e){return t*Math.sqrt(1-e*e)}const q2=["duration","bounce"],Z2=["stiffness","damping","mass"];function Wp(t,e){return e.some(n=>t[n]!==void 0)}function J2(t){let e={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...t};if(!Wp(t,Z2)&&Wp(t,q2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*dn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ce.mass,stiffness:s,damping:i}}else{const n=H2(t);e={...e,...n,mass:Ce.mass},e.isResolvedFromDuration=!0}return e}function tw(t=Ce.visualDuration,e=Ce.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:p,isResolvedFromDuration:v}=J2({...n,velocity:-an(n.velocity||0)}),g=p||0,w=u/(2*Math.sqrt(c*d)),S=a-i,x=an(Math.sqrt(c/d)),m=Math.abs(S)<5;r||(r=m?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=m?Ce.restDelta.granular:Ce.restDelta.default);let y;if(w<1){const k=Tu(x,w);y=j=>{const C=Math.exp(-w*x*j);return a-C*((g+w*x*S)/k*Math.sin(k*j)+S*Math.cos(k*j))}}else if(w===1)y=k=>a-Math.exp(-x*k)*(S+(g+x*S)*k);else{const k=x*Math.sqrt(w*w-1);y=j=>{const C=Math.exp(-w*x*j),E=Math.min(k*j,300);return a-C*((g+w*x*S)*Math.sinh(E)+k*S*Math.cosh(E))/k}}const b={calculatedDuration:v&&h||null,next:k=>{const j=y(k);if(v)o.done=k>=h;else{let C=0;w<1&&(C=k===0?sn(g):ew(y,k,j));const E=Math.abs(C)<=r,_=Math.abs(a-j)<=s;o.done=E&&_}return o.value=o.done?a:j,o},toString:()=>{const k=Math.min(xx(b),Su),j=wx(C=>b.next(k*C).value,k,30);return k+"ms "+j}};return b}function Hp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},v=E=>o!==void 0&&E<o||c!==void 0&&E>c,g=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let w=n*e;const S=h+w,x=a===void 0?S:a(S);x!==S&&(w=x-h);const m=E=>-w*Math.exp(-E/r),y=E=>x+m(E),b=E=>{const _=m(E),L=y(E);p.done=Math.abs(_)<=u,p.value=p.done?x:L};let k,j;const C=E=>{v(p.value)&&(k=E,j=tw({keyframes:[p.value,g(p.value)],velocity:ew(y,E,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let _=!1;return!j&&k===void 0&&(_=!0,b(E),C(E)),k!==void 0&&E>=k?j.next(E-k):(!_&&b(E),p)}}}const Y2=Zi(.42,0,1,1),Q2=Zi(0,0,.58,1),nw=Zi(.42,0,.58,1),X2=t=>Array.isArray(t)&&typeof t[0]!="number",eC={linear:mt,easeIn:Y2,easeInOut:nw,easeOut:Q2,circIn:bh,circInOut:Ix,circOut:Rx,backIn:wh,backInOut:Ox,backOut:Mx,anticipate:Ax},Kp=t=>{if(mh(t)){Xy(t.length===4);const[e,n,r,s]=t;return Zi(e,n,r,s)}else if(typeof t=="string")return eC[t];return t};function tC(t,e,n){const r=[],s=n||Xx,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||mt:e;o=Ji(c,o)}r.push(o)}return r}function nC(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Xy(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=tC(e,r,s),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=ps(t[h],t[h+1],d);return o[h](p)};return n?d=>u(dn(t[0],t[i-1],d)):u}function rC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ps(0,e,r);t.push(we(n,1,s))}}function sC(t){const e=[0];return rC(e,t.length-1),e}function iC(t,e){return t.map(n=>n*e)}function aC(t,e){return t.map(()=>e||nw).splice(0,t.length-1)}function Oo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=X2(r)?r.map(Kp):Kp(r),i={done:!1,value:e[0]},a=iC(n&&n.length===e.length?n:sC(e),t),o=nC(a,e,{ease:Array.isArray(s)?s:aC(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const oC=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ge.update(e,!0),stop:()=>Vn(e),now:()=>Fe.isProcessing?Fe.timestamp:qt.now()}},lC={decay:Hp,inertia:Hp,tween:Oo,keyframes:Oo,spring:tw},cC=t=>t/100;class _h extends Yx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Ch,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,o,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,o=ph(n)?n:lC[n]||Oo;let c,u;o!==Oo&&typeof e[0]!="number"&&(c=Ji(cC,Xx(e[0],e[1])),e=[0,100]);const d=o({...this.options,keyframes:e});i==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=xx(d));const{calculatedDuration:h}=d,p=h+s,v=p*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:v,repeatType:g,repeatDelay:w,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),m=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,b=i;if(v){const E=Math.min(this.currentTime,d)/h;let _=Math.floor(E),L=E%1;!L&&E>=1&&(L=1),L===1&&_--,_=Math.min(_,v+1),!!(_%2)&&(g==="reverse"?(L=1-L,w&&(L-=w/h)):g==="mirror"&&(b=a)),y=dn(0,1,L)*h}const k=m?{done:!1,value:c[0]}:b.next(y);o&&(k.value=o(k.value));let{done:j}=k;!m&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&s!==void 0&&(k.value=wl(c,this.options,s)),S&&S(k.value),C&&this.finish(),k}get duration(){const{resolved:e}=this;return e?an(e.calculatedDuration):0}get time(){return an(this.currentTime)}set time(e){e=sn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=an(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oC,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uC=new Set(["opacity","clipPath","filter","transform"]);function dC(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=kx(o,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const hC=Xd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ao=10,fC=2e4;function pC(t){return ph(t.type)||t.type==="spring"||!bx(t.ease)}function mC(t,e){const n=new _h({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<fC;)r=n.sample(i),s.push(r.value),i+=Ao;return{times:void 0,keyframes:s,duration:i-Ao,ease:"linear"}}const rw={anticipate:Ax,backInOut:Ox,circInOut:Ix};function gC(t){return t in rw}class Gp extends Yx{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Jx(i,(a,o)=>this.onKeyframesResolved(a,o),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&To()&&gC(i)&&(i=rw[i]),pC(this.options)){const{onComplete:h,onUpdate:p,motionValue:v,element:g,...w}=this.options,S=mC(e,w);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,s=S.times,i=S.ease,a="keyframes"}const d=dC(o.owner.current,c,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Tp(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(wl(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return an(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return an(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=sn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return mt;const{animation:r}=n;Tp(r,e)}return mt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:p,...v}=this.options,g=new _h({...v,keyframes:r,duration:s,type:i,ease:a,times:o,isGenerator:!0}),w=sn(this.time);u.setWithVelocity(g.sample(w-Ao).value,g.sample(w).value,Ao)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:o}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return hC()&&r&&uC.has(r)&&!c&&!u&&!s&&i!=="mirror"&&a!==0&&o!=="inertia"}}const vC={type:"spring",stiffness:500,damping:25,restSpeed:10},yC=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xC={type:"keyframes",duration:.8},wC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bC=(t,{keyframes:e})=>e.length>2?xC:kr.has(t)?t.startsWith("scale")?yC(e[1]):vC:wC;function kC({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Lh=(t,e,n,r={},s,i)=>a=>{const o=fh(r,t)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-sn(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};kC(o)||(d={...d,...bC(t,d)}),d.duration&&(d.duration=sn(d.duration)),d.repeatDelay&&(d.repeatDelay=sn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const p=wl(d.keyframes,o);if(p!==void 0)return ge.update(()=>{d.onUpdate(p),d.onComplete()}),new Vj([])}return!i&&Gp.supports(d)?new Gp(d):new _h(d)};function SC({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sw(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;r&&(a=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const p=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),v=c[h];if(v===void 0||d&&SC(d,h))continue;const g={delay:n,...fh(a||{},h)};let w=!1;if(window.MotionHandoffAnimation){const x=Lx(t);if(x){const m=window.MotionHandoffAnimation(x,h,ge);m!==null&&(g.startTime=m,w=!0)}}Cu(t,h),p.start(Lh(h,p,v,t.shouldReduceMotion&&Ex.has(h)?{type:!1}:g,t,w));const S=p.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{ge.update(()=>{o&&t2(t,o)})}),u}function Mu(t,e,n={}){var r;const s=xl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(sw(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=i;return jC(t,e,d+u,h,p,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function jC(t,e,n=0,r=0,s=1,i){const a=[],o=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(CC).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(Mu(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function CC(t,e){return t.sortNodePosition(e)}function EC(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Mu(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Mu(t,e,n);else{const s=typeof e=="function"?xl(t,e,n.custom):e;r=Promise.all(sw(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const _C=th.length;function iw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_C;n++){const r=th[n],s=t.props[r];(Ni(s)||s===!1)&&(e[r]=s)}return e}const LC=[...eh].reverse(),PC=eh.length;function NC(t){return e=>Promise.all(e.map(({animation:n,options:r})=>EC(t,n,r)))}function TC(t){let e=NC(t),n=qp(),r=!0;const s=c=>(u,d)=>{var h;const p=xl(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:v,transitionEnd:g,...w}=p;u={...u,...w,...g}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=iw(t.parent)||{},h=[],p=new Set;let v={},g=1/0;for(let S=0;S<PC;S++){const x=LC[S],m=n[x],y=u[x]!==void 0?u[x]:d[x],b=Ni(y),k=x===c?m.isActive:null;k===!1&&(g=S);let j=y===d[x]&&y!==u[x]&&b;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),m.protectedKeys={...v},!m.isActive&&k===null||!y&&!m.prevProp||vl(y)||typeof y=="boolean")continue;const C=MC(m.prevProp,y);let E=C||x===c&&m.isActive&&!j&&b||S>g&&b,_=!1;const L=Array.isArray(y)?y:[y];let M=L.reduce(s(x),{});k===!1&&(M={});const{prevResolvedValues:U={}}=m,z={...U,...M},$=G=>{E=!0,p.has(G)&&(_=!0,p.delete(G)),m.needsAnimating[G]=!0;const T=t.getValue(G);T&&(T.liveStyle=!1)};for(const G in z){const T=M[G],I=U[G];if(v.hasOwnProperty(G))continue;let R=!1;ku(T)&&ku(I)?R=!yx(T,I):R=T!==I,R?T!=null?$(G):p.add(G):T!==void 0&&p.has(G)?$(G):m.protectedKeys[G]=!0}m.prevProp=y,m.prevResolvedValues=M,m.isActive&&(v={...v,...M}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(j&&C)||_)&&h.push(...L.map(G=>({animation:G,options:{type:x}})))}if(p.size){const S={};p.forEach(x=>{const m=t.getBaseTarget(x),y=t.getValue(x);y&&(y.liveStyle=!0),S[x]=m??null}),h.push({animation:S})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qp(),r=!0}}}function MC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yx(e,t):!1}function Gn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qp(){return{animate:Gn(!0),whileInView:Gn(),whileHover:Gn(),whileTap:Gn(),whileDrag:Gn(),whileFocus:Gn(),exit:Gn()}}class Kn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class OC extends Kn{constructor(e){super(e),e.animationState||(e.animationState=TC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AC=0;class RC extends Kn{constructor(){super(...arguments),this.id=AC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const IC={animation:{Feature:OC},exit:{Feature:RC}};function Ai(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yi(t){return{point:{x:t.pageX,y:t.pageY}}}const DC=t=>e=>gh(e)&&t(e,Yi(e));function ii(t,e,n,r){return Ai(t,e,DC(n),r)}const Zp=(t,e)=>Math.abs(t-e);function BC(t,e){const n=Zp(t.x,e.x),r=Zp(t.y,e.y);return Math.sqrt(n**2+r**2)}class aw{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ic(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=BC(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:g}=h,{timestamp:w}=Fe;this.history.push({...g,timestamp:w});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=sc(p,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ic(h.type==="pointercancel"?this.lastMoveEventInfo:sc(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,S),g&&g(h,S)},!gh(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Yi(e),o=sc(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Fe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,ic(o,this.history)),this.removeListeners=Ji(ii(this.contextWindow,"pointermove",this.handlePointerMove),ii(this.contextWindow,"pointerup",this.handlePointerUp),ii(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vn(this.updatePoint)}}function sc(t,e){return e?{point:e(t.point)}:t}function Jp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ic({point:t},e){return{point:t,delta:Jp(t,ow(e)),offset:Jp(t,UC(e)),velocity:$C(e,.1)}}function UC(t){return t[0]}function ow(t){return t[t.length-1]}function $C(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=ow(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>sn(e)));)n--;if(!r)return{x:0,y:0};const i=an(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const lw=1e-4,VC=1-lw,FC=1+lw,cw=.01,zC=0-cw,WC=0+cw;function vt(t){return t.max-t.min}function HC(t,e,n){return Math.abs(t-e)<=n}function Yp(t,e,n,r=.5){t.origin=r,t.originPoint=we(e.min,e.max,t.origin),t.scale=vt(n)/vt(e),t.translate=we(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VC&&t.scale<=FC||isNaN(t.scale))&&(t.scale=1),(t.translate>=zC&&t.translate<=WC||isNaN(t.translate))&&(t.translate=0)}function ai(t,e,n,r){Yp(t.x,e.x,n.x,r?r.originX:void 0),Yp(t.y,e.y,n.y,r?r.originY:void 0)}function Qp(t,e,n){t.min=n.min+e.min,t.max=t.min+vt(e)}function KC(t,e,n){Qp(t.x,e.x,n.x),Qp(t.y,e.y,n.y)}function Xp(t,e,n){t.min=e.min-n.min,t.max=t.min+vt(e)}function oi(t,e,n){Xp(t.x,e.x,n.x),Xp(t.y,e.y,n.y)}function GC(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?we(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?we(n,t,r.max):Math.min(t,n)),t}function em(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qC(t,{top:e,left:n,bottom:r,right:s}){return{x:em(t.x,n,s),y:em(t.y,e,r)}}function tm(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ZC(t,e){return{x:tm(t.x,e.x),y:tm(t.y,e.y)}}function JC(t,e){let n=.5;const r=vt(t),s=vt(e);return s>r?n=ps(e.min,e.max-r,t.min):r>s&&(n=ps(t.min,t.max-s,e.min)),dn(0,1,n)}function YC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ou=.35;function QC(t=Ou){return t===!1?t=0:t===!0&&(t=Ou),{x:nm(t,"left","right"),y:nm(t,"top","bottom")}}function nm(t,e,n){return{min:rm(t,e),max:rm(t,n)}}function rm(t,e){return typeof t=="number"?t:t[e]||0}const sm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gr=()=>({x:sm(),y:sm()}),im=()=>({min:0,max:0}),Le=()=>({x:im(),y:im()});function bt(t){return[t("x"),t("y")]}function uw({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function XC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eE(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ac(t){return t===void 0||t===1}function Au({scale:t,scaleX:e,scaleY:n}){return!ac(t)||!ac(e)||!ac(n)}function er(t){return Au(t)||dw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dw(t){return am(t.x)||am(t.y)}function am(t){return t&&t!=="0%"}function Ro(t,e,n){const r=t-n,s=e*r;return n+s}function om(t,e,n,r,s){return s!==void 0&&(t=Ro(t,s,r)),Ro(t,n,r)+e}function Ru(t,e=0,n=1,r,s){t.min=om(t.min,e,n,r,s),t.max=om(t.max,e,n,r,s)}function hw(t,{x:e,y:n}){Ru(t.x,e.translate,e.scale,e.originPoint),Ru(t.y,n.translate,n.scale,n.originPoint)}const lm=.999999999999,cm=1.0000000000001;function tE(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zr(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,hw(t,a)),r&&er(i.latestValues)&&Zr(t,i.latestValues))}e.x<cm&&e.x>lm&&(e.x=1),e.y<cm&&e.y>lm&&(e.y=1)}function qr(t,e){t.min=t.min+e,t.max=t.max+e}function um(t,e,n,r,s=.5){const i=we(t.min,t.max,s);Ru(t,e,n,i,r)}function Zr(t,e){um(t.x,e.x,e.scaleX,e.scale,e.originX),um(t.y,e.y,e.scaleY,e.scale,e.originY)}function fw(t,e){return uw(eE(t.getBoundingClientRect(),e))}function nE(t,e,n){const r=fw(t,n),{scroll:s}=e;return s&&(qr(r.x,s.offset.x),qr(r.y,s.offset.y)),r}const pw=({current:t})=>t?t.ownerDocument.defaultView:null,rE=new WeakMap;class sE{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yi(d).point)},i=(d,h)=>{const{drag:p,dragPropagation:v,onDragStart:g}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jj(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bt(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Gt.test(x)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[S];y&&(x=vt(y)*(parseFloat(x)/100))}}this.originPoint[S]=x}),g&&ge.postRender(()=>g(d,h)),Cu(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:g,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=h;if(v&&this.currentDirection===null){this.currentDirection=iE(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),w&&w(d,h)},o=(d,h)=>this.stop(d,h),c=()=>bt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aw(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pw(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ge.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Oa(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=GC(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Hr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=qC(s.layoutBox,n):this.constraints=!1,this.elastic=QC(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&bt(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=YC(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Hr(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=nE(r,s.root,this.visualElement.getTransformPagePoint());let a=ZC(s.layout.layoutBox,i);if(n){const o=n(XC(a));this.hasMutatedConstraints=!!o,o&&(a=uw(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=bt(d=>{if(!Oa(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const p=s?200:1e6,v=s?40:1e7,g={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Cu(this.visualElement,e),r.start(Lh(e,r,0,n,this.visualElement,!1))}stopAnimation(){bt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bt(n=>{const{drag:r}=this.getProps();if(!Oa(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-we(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};bt(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=JC({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bt(a=>{if(!Oa(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(we(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;rE.set(this.visualElement,this);const e=this.visualElement.current,n=ii(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Hr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ge.read(r);const a=Ai(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(bt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ou,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Oa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iE(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aE extends Kn{constructor(e){super(e),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new sE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const dm=t=>(e,n)=>{t&&ge.postRender(()=>t(e,n))};class oE extends Kn{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(e){this.session=new aw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:dm(e),onStart:dm(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ge.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ii(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const to={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Is={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(H.test(t))t=parseFloat(t);else return t;const n=hm(t,e.target.x),r=hm(t,e.target.y);return`${n}% ${r}%`}},lE={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Fn.parse(t);if(s.length>5)return r;const i=Fn.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const u=we(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class cE extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Pj(uE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),to.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ge.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mw(t){const[e,n]=Yy(),r=f.useContext(Zd);return l.jsx(cE,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(ix),isPresent:e,safeToRemove:n})}const uE={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:lE};function dE(t,e,n){const r=Je(t)?t:Mi(t);return r.start(Lh("",r,e,n)),r.animation}function hE(t){return t instanceof SVGElement&&t.tagName!=="svg"}const fE=(t,e)=>t.depth-e.depth;class pE{constructor(){this.children=[],this.isDirty=!1}add(e){vh(this.children,e),this.isDirty=!0}remove(e){yh(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fE),this.isDirty=!1,this.children.forEach(e)}}function mE(t,e){const n=qt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Vn(r),t(i-e))};return ge.read(r,!0),()=>Vn(r)}const gw=["TopLeft","TopRight","BottomLeft","BottomRight"],gE=gw.length,fm=t=>typeof t=="string"?parseFloat(t):t,pm=t=>typeof t=="number"||H.test(t);function vE(t,e,n,r,s,i){s?(t.opacity=we(0,n.opacity!==void 0?n.opacity:1,yE(r)),t.opacityExit=we(e.opacity!==void 0?e.opacity:1,0,xE(r))):i&&(t.opacity=we(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<gE;a++){const o=`border${gw[a]}Radius`;let c=mm(e,o),u=mm(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||pm(c)===pm(u)?(t[o]=Math.max(we(fm(c),fm(u),r),0),(Gt.test(u)||Gt.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=we(e.rotate||0,n.rotate||0,r))}function mm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yE=vw(0,.5,Rx),xE=vw(.5,.95,mt);function vw(t,e,n){return r=>r<t?0:r>e?1:n(ps(t,e,r))}function gm(t,e){t.min=e.min,t.max=e.max}function wt(t,e){gm(t.x,e.x),gm(t.y,e.y)}function vm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ym(t,e,n,r,s){return t-=e,t=Ro(t,1/n,r),s!==void 0&&(t=Ro(t,1/s,r)),t}function wE(t,e=0,n=1,r=.5,s,i=t,a=t){if(Gt.test(e)&&(e=parseFloat(e),e=we(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=we(i.min,i.max,r);t===i&&(o-=e),t.min=ym(t.min,e,n,o,s),t.max=ym(t.max,e,n,o,s)}function xm(t,e,[n,r,s],i,a){wE(t,e[n],e[r],e[s],e.scale,i,a)}const bE=["x","scaleX","originX"],kE=["y","scaleY","originY"];function wm(t,e,n,r){xm(t.x,e,bE,n?n.x:void 0,r?r.x:void 0),xm(t.y,e,kE,n?n.y:void 0,r?r.y:void 0)}function bm(t){return t.translate===0&&t.scale===1}function yw(t){return bm(t.x)&&bm(t.y)}function km(t,e){return t.min===e.min&&t.max===e.max}function SE(t,e){return km(t.x,e.x)&&km(t.y,e.y)}function Sm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xw(t,e){return Sm(t.x,e.x)&&Sm(t.y,e.y)}function jm(t){return vt(t.x)/vt(t.y)}function Cm(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jE{constructor(){this.members=[]}add(e){vh(this.members,e),e.scheduleRender()}remove(e){if(yh(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CE(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:p,skewX:v,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const tr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ks=typeof window<"u"&&window.MotionDebug!==void 0,oc=["","X","Y","Z"],EE={visibility:"hidden"},Em=1e3;let _E=0;function lc(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ww(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Lx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ge,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ww(r)}function bw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=_E++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ks&&(tr.totalNodes=tr.resolvedTargetDeltas=tr.recalculatedProjection=0),this.nodes.forEach(NE),this.nodes.forEach(RE),this.nodes.forEach(IE),this.nodes.forEach(TE),Ks&&window.MotionDebug.record(tr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pE)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new xh),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hE(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=mE(p,250),to.hasAnimatedSinceResize&&(to.hasAnimatedSinceResize=!1,this.nodes.forEach(Lm))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||VE,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),m=!this.targetLayout||!xw(this.targetLayout,g)||v,y=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||p&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const b={...fh(w,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||Lm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DE),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ww(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_m);return}this.isUpdating||this.nodes.forEach(OE),this.isUpdating=!1,this.nodes.forEach(AE),this.nodes.forEach(LE),this.nodes.forEach(PE),this.clearAllSnapshots();const o=qt.now();Fe.delta=dn(0,1e3/60,o-Fe.timestamp),Fe.timestamp=o,Fe.isProcessing=!0,Ql.update.process(Fe),Ql.preRender.process(Fe),Ql.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ME),this.sharedNodes.forEach(BE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||er(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),FE(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Le();const c=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(zE))){const{scroll:d}=this.root;d&&(qr(c.x,d.offset.x),qr(c.y,d.offset.y))}return c}removeElementScroll(a){var o;const c=Le();if(wt(c,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&wt(c,a),qr(c.x,h.offset.x),qr(c.y,h.offset.y))}return c}applyTransform(a,o=!1){const c=Le();wt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zr(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),er(d.latestValues)&&Zr(c,d.latestValues)}return er(this.latestValues)&&Zr(c,this.latestValues),c}removeTransform(a){const o=Le();wt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!er(u.latestValues))continue;Au(u.latestValues)&&u.updateSnapshot();const d=Le(),h=u.measurePageBox();wt(d,h),wm(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return er(this.latestValues)&&wm(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),oi(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wt(this.target,this.layout.layoutBox),hw(this.target,this.targetDelta)):wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),oi(this.relativeTargetOrigin,this.target,v.target),wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ks&&tr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Au(this.parent.latestValues)||dw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;wt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;tE(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Le());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vm(this.prevProjectionDelta.x,this.projectionDelta.x),vm(this.prevProjectionDelta.y,this.projectionDelta.y)),ai(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!Cm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ks&&tr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gr(),this.projectionDelta=Gr(),this.projectionDeltaWithTransform=Gr()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Le(),v=c?c.source:void 0,g=this.layout?this.layout.source:void 0,w=v!==g,S=this.getStack(),x=!S||S.members.length<=1,m=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some($E));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const k=b/1e3;Pm(h.x,a.x,k),Pm(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oi(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UE(this.relativeTarget,this.relativeTargetOrigin,p,k),y&&SE(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Le()),wt(y,this.relativeTarget)),w&&(this.animationValues=d,vE(d,u,this.latestValues,k,m,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{to.hasAnimatedSinceResize=!0,this.currentAnimation=dE(0,Em,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Em),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&kw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Le();const h=vt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const p=vt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}wt(o,c),Zr(o,d),ai(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new jE),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&lc("z",a,u,this.animationValues);for(let d=0;d<oc.length;d++)lc(`rotate${oc[d]}`,a,u,this.animationValues),lc(`skew${oc[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EE;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xa(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Xa(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!er(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=CE(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:v,y:g}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in No){if(p[w]===void 0)continue;const{correct:S,applyTo:x}=No[w],m=u.transform==="none"?p[w]:S(p[w],h);if(x){const y=x.length;for(let b=0;b<y;b++)u[x[b]]=m}else u[w]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Xa(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(_m),this.root.sharedNodes.clear()}}}function LE(t){t.updateLayout()}function PE(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?bt(h=>{const p=a?n.measuredBox[h]:n.layoutBox[h],v=vt(p);p.min=r[h].min,p.max=p.min+v}):kw(i,n.layoutBox,r)&&bt(h=>{const p=a?n.measuredBox[h]:n.layoutBox[h],v=vt(r[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const o=Gr();ai(o,r,n.layoutBox);const c=Gr();a?ai(c,t.applyTransform(s,!0),n.measuredBox):ai(c,r,n.layoutBox);const u=!yw(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const g=Le();oi(g,n.layoutBox,p.layoutBox);const w=Le();oi(w,r,v.layoutBox),xw(g,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NE(t){Ks&&tr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TE(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ME(t){t.clearSnapshot()}function _m(t){t.clearMeasurements()}function OE(t){t.isLayoutDirty=!1}function AE(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Lm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RE(t){t.resolveTargetDelta()}function IE(t){t.calcProjection()}function DE(t){t.resetSkewAndRotation()}function BE(t){t.removeLeadSnapshot()}function Pm(t,e,n){t.translate=we(e.translate,0,n),t.scale=we(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Nm(t,e,n,r){t.min=we(e.min,n.min,r),t.max=we(e.max,n.max,r)}function UE(t,e,n,r){Nm(t.x,e.x,n.x,r),Nm(t.y,e.y,n.y,r)}function $E(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VE={duration:.45,ease:[.4,0,.1,1]},Tm=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mm=Tm("applewebkit/")&&!Tm("chrome/")?Math.round:mt;function Om(t){t.min=Mm(t.min),t.max=Mm(t.max)}function FE(t){Om(t.x),Om(t.y)}function kw(t,e,n){return t==="position"||t==="preserve-aspect"&&!HC(jm(e),jm(n),.2)}function zE(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const WE=bw({attachResizeListener:(t,e)=>Ai(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cc={current:void 0},Sw=bw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cc.current){const t=new WE({});t.mount(window),t.setOptions({layoutScroll:!0}),cc.current=t}return cc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),HE={pan:{Feature:oE},drag:{Feature:aE,ProjectionNode:Sw,MeasureLayout:mw}};function Am(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ge.postRender(()=>i(e,Yi(e)))}class KE extends Kn{mount(){const{current:e}=this.node;e&&(this.unmount=Hj(e,n=>(Am(this.node,n,"Start"),r=>Am(this.node,r,"End"))))}unmount(){}}class GE extends Kn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ji(Ai(this.node.current,"focus",()=>this.onFocus()),Ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rm(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ge.postRender(()=>i(e,Yi(e)))}class qE extends Kn{mount(){const{current:e}=this.node;e&&(this.unmount=Zj(e,n=>(Rm(this.node,n,"Start"),(r,{success:s})=>Rm(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iu=new WeakMap,uc=new WeakMap,ZE=t=>{const e=Iu.get(t.target);e&&e(t)},JE=t=>{t.forEach(ZE)};function YE({root:t,...e}){const n=t||document;uc.has(n)||uc.set(n,{});const r=uc.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(JE,{root:t,...e})),r[s]}function QE(t,e,n){const r=YE(e);return Iu.set(t,n),r.observe(t),()=>{Iu.delete(t),r.unobserve(t)}}const XE={some:0,all:1};class e_ extends Kn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:XE[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(c)};return QE(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(t_(e,n))&&this.startObserver()}unmount(){}}function t_({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const n_={inView:{Feature:e_},tap:{Feature:qE},focus:{Feature:GE},hover:{Feature:KE}},r_={layout:{ProjectionNode:Sw,MeasureLayout:mw}},Du={current:null},jw={current:!1};function s_(){if(jw.current=!0,!!Qd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Du.current=t.matches;t.addListener(e),e()}else Du.current=!1}const i_=[...Zx,Ge,Fn],a_=t=>i_.find(qx(t)),Im=new WeakMap;function o_(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Je(s))t.addValue(r,s);else if(Je(i))t.addValue(r,Mi(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Mi(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Dm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l_{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=qt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ge.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=yl(n),this.isVariantNode=rx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const g=p[v];c[v]!==void 0&&Je(g)&&g.set(c[v],!1)}}mount(e){this.current=e,Im.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jw.current||s_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Du.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Im.delete(this.current),this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=kr.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ms){const n=ms[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Dm.length;r++){const s=Dm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=o_(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Kx(s)||Dx(s))?s=parseFloat(s):!a_(s)&&Fn.test(n)&&(s=zx(e,n)),this.setBaseTarget(e,Je(s)?s.get():s)),Je(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=ih(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Je(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Cw extends l_{constructor(){super(...arguments),this.KeyframeResolver=Jx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Je(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function c_(t){return window.getComputedStyle(t)}class u_ extends Cw{constructor(){super(...arguments),this.type="html",this.renderInstance=hx}readValueFromInstance(e,n){if(kr.has(n)){const r=jh(n);return r&&r.default||0}else{const r=c_(e),s=(cx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fw(e,n)}build(e,n,r){lh(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hh(e,n,r)}}class d_ extends Cw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(kr.has(n)){const r=jh(n);return r&&r.default||0}return n=fx.has(n)?n:nh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gx(e,n,r)}build(e,n,r){ch(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){px(e,n,r,s)}mount(e){this.isSVGTag=dh(e.tagName),super.mount(e)}}const h_=(t,e)=>sh(t)?new d_(e):new u_(e,{allowProjection:t!==f.Fragment}),f_=Bj({...IC,...n_,...HE,...r_},h_),A=XS(f_),Ew=f.createContext(),_w=()=>{const t=f.useContext(Ew);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},p_=({children:t})=>{const[e,n]=f.useState(()=>{const s=localStorage.getItem("theme");return s?s==="dark":!0});f.useEffect(()=>{const s=window.document.documentElement;e?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const r=()=>{n(s=>!s)};return l.jsx(Ew.Provider,{value:{isDark:e,toggleTheme:r},children:t})};function bl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function m_(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}const g_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ph extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class v_ extends Ph{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bm extends Ph{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Um extends Ph{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bu||(Bu={}));class y_{constructor(e,{headers:n={},customFetch:r,region:s=Bu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=g_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return m_(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:c,body:u,signal:d,timeout:h}=r;let p={},{region:v}=r;v||(v=this.region);const g=new URL(`${this.url}/${n}`);v&&v!=="any"&&(p["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let S=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(S=a.signal,d.addEventListener("abort",()=>a.abort())):S=a.signal);const x=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:w,signal:S}).catch(k=>{throw new v_(k)}),m=x.headers.get("x-relay-error");if(m&&m==="true")throw new Bm(x);if(!x.ok)throw new Um(x);let y=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield x.json():y==="application/octet-stream"||y==="application/pdf"?b=yield x.blob():y==="text/event-stream"?b=x:y==="multipart/form-data"?b=yield x.formData():b=yield x.text(),{data:b,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Um||o instanceof Bm?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var x_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},w_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(n.method!=="HEAD"){var v;const x=await i.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&S&&S.length>1&&(c=parseInt(S[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var g;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new x_(a)}return{error:a,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",w=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${g}`,w&&(o+=` (${w})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},b_=class extends w_{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const $m=new RegExp("[,()]");var Nr=class extends b_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&$m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&$m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},k_=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(i.length>0){const a=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Nr({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Nr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},S_=class Lw{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new k_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Lw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(o="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Nr({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class j_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const C_="2.89.0",E_=`realtime-js/${C_}`,Pw="1.0.0",__="2.0.0",Vm=Pw,Uu=1e4,L_=1e3,P_=100;var bn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bn||(bn={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var It;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(It||(It={}));var $u;(function(t){t.websocket="websocket"})($u||($u={}));var rr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rr||(rr={}));class N_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var n,r;const s=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+a.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(v),w=0;g.setUint8(w++,this.KINDS.userBroadcastPush),g.setUint8(w++,c.length),g.setUint8(w++,o.length),g.setUint8(w++,a.length),g.setUint8(w++,u.length),g.setUint8(w++,h.length),g.setUint8(w++,n),Array.from(c,x=>g.setUint8(w++,x.charCodeAt(0))),Array.from(o,x=>g.setUint8(w++,x.charCodeAt(0))),Array.from(a,x=>g.setUint8(w++,x.charCodeAt(0))),Array.from(u,x=>g.setUint8(w++,x.charCodeAt(0))),Array.from(h,x=>g.setUint8(w++,x.charCodeAt(0)));var S=new Uint8Array(v.byteLength+r.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(r),v.byteLength),S.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[s,i,a,o,c]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+s));c=c+s;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=e.slice(c,e.byteLength),v=o===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,g={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class Nw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const Fm=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=T_(a,t,e,s),i),{}):{}},T_=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Tw(i,a):Vu(a)},Tw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return R_(e,n)}switch(t){case he.bool:return M_(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return O_(e);case he.json:case he.jsonb:return A_(e);case he.timestamp:return I_(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Vu(e);default:return Vu(e)}},Vu=t=>t,M_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},O_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},R_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Tw(e,o))}return t},I_=t=>typeof t=="string"?t.replace(" ","T"):t,Mw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class dc{constructor(e,n,r={},s=Uu){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zm||(zm={}));class li{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=li.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=li.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const p=d.map(S=>S.presence_ref),v=h.map(S=>S.presence_ref),g=d.filter(S=>v.indexOf(S.presence_ref)<0),w=h.filter(S=>p.indexOf(S.presence_ref)<0);g.length>0&&(o[u]=g),w.length>0&&(c[u]=w)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),d.length>0){const h=e[o].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[o].unshift(...p)}r(o,d,c)}),this.map(a,(o,c)=>{let u=e[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Wm||(Wm={}));var ci;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ci||(ci={}));var Xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class Jr{constructor(e,n={config:{}},r){var s,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,It.join,this.params,this.timeout),this.rejoinTimer=new Nw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new li(this),this.broadcastEndpointURL=Mw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:a,presence:o,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Xt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(Xt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,x=[];for(let m=0;m<S;m++){const y=w[m],{filter:{event:b,schema:k,table:j,filter:C}}=y,E=v&&v[m];if(E&&E.event===b&&Jr.isFilterValueEqual(E.schema,k)&&Jr.isFilterValueEqual(E.table,j)&&Jr.isFilterValueEqual(E.filter,C))x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Xt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Oe.errored,e==null||e(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Oe.joined&&e===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new dc(this,It.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new dc(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>P_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=It;if(r&&[o,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var g,w,S;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((S=(w=v.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(v=>v.callback(p,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var g,w,S,x,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const b=v.id,k=(g=v.filter)===null||g===void 0?void 0:g.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const b=(m=(x=v==null?void 0:v.filter)===null||x===void 0?void 0:x.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:w,table:S,commit_timestamp:x,type:m,errors:y}=g;p=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:x,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(g))}v.callback(p,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Jr.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(It.close,{},e)}_onError(e){this._on(It.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Fm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Fm(e.columns,e.old_record)),n}}const hc=()=>{},Aa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D_=[1e3,2e3,5e3,1e4],B_=1e4,U_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $_{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uu,this.transport=null,this.heartbeatIntervalMs=Aa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hc,this.ref=0,this.reconnectTimer=null,this.vsn=Vm,this.logger=hc,this.conn=null,this.sendBuffer=[],this.serializer=new N_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$u.websocket}`,this.httpEndpoint=Mw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=j_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bn.connecting:return rr.Connecting;case bn.open:return rr.Open;case bn.closing:return rr.Closing;default:return rr.Closed}}isConnected(){return this.connectionState()===rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Jr(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Aa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===bn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bn.open||this.conn.readyState===bn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(It.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([U_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:E_};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(It.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Aa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,o,c,u,d,h,p,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Uu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Aa.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:hc,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Vm,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>D_[g-1]||B_,this.vsn){case Pw:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,w)=>w(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,w)=>w(JSON.parse(g));break;case __:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ri=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V_(t,e,n){const r=new URL(e,t);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function F_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function z_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=V_(t.baseUrl,r,s),c=await F_(t.auth),u=await e(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const v=h?p:void 0,g=v==null?void 0:v.error;throw new Ri((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function Ra(t){return t.join("")}var W_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ra(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ra(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ra(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ra(t.namespace)}`}),!0}catch(e){if(e instanceof Ri&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Ri&&n.status===409)return;throw n}}};function jr(t){return t.join("")}var H_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Ri&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Ri&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},K_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=z_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new W_(this.client,e),this.tableOps=new H_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},kl=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var G_=class extends kl{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fu=class extends kl{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Nh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),q_=()=>Response,zu=t=>{if(Array.isArray(t))return t.map(n=>zu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=zu(r)}),e},Z_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ii(t){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ii(t)}function Y_(t,e){if(Ii(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q_(t){var e=Y_(t,"string");return Ii(e)=="symbol"?e:e+""}function X_(t,e,n){return(e=Q_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hm(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const fc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eL=async(t,e,n)=>{t instanceof await q_()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,i=(r==null?void 0:r.statusCode)||s+"";e(new G_(fc(r),s,i))}).catch(r=>{e(new Fu(fc(r),r))}):e(new Fu(fc(t),t))},tL=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Z_(r)?(s.headers=K({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),K(K({},s),n))};async function Qi(t,e,n,r,s,i){return new Promise((a,o)=>{t(n,tL(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>eL(c,o,r))})}async function Di(t,e,n,r){return Qi(t,"GET",e,n,r)}async function At(t,e,n,r,s){return Qi(t,"POST",e,r,s,n)}async function Wu(t,e,n,r,s){return Qi(t,"PUT",e,r,s,n)}async function nL(t,e,n,r){return Qi(t,"HEAD",e,K(K({},n),{},{noResolveJson:!0}),r)}async function Th(t,e,n,r,s){return Qi(t,"DELETE",e,r,s,n)}var rL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}}};let Ow;Ow=Symbol.toStringTag;var sL=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Ow]="BlobDownloadBuilder",this.promise=null}asStream(){return new rL(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ye(e))return{data:null,error:e};throw e}}};const iL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Km={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var aL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Nh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var s=this;try{let i;const a=K(K({},Km),r);let o=K(K({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=K(K({},o),r.headers));const u=s._removeEmptyFolders(e),d=s._getFinalPath(u),h=await(t=="PUT"?Wu:At)(s.fetch,`${s.url}/object/${d}`,i,K({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let c;const u=K({upsert:Km.upsert},r),d=K(K({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await Wu(s.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ye(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const s=K({},n.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await At(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new kl("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await At(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async copy(t,e,n){var r=this;try{return{data:{path:(await At(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,n){var r=this;try{let s=r._getFinalPath(t),i=await At(r.fetch,`${r.url}/object/sign/${s}`,K({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,n){var r=this;try{const s=await At(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>K(K({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(t),a=()=>Di(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new sL(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:zu(await Di(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await nL(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ye(r)&&r instanceof Fu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&r.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await Th(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const s=K(K(K({},iL),e),{},{prefix:t||""});return{data:await At(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}}async listV2(t,e){var n=this;try{const r=K({},t);return{data:await At(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Aw="2.89.0",Rw={"X-Client-Info":`storage-js/${Aw}`};var oL=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const s=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=K(K({},Rw),e),this.fetch=Nh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await Di(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Di(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await At(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Wu(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await At(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Th(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},lL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=K(K({},Rw),e),this.fetch=Nh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await At(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await Di(e.fetch,s,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Th(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!J_(t))throw new kl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new K_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const Mh={"X-Client-Info":`storage-js/${Aw}`,"Content-Type":"application/json"};var Iw=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function dt(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var pc=class extends Iw{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cL=class extends Iw{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Oh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dL=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";e(new pc(Gm(i),r,a))}).catch(()=>{const i=r+"";e(new pc(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";e(new pc(s.statusText||`HTTP ${r} error`,r,i))}}else e(new cL(Gm(t),t))},hL=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(uL(r)?(s.headers=K({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,K(K({},s),n)):s};async function fL(t,e,n,r,s,i){return new Promise((a,o)=>{t(n,hL(e,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>dL(c,o,r))})}async function ht(t,e,n,r,s){return fL(t,"POST",e,r,s,n)}var pL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=K(K({},Mh),e),this.fetch=Oh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await ht(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await ht(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}},mL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=K(K({},Mh),e),this.fetch=Oh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ht(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ht(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ht(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}},gL=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=K(K({},Mh),e),this.fetch=Oh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await ht(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await ht(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}},vL=class extends gL{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new yL(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},yL=class extends pL{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new xL(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},xL=class extends mL{constructor(t,e,n,r,s){super(t,e,s),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,K(K({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},wL=class extends oL{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new aL(this.url,this.headers,t,this.fetch)}get vectors(){return new vL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lL(this.url+"/iceberg",this.headers,this.fetch)}};const Dw="2.89.0",Tr=30*1e3,Hu=3,mc=Hu*Tr,bL="http://localhost:9999",kL="supabase.auth.token",SL={"X-Client-Info":`gotrue-js/${Dw}`},Ku="X-Supabase-Api-Version",Bw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CL=10*60*1e3;class Bi extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class EL extends Bi{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function _L(t){return B(t)&&t.name==="AuthApiError"}class sr extends Bi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class mn extends Bi{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class lt extends mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function LL(t){return B(t)&&t.name==="AuthSessionMissingError"}class Cr extends mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ia extends mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Da extends mn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PL(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class qm extends mn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class NL extends mn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Gu extends mn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function gc(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Zm extends mn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qu extends mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jm=` 	
\r=`.split(""),TL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Jm.length;e+=1)t[Jm[e].charCodeAt(0)]=-2;for(let e=0;e<Io.length;e+=1)t[Io[e].charCodeAt(0)]=e;return t})();function Ym(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Io[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Io[r]),e.queuedBits-=6}}function Uw(t,e,n){const r=TL[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qm(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{AL(a,r,n)};for(let a=0;a<t.length;a+=1)Uw(t.charCodeAt(a),s,i);return e.join("")}function ML(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function OL(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ML(r,e)}}function AL(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ss(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Uw(t.charCodeAt(s),n,r);return new Uint8Array(e)}function RL(t){const e=[];return OL(t,n=>e.push(n)),new Uint8Array(e)}function ur(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ym(s,n,r)),Ym(null,n,r),e.join("")}function IL(t){return Math.round(Date.now()/1e3)+t}function DL(){return Symbol("auth-callback")}const $e=()=>typeof window<"u"&&typeof document<"u",qn={tested:!1,writable:!1},$w=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qn.tested)return qn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qn.tested=!0,qn.writable=!0}catch{qn.tested=!0,qn.writable=!1}return qn.writable};function BL(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Vw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),UL=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Mr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ue=async(t,e)=>{await t.removeItem(e)};class Sl{constructor(){this.promise=new Sl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sl.promiseConstructor=Promise;function vc(t){const e=t.split(".");if(e.length!==3)throw new qu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!jL.test(e[r]))throw new qu("JWT not in base64url format");return{header:JSON.parse(Qm(e[0])),payload:JSON.parse(Qm(e[1])),signature:ss(e[2]),raw:{header:e[0],payload:e[1]}}}async function $L(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function VL(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function FL(t){return("0"+t.toString(16)).substr(-2)}function zL(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,FL).join("")}async function WL(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function HL(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await WL(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(t,e,n=!1){const r=zL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Mr(t,`${e}-code-verifier`,s);const i=await HL(r);return[i,r===i?"plain":"s256"]}const KL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GL(t){const e=t.headers.get(Ku);if(!e||!e.match(KL))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qL(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ZL(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(t){if(!JL.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YL(t,e){return new Proxy(t,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,s)}})}function Xm(t){return JSON.parse(JSON.stringify(t))}const nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QL=[502,503,504];async function eg(t){var e;if(!UL(t))throw new Gu(nr(t),0);if(QL.includes(t.status))throw new Gu(nr(t),t.status);let n;try{n=await t.json()}catch(i){throw new sr(nr(i),i)}let r;const s=GL(t);if(s&&s.getTime()>=Bw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Zm(nr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new lt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Zm(nr(n),t.status,n.weak_password.reasons);throw new EL(nr(n),t.status||500,r)}const XL=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ku]||(i[Ku]=Bw["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await eP(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function eP(t,e,n,r,s,i){const a=XL(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new Gu(nr(c),0)}if(o.ok||await eg(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(c){await eg(c)}}function Tt(t){var e;let n=null;rP(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=IL(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function tg(t){const e=Tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Cn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tP(t){return{data:t,error:null}}function nP(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=bl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function ng(t){return t}function rP(t){return t.access_token&&t.refresh_token&&t.expires_in}const xc=["global","local","others"];class sP{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Vw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=xc[0]){if(xc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xc.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bl(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ng});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){_r(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){_r(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){_r(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_r(e.userId);try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){_r(e.userId),_r(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ng});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}}function rg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Lr={debug:!!(globalThis&&$w()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iP extends Fw{}async function aP(t,e,n){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new iP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function oP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function lP(t){return parseInt(t,16)}function cP(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function uP(t){var e;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:c,resources:u,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=zw(t.address),g=d?`${d}://${r}`:r,w=t.statement?`${t.statement}
`:"",S=`${g} wants you to sign in with your Ethereum account:
${v}

${w}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}x+=m}return`${S}
${x}`}class Te extends Error{constructor({message:e,code:n,cause:r,name:s}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Do extends Te{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function dP({error:t,options:e}){var n,r,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Ww(a)){if(i.rp.id!==a)return new Te({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function hP({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Te({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Ww(r)){if(n.rpId!==r)return new Te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class fP{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const pP=new fP;function mP(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,s=bl(t,["challenge","user","excludeCredentials"]),i=ss(e).buffer,a=Object.assign(Object.assign({},n),{id:ss(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ss(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function gP(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=bl(t,["challenge","allowCredentials"]),s=ss(e).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ss(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function vP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ur(new Uint8Array(t.response.attestationObject)),clientDataJSON:ur(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yP(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ur(new Uint8Array(s.authenticatorData)),clientDataJSON:ur(new Uint8Array(s.clientDataJSON)),signature:ur(new Uint8Array(s.signature)),userHandle:s.userHandle?ur(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ww(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function sg(){var t,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xP(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",e)}:{data:null,error:new Do("Empty credential response",e)}}catch(e){return{data:null,error:dP({error:e,options:t})}}}async function wP(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Do("Browser returned unexpected credential type",e)}:{data:null,error:new Do("Empty credential response",e)}}catch(e){return{data:null,error:hP({error:e,options:t})}}}const bP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},kP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bo(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(e(a)){const o=r[i];e(o)?r[i]=Bo(o,a):r[i]=Bo(a)}else r[i]=a}return r}function SP(t,e){return Bo(bP,t,e||{})}function jP(t,e){return Bo(kP,t,e||{})}class CP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const c=s??pP.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=SP(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await xP({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=jP(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await wP(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return B(a)?{data:null,error:a}:{data:null,error:new sr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Bi("rpId is required for WebAuthn authentication")};try{if(!sg())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:c}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return B(a)?{data:null,error:a}:{data:null,error:new sr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Bi("rpId is required for WebAuthn registration")};try{if(!sg())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return B(a)?{data:null,error:a}:{data:null,error:new sr("Unexpected error in register",a)}}}}oP();const EP={url:bL,storageKey:kL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ig(t,e,n){return await n()}const Pr={};class Ui{get jwks(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},EP),e);if(this.storageKey=i.storageKey,this.instanceID=(n=Ui.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&$e()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sP({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vw(i.fetch),this.lock=i.lock||ig,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&$e()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=aP:this.lock=ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$w()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rg(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if($e()&&(n=BL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),$e()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PL(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?this._returnResult({error:n}):this._returnResult({error:new sr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Er(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:g},xform:Tt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Tt})}else throw new Ia("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await Ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tg})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tg})}else throw new Ia("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Cr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,s,i,a,o,c,u,d,h,p;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:w,wallet:S,statement:x,options:m}=e;let y;if($e())if(typeof S=="object")y=S;else{const _=window;if("ethereum"in _&&typeof _.ethereum=="object"&&"request"in _.ethereum&&typeof _.ethereum.request=="function")y=_.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=S}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(_=>_).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=zw(k[0]);let C=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const _=await y.request({method:"eth_chainId"});C=lP(_)}const E={domain:b.host,address:j,statement:x,uri:b.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=uP(E),g=await y.request({method:"personal_sign",params:[cP(v),j]})}try{const{data:w,error:S}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tt});if(S)throw S;if(!w||!w.session||!w.user){const x=new Cr;return this._returnResult({data:{user:null,session:null},error:x})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(B(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,s,i,a,o,c,u,d,h,p,v;let g,w;if("message"in e)g=e.message,w=e.signature;else{const{chain:S,wallet:x,statement:m,options:y}=e;let b;if($e())if(typeof x=="object")b=x;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:S,error:x}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ur(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Tt});if(x)throw x;if(!S||!S.session||!S.user){const m=new Cr;return this._returnResult({data:{user:null,session:null},error:m})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(B(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new NL;const{data:i,error:a}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tt});if(await Ue(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Cr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Er(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ia("You must provide either an email or phone number.")}catch(o){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,r,s,i,a;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Er(this.storage,this.storageKey));const u=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:tP});return!((i=u.data)===null||i===void 0)&&i.url&&$e()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new lt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(B(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ia("You must provide either an email or phone number and a type")}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Zn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=yc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=YL(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cn}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cn})})}catch(n){if(B(n))return LL(n)&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new lt;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Er(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Cn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=vc(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(B(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new lt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!$e())throw new Da("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Da(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new qm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Da("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qm("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!a||!u)throw new Da("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;c&&(p=parseInt(c));const v=p-d;v*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=p-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,d);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(B(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(_L(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=DL(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Er(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return $e()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(B(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:c,access_token:u,nonce:d}=e,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tt}),{data:p,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Cr}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VL(async s=>(s>0&&await $L(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&gc(i)&&Date.now()+a-r<Tr})}catch(r){if(this._debug(n,"error",r),B(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),$e()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Mr(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:yc()}else if(s&&!s.user&&!s.user){const a=await Zn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ue(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,s)):s.user=yc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<mc;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${mc}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),gc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sl;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),B(i)){const a={data:null,error:i};return gc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ue(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Xm(s);await Mr(this.storage,this.storageKey,i)}else{const s=Xm(n);await Mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ue(this.storage,this.storageKey),await Ue(this.storage,this.storageKey+"-code-verifier"),await Ue(this.storage,this.storageKey+"-user"),this.userStorage&&await Ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tr}ms, refresh threshold is ${Hu} ticks`),s<=Hu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Er(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vP(e.webauthn.credential_response):yP(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:mP(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:gP(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=vc(r.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lt})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lt});const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lt});const a=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&$e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new lt})})}catch(e){if(B(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new lt})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+CL>s)return r;const{data:i,error:a}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:g}=await this.getSession();if(g||!v.session)return this._returnResult({data:null,error:g});r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=vc(r);n!=null&&n.allowExpired||qL(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=ZL(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,RL(`${o}.${c}`)))throw new qu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}}Ui.nextInstanceID={};const _P=Ui,LP="2.89.0";let Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";const PP={"X-Client-Info":`supabase-js-${Gs}/${LP}`},NP={headers:PP},TP={schema:"public"},MP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OP={};function $i(t){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(t)}function AP(t,e){if($i(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RP(t){var e=AP(t,"string");return $i(e)=="symbol"?e:e+""}function IP(t,e,n){return(e=RP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ag(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ag(Object(n),!0).forEach(function(r){IP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const DP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),BP=()=>Headers,UP=(t,e,n)=>{const r=DP(n),s=BP();return async(i,a)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,je(je({},a),{},{headers:u}))}};function $P(t){return t.endsWith("/")?t:t+"/"}function VP(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:c,auth:u,realtime:d,global:h}=e,p={db:je(je({},c),s),auth:je(je({},u),i),realtime:je(je({},d),a),storage:{},global:je(je(je({},h),o),{},{headers:je(je({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function FP(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($P(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var zP=class extends _P{constructor(t){super(t)}},WP=class{constructor(t,e,n){var r,s;this.supabaseUrl=t,this.supabaseKey=e;const i=FP(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:TP,realtime:OP,auth:je(je({},MP),{},{storageKey:a}),global:NP},c=VP(n??{},o);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=UP(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new S_(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new wL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zP({url:this.authUrl.href,headers:je(je({},p),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new $_(this.realtimeUrl.href,je(je({},t),{},{params:je(je({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const HP=(t,e,n)=>new WP(t,e,n);function KP(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GP="https://kmirylovyxbfanpjhvbh.supabase.co",qP="sb_publishable_1DWnFyxlRMU75YUIogNTCg_yWCsVfSj",_e=HP(GP,qP,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),ZP=async()=>{try{const{data:t,error:e}=await _e.from("parking").select("count(*)").limit(1);return e?(console.error("Supabase connection test failed:",e),{success:!1,error:e}):(console.log("Supabase connection successful"),{success:!0,data:t})}catch(t){return console.error("Supabase connection error:",t),{success:!1,error:t}}},Hw=f.createContext(),js=()=>{const t=f.useContext(Hw);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},JP=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(!0),[i,a]=f.useState(null);f.useEffect(()=>{_e.auth.getSession().then(({data:{session:m}})=>{a(m),n((m==null?void 0:m.user)??null),s(!1)});const{data:{subscription:x}}=_e.auth.onAuthStateChange(async(m,y)=>{a(y),n((y==null?void 0:y.user)??null),s(!1)});return()=>x.unsubscribe()},[]);const o=async(x,m,y={})=>{s(!0);try{const{data:b,error:k}=await _e.auth.signUp({email:x,password:m,options:{data:y}});if(k)throw k;return{data:b,error:null}}catch(b){return{data:null,error:b}}finally{s(!1)}},c=async(x,m)=>{s(!0);try{const{data:y,error:b}=await _e.auth.signInWithPassword({email:x,password:m});if(b)throw b;return{data:y,error:null}}catch(y){return{data:null,error:y}}finally{s(!1)}},u=async()=>{s(!0);try{const{data:x,error:m}=await _e.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(m)throw m;return{data:x,error:null}}catch(x){return{data:null,error:x}}finally{s(!1)}},d=async()=>{s(!0);try{const{data:x,error:m}=await _e.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/dashboard`}});if(m)throw m;return{data:x,error:null}}catch(x){return{data:null,error:x}}finally{s(!1)}},h=async()=>{s(!0);try{const{error:x}=await _e.auth.signOut();if(x)throw x;return{error:null}}catch(x){return{error:x}}finally{s(!1)}},p=async x=>{try{const{data:m,error:y}=await _e.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(y)throw y;return{data:m,error:null}}catch(m){return{data:null,error:m}}},v=()=>{var x,m;return((x=e==null?void 0:e.user_metadata)==null?void 0:x.role)||((m=e==null?void 0:e.app_metadata)==null?void 0:m.role)||"user"},S={user:e,session:i,isLoading:r,signUp:o,signIn:c,signInWithGoogle:u,signInWithFacebook:d,signOut:h,resetPassword:p,getUserRole:v,isAdmin:()=>v()==="admin",isManager:()=>{const x=v();return x==="manager"||x==="admin"},isAuthenticated:!!e};return l.jsx(Hw.Provider,{value:S,children:t})};function YP({message:t,type:e="success",duration:n=3e3,onClose:r}){const[s,i]=f.useState(!0);f.useEffect(()=>{const c=setTimeout(()=>{i(!1),setTimeout(r,300)},n);return()=>clearTimeout(c)},[n,r]);const a={success:"",error:"",warning:"",info:""},o={success:"from-green-500 to-emerald-500",error:"from-red-500 to-rose-500",warning:"from-yellow-500 to-orange-500",info:"from-blue-500 to-cyan-500"};return l.jsx(ml,{children:s&&l.jsx(A.div,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},className:"fixed top-20 right-4 z-50 max-w-sm",children:l.jsx("div",{className:`bg-gradient-to-r ${o[e]} p-4 rounded-2xl shadow-2xl text-white`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:a[e]}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"font-semibold text-sm",children:t})}),l.jsx("button",{onClick:()=>{i(!1),setTimeout(r,300)},className:"text-white/80 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})})}const Kw=f.createContext(),jl=()=>{const t=f.useContext(Kw);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t},QP=({children:t})=>{const[e,n]=f.useState([]),r=(u,d="success",h=3e3)=>{const v={id:Date.now()+Math.random(),message:u,type:d,duration:h};n(g=>[...g,v])},s=u=>{n(d=>d.filter(h=>h.id!==u))},i=(u,d)=>r(u,"success",d),a=(u,d)=>r(u,"error",d),o=(u,d)=>r(u,"warning",d),c=(u,d)=>r(u,"info",d);return l.jsxs(Kw.Provider,{value:{addNotification:r,showSuccess:i,showError:a,showWarning:o,showInfo:c},children:[t,l.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2",children:e.map((u,d)=>l.jsx("div",{style:{transform:`translateY(${d*10}px)`},children:l.jsx(YP,{message:u.message,type:u.type,duration:u.duration,onClose:()=>s(u.id)})},u.id))})]})},Gw=f.createContext(),Ah=()=>{const t=f.useContext(Gw);if(!t)throw new Error("useLocation must be used within LocationProvider");return t},XP=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(null),[i,a]=f.useState(!1),[o,c]=f.useState(null),[u,d]=f.useState(""),{showError:h,showSuccess:p}=jl(),v={lat:21.1458,lng:79.0882,address:"Nagpur, Maharashtra, India"};f.useEffect(()=>{e||n(v)},[]);const g=async()=>{if(!navigator.geolocation)return c("Geolocation is not supported by this browser"),h("Geolocation not supported"),null;a(!0),c(null);try{const k=await new Promise((_,L)=>{navigator.geolocation.getCurrentPosition(_,L,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),j={lat:k.coords.latitude,lng:k.coords.longitude},C=await w(j.lat,j.lng),E={...j,address:C};return s(E),n(E),p("Location detected successfully"),E}catch(k){let j="Failed to get location";switch(k.code){case k.PERMISSION_DENIED:j="Location access denied. Please enable location permissions.";break;case k.POSITION_UNAVAILABLE:j="Location information is unavailable.";break;case k.TIMEOUT:j="Location request timed out.";break;default:j="An unknown error occurred while retrieving location.";break}return c(j),h(j),null}finally{a(!1)}},w=async(k,j)=>{var C,E;try{if(!((E=(C=window.google)==null?void 0:C.maps)!=null&&E.Geocoder))return`${k.toFixed(4)}, ${j.toFixed(4)}`;const _=new window.google.maps.Geocoder;return(await new Promise((M,U)=>{_.geocode({location:{lat:k,lng:j}},(z,$)=>{$==="OK"&&z[0]?M(z[0]):U(new Error("Geocoding failed"))})})).formatted_address}catch(_){return console.warn("Reverse geocoding failed:",_),`${k.toFixed(4)}, ${j.toFixed(4)}`}},S=async k=>{var j,C;try{if(!((C=(j=window.google)==null?void 0:j.maps)!=null&&C.Geocoder))throw new Error("Google Maps not loaded");const E=new window.google.maps.Geocoder,_=await new Promise((M,U)=>{E.geocode({address:k},(z,$)=>{$==="OK"&&z[0]?M(z[0]):U(new Error("Address not found"))})}),L=_.geometry.location;return{lat:L.lat(),lng:L.lng(),address:_.formatted_address}}catch(E){throw console.warn("Geocoding failed:",E),E}},b={selectedLocation:e,userLocation:r,isLoadingLocation:i,locationError:o,searchQuery:u,setSearchQuery:d,getCurrentLocation:g,setLocationFromMap:async(k,j)=>{a(!0);try{const C=await w(k,j),E={lat:k,lng:j,address:C};return n(E),d(C),E}catch{return h("Failed to get address for selected location"),null}finally{a(!1)}},setLocationFromSearch:async k=>{if(!k.trim())return null;a(!0),d(k);try{const j=await S(k);return n(j),p("Location found successfully"),j}catch{return h("Location not found. Please try a different search."),null}finally{a(!1)}},reverseGeocode:w,geocodeAddress:S,calculateDistance:(k,j,C,E)=>{const L=(C-k)*Math.PI/180,M=(E-j)*Math.PI/180,U=Math.sin(L/2)*Math.sin(L/2)+Math.cos(k*Math.PI/180)*Math.cos(C*Math.PI/180)*Math.sin(M/2)*Math.sin(M/2);return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},defaultLocation:v};return l.jsx(Gw.Provider,{value:b,children:t})};function Jn({children:t,requireAuth:e=!0,requireRole:n=null,fallback:r="/login"}){const{user:s,isLoading:i,getUserRole:a,isAuthenticated:o}=js(),c=Vt();if(i)return l.jsxs("div",{className:"flex min-h-screen items-center justify-center",children:[l.jsx(A.div,{className:"h-12 w-12 rounded-full border-4 border-accent-500 border-t-transparent",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}}),l.jsx("span",{className:"ml-4 text-lg text-slate-600 dark:text-slate-400",children:"Checking authentication..."})]});if(e&&!o)return l.jsx(ES,{to:r,state:{from:c},replace:!0});if(n&&o){const u=a();if(!(()=>{switch(n){case"admin":return u==="admin";case"manager":return u==="manager"||u==="admin";case"user":return["user","manager","admin"].includes(u);default:return!1}})())return l.jsx("div",{className:"flex min-h-screen items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-red-100 dark:bg-red-900/20 p-3",children:l.jsx("svg",{className:"h-full w-full text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"You don't have permission to access this page."}),l.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:["Required role: ",n," | Your role: ",u]}),l.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary-500/40 transition-all hover:scale-105",children:"Go Back"})]})})}return t}const og=[{to:"/",label:"Home"},{to:"/discover",label:"Discover"},{to:"/services",label:"Services"},{to:"/dashboard",label:"Dashboard"},{to:"/booking-history",label:"History"},{to:"/admin",label:"Admin"},{to:"/management",label:"Management"}];function eN(){var p,v,g,w,S,x;const{isDark:t,toggleTheme:e}=_w(),{user:n,isAuthenticated:r,signOut:s}=js(),[i,a]=f.useState(!1),[o,c]=f.useState(!1),[u,d]=f.useState(!1),h=Vt();return f.useEffect(()=>{const m=()=>a(window.scrollY>10);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),l.jsxs(A.header,{initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:`fixed top-0 z-50 w-full transition-all duration-300 ${i?"glass-nav shadow-lg shadow-black/5 dark:shadow-black/20":"bg-transparent"}`,children:[l.jsxs("nav",{className:"mx-auto flex h-16 max-w-6xl items-center justify-between px-4 sm:px-6 lg:px-8",children:[l.jsxs(qe,{to:"/",className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-gradient-to-br from-primary-500 to-accent-500 text-white shadow-lg shadow-primary-500/40",children:l.jsx("span",{className:"text-xl font-bold",children:"P"})}),l.jsxs("div",{className:"flex flex-col leading-tight",children:[l.jsx("span",{className:"text-lg font-semibold tracking-tight text-slate-900 dark:text-slate-50",children:"EasyPark"}),l.jsx("span",{className:"text-[10px] uppercase tracking-[0.16em] text-slate-500 dark:text-slate-400",children:"Smart Parking"})]})]}),l.jsx("div",{className:"hidden items-center gap-0.5 rounded-full glass-iridescent px-1.5 py-1.5 text-sm md:flex shadow-2xl",children:og.map(m=>l.jsx(bp,{to:m.to,className:({isActive:y})=>`relative px-5 py-2.5 rounded-full transition-all duration-300 z-10 ${y||h.pathname===m.to?"text-slate-900 dark:text-white font-semibold bg-white/90 dark:bg-slate-700/90 shadow-md":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-white/30 dark:hover:bg-slate-700/30"}`,children:({isActive:y})=>l.jsx("span",{className:"relative whitespace-nowrap",children:m.label})},m.to))}),l.jsx("button",{onClick:()=>d(!u),className:"md:hidden glass-button p-2 rounded-lg","aria-label":"Toggle mobile menu",children:l.jsx(A.div,{animate:{rotate:u?90:0},transition:{duration:.2},children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),l.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[r?l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 glass-button px-3 py-2 rounded-full hover:bg-white/80 dark:hover:bg-slate-700/80 transition-all duration-300",children:[l.jsx("img",{src:(n==null?void 0:n.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:(n==null?void 0:n.name)||"User",className:"w-6 h-6 rounded-full"}),l.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 hidden sm:block",children:((p=n==null?void 0:n.user_metadata)==null?void 0:p.full_name)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User"}),l.jsx("svg",{className:"w-4 h-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&l.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-48 glass-modal rounded-xl shadow-lg z-50",children:[l.jsxs("div",{className:"p-3 border-b border-white/20 dark:border-white/10",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:((g=n==null?void 0:n.user_metadata)==null?void 0:g.full_name)||((w=n==null?void 0:n.email)==null?void 0:w.split("@")[0])||"User"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:n==null?void 0:n.email})]}),l.jsxs("div",{className:"p-1",children:[l.jsxs(qe,{to:"/profile",className:"flex items-center px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-white/20 dark:hover:bg-slate-800/20 rounded-lg transition-colors",onClick:()=>c(!1),children:[l.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),l.jsxs(qe,{to:"/settings",className:"flex items-center px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-white/20 dark:hover:bg-slate-800/20 rounded-lg transition-colors",onClick:()=>c(!1),children:[l.jsxs("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]}),l.jsxs("button",{onClick:async()=>{await s(),c(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign out"]})]})]})]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qe,{to:"/login",className:"glass-button px-4 py-2 rounded-full text-slate-700 dark:text-slate-300 hover:bg-white/80 dark:hover:bg-slate-700/80 transition-all duration-300 font-medium",children:"Sign in"}),l.jsx(qe,{to:"/signup",className:"bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-2 rounded-full text-white font-medium shadow-lg shadow-primary-500/40 hover:scale-105 transition-all duration-300",children:"Sign up"})]}),l.jsx("button",{onClick:e,className:"relative inline-flex h-8 w-14 items-center rounded-full bg-slate-200 dark:bg-slate-800 p-1 text-xs shadow-inner shadow-black/10 dark:shadow-black/40 transition-colors duration-300","aria-label":"Toggle dark mode",children:l.jsx(A.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:30},className:`flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-br from-primary-500 to-accent-500 text-white shadow-md shadow-primary-500/40 ${t?"translate-x-0":"translate-x-6"}`,children:l.jsx("span",{className:"text-xs",children:t?"":""})})})]})]}),u&&l.jsx(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden glass-iridescent mx-4 mt-3 rounded-2xl shadow-2xl",children:l.jsxs("div",{className:"p-3 space-y-1 relative z-10",children:[og.map(m=>{const y=h.pathname===m.to;return l.jsx(bp,{to:m.to,onClick:()=>d(!1),className:`flex items-center px-4 py-3 rounded-2xl transition-all duration-300 ${y?"text-slate-900 dark:text-white font-semibold bg-white/90 dark:bg-slate-700/90 shadow-md":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-100 hover:bg-white/30 dark:hover:bg-slate-700/30"}`,children:l.jsx("span",{children:m.label})},m.to)}),l.jsxs("div",{className:"border-t border-white/20 dark:border-white/10 pt-4 mt-4 relative z-10",children:[r?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-3 px-4 py-2",children:[l.jsx("img",{src:(n==null?void 0:n.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:(n==null?void 0:n.name)||"User",className:"w-8 h-8 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:((S=n==null?void 0:n.user_metadata)==null?void 0:S.full_name)||((x=n==null?void 0:n.email)==null?void 0:x.split("@")[0])||"User"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:n==null?void 0:n.email})]})]}),l.jsxs("button",{onClick:async()=>{await s(),d(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[l.jsx("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign out"]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx(qe,{to:"/login",onClick:()=>d(!1),className:"flex items-center justify-center w-full px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-white/40 dark:hover:bg-slate-700/40 rounded-lg transition-colors font-medium",children:"Sign in"}),l.jsx(qe,{to:"/signup",onClick:()=>d(!1),className:"flex items-center justify-center w-full bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-2 rounded-lg text-white font-medium shadow-lg shadow-primary-500/40",children:"Sign up"})]}),l.jsxs("div",{className:"flex items-center justify-between px-4 py-2 mt-4",children:[l.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Dark mode"}),l.jsx("button",{onClick:e,className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-800 p-1 text-xs shadow-inner shadow-black/10 dark:shadow-black/40 transition-colors duration-300","aria-label":"Toggle dark mode",children:l.jsx(A.div,{layout:!0,transition:{type:"spring",stiffness:500,damping:30},className:`flex h-4 w-4 items-center justify-center rounded-full bg-gradient-to-br from-primary-500 to-accent-500 text-white shadow-md shadow-primary-500/40 ${t?"translate-x-0":"translate-x-5"}`,children:l.jsx("span",{className:"text-[10px]",children:t?"":""})})})]})]})]})})]})}function tN(){const{isDark:t}=_w(),[e,n]=f.useState([]);return f.useEffect(()=>{const s=["cyan","purple","blue","pink","emerald","orange","indigo","teal","yellow","red","violet","lime","rose","amber","sky","fuchsia"].map((i,a)=>({id:a,color:i,x:Math.random()*100,y:Math.random()*100,size:Math.random()*200+100,opacity:t?Math.random()*.3+.1:Math.random()*.4+.2,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*2,scale:Math.random()*.5+.75,scaleDirection:Math.random()>.5?1:-1}));n(s)},[t]),f.useEffect(()=>{const s=setInterval(()=>{n(i=>i.map(a=>{let o=a.x+a.speedX,c=a.y+a.speedY,u=a.speedX,d=a.speedY;(o<=-10||o>=110)&&(u=-a.speedX,o=Math.max(-10,Math.min(110,o))),(c<=-10||c>=110)&&(d=-a.speedY,c=Math.max(-10,Math.min(110,c)));let h=a.scale+a.scaleDirection*.002,p=a.scaleDirection;return(h>=1.3||h<=.7)&&(p=-a.scaleDirection),{...a,x:o,y:c,speedX:u,speedY:d,rotation:(a.rotation+a.rotationSpeed)%360,scale:h,scaleDirection:p}}))},50);return()=>clearInterval(s)},[]),f.useEffect(()=>{n(r=>r.map(s=>({...s,opacity:t?Math.random()*.15+.05:Math.random()*.2+.1})))},[t]),l.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.map(r=>l.jsx("div",{className:`absolute rounded-full blur-3xl transition-opacity duration-1000 bg-gradient-radial from-${r.color}-400 to-transparent`,style:{left:`${r.x}vw`,top:`${r.y}vh`,width:`${r.size}px`,height:`${r.size}px`,opacity:r.opacity,transform:`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${r.scale})`,transition:"left 0.05s linear, top 0.05s linear, transform 0.05s linear"}},r.id)),l.jsx("div",{className:"absolute inset-0 opacity-30 dark:opacity-20",style:{background:`
            radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(147, 51, 234, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 40% 40%, rgba(16, 185, 129, 0.1) 0%, transparent 50%)
          `,animation:"moveGradient 20s ease-in-out infinite"}})]})}const qs={getAll:async()=>{const{data:t,error:e}=await _e.from("parking").select("*").order("name");if(e)throw e;return t},getById:async t=>{const{data:e,error:n}=await _e.from("parking").select("*").eq("id",t).single();if(n)throw n;return e},getNearby:async(t,e,n=10)=>{const{data:r,error:s}=await _e.rpc("get_nearby_parking",{user_lat:t,user_lng:e,radius_km:n});if(s){const{data:i,error:a}=await _e.from("parking").select("*");if(a)throw a;return i.map(o=>({...o,distance_km:rN(t,e,o.lat,o.lng)})).sort((o,c)=>o.distance_km-c.distance_km)}return r},search:async t=>{const{data:e,error:n}=await _e.from("parking").select("*").or(`name.ilike.%${t}%,address.ilike.%${t}%`).order("name");if(n)throw n;return e},create:async t=>{const{data:e,error:n}=await _e.from("parking").insert([t]).select().single();if(n)throw n;return e},update:async(t,e)=>{const{data:n,error:r}=await _e.from("parking").update(e).eq("id",t).select().single();if(r)throw r;return n},delete:async t=>{const{error:e}=await _e.from("parking").delete().eq("id",t);if(e)throw e;return!0},subscribe:t=>_e.channel("parking_changes").on("postgres_changes",{event:"*",schema:"public",table:"parking"},t).subscribe()},nN={getUserFastags:async t=>{const{data:e,error:n}=await _e.from("fastag_accounts").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e},addAccount:async t=>{const{data:e,error:n}=await _e.from("fastag_accounts").insert([t]).select().single();if(n)throw n;return e},createRecharge:async t=>{const{data:e,error:n}=await _e.from("fastag_recharges").insert([t]).select().single();if(n)throw n;return e},getRechargeHistory:async t=>{const{data:e,error:n}=await _e.from("fastag_recharges").select(`
        *,
        fastag_account:fastag_account_id (
          vehicle_number,
          provider
        )
      `).eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e}},rN=(t,e,n,r)=>{const i=(n-t)*Math.PI/180,a=(r-e)*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},lg=[{id:"paytm",name:"Paytm Payments Bank",logo:""},{id:"icici",name:"ICICI Bank",logo:""},{id:"hdfc",name:"HDFC Bank",logo:""},{id:"axis",name:"Axis Bank",logo:""},{id:"sbi",name:"State Bank of India",logo:""},{id:"kotak",name:"Kotak Mahindra Bank",logo:""}],sN=[100,200,500,1e3,2e3,5e3];function iN({onClose:t}){var y;const[e,n]=f.useState(1),{user:r}=js(),{showSuccess:s,showError:i}=jl(),[a,o]=f.useState({vehicleNumber:"",provider:"",mobileNumber:"",amount:"",customAmount:"",paymentMethod:"upi"}),[c,u]=f.useState(!1),[d,h]=f.useState({}),[p,v]=f.useState(null),g=b=>{const k={};return b===1&&(a.vehicleNumber.trim()?/^[A-Z]{2}[0-9]{2}[A-Z]{2}[0-9]{4}$/.test(a.vehicleNumber.replace(/\s/g,""))||(k.vehicleNumber="Please enter a valid vehicle number (e.g., MH12AB1234)"):k.vehicleNumber="Vehicle number is required",a.provider||(k.provider="Please select your FASTag provider")),b===2&&(a.mobileNumber.trim()?/^[6-9]\d{9}$/.test(a.mobileNumber)||(k.mobileNumber="Please enter a valid 10-digit mobile number"):k.mobileNumber="Mobile number is required",!a.amount&&!a.customAmount?k.amount="Please select or enter recharge amount":a.amount==="custom"&&(!a.customAmount||a.customAmount<100)&&(k.customAmount="Minimum recharge amount is 100")),h(k),Object.keys(k).length===0},w=()=>{g(e)&&n(e+1)},S=()=>a.amount==="custom"?a.customAmount:a.amount,x=async()=>{if(g(2)){if(!r){i("Please login to continue");return}u(!0);try{const b=S(),k={user_id:r.id,vehicle_number:a.vehicleNumber.replace(/\s/g,"").toUpperCase(),provider:a.provider,mobile_number:a.mobileNumber,amount:parseInt(b),payment_method:a.paymentMethod,status:"processing",transaction_id:`FT${Date.now()}${Math.random().toString(36).substring(2,6).toUpperCase()}`},j=await nN.createRecharge(k);await new Promise(C=>setTimeout(C,2e3)),v({...j,status:"completed",completed_at:new Date().toISOString()}),u(!1),n(3),s(`FASTag recharged successfully with ${b}!`)}catch(b){console.error("Recharge failed:",b),u(!1),v({status:"failed",error:b.message}),n(3),i("Recharge failed. Please try again.")}}},m=b=>{const k=b.replace(/[^A-Z0-9]/g,"").toUpperCase();return k.length<=4?k:k.length<=6?k.slice(0,2)+" "+k.slice(2,4)+" "+k.slice(4):k.slice(0,2)+" "+k.slice(2,4)+" "+k.slice(4,6)+" "+k.slice(6,10)};return e===3?l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${(p==null?void 0:p.status)==="completed"?"bg-green-500/20":"bg-red-500/20"}`,children:(p==null?void 0:p.status)==="completed"?l.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:(p==null?void 0:p.status)==="completed"?"Recharge Successful!":"Recharge Failed"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:(p==null?void 0:p.status)==="completed"?"Your FASTag has been recharged successfully":(p==null?void 0:p.error)||"Something went wrong. Please try again."})]}),(p==null?void 0:p.status)==="completed"&&l.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-6 text-left",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Vehicle Number"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:a.vehicleNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Amount"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["",S()]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Provider"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:(y=lg.find(b=>b.id===a.provider))==null?void 0:y.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Transaction ID"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:(p==null?void 0:p.transaction_id)||"N/A"})]})]})}),l.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-primary-500 to-accent-500 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform",children:"Done"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2].map(b=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${e>=b?"bg-blue-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:b}),b<2&&l.jsx("div",{className:`w-16 h-1 mx-2 ${e>b?"bg-blue-500":"bg-slate-200 dark:bg-slate-700"}`})]},b))}),e===1&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Number"}),l.jsx("input",{type:"text",value:a.vehicleNumber,onChange:b=>o({...a,vehicleNumber:m(b.target.value)}),placeholder:"MH 12 AB 1234",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 placeholder:text-slate-400 ${d.vehicleNumber?"border-red-500":""}`,maxLength:13}),d.vehicleNumber&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.vehicleNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"FASTag Provider"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:lg.map(b=>l.jsx("button",{onClick:()=>o({...a,provider:b.id}),className:`p-3 rounded-2xl border-2 transition-all ${a.provider===b.id?"border-blue-500 bg-blue-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:b.logo}),l.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-50",children:b.name})]})},b.id))}),d.provider&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.provider})]}),l.jsx("button",{onClick:w,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform",children:"Continue"})]}),e===2&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Mobile Number"}),l.jsx("input",{type:"tel",value:a.mobileNumber,onChange:b=>o({...a,mobileNumber:b.target.value.replace(/\D/g,"").slice(0,10)}),placeholder:"9876543210",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 placeholder:text-slate-400 ${d.mobileNumber?"border-red-500":""}`}),d.mobileNumber&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.mobileNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Recharge Amount"}),l.jsx("div",{className:"grid grid-cols-3 gap-3 mb-3",children:sN.map(b=>l.jsx("button",{onClick:()=>o({...a,amount:b.toString(),customAmount:""}),className:`p-3 rounded-2xl border-2 transition-all ${a.amount===b.toString()?"border-blue-500 bg-blue-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:l.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["",b]})},b))}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>o({...a,amount:"custom"}),className:`px-4 py-2 rounded-xl border-2 transition-all ${a.amount==="custom"?"border-blue-500 bg-blue-500/10":"border-slate-200 dark:border-slate-700"}`,children:l.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:"Custom"})}),a.amount==="custom"&&l.jsx("input",{type:"number",value:a.customAmount,onChange:b=>o({...a,customAmount:b.target.value}),placeholder:"Enter amount",min:"100",className:"flex-1 px-3 py-2 rounded-xl glass-input text-slate-900 dark:text-slate-50"})]}),d.amount&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.amount}),d.customAmount&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.customAmount})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Payment Method"}),l.jsx("div",{className:"space-y-2",children:[{id:"upi",name:"UPI",icon:""},{id:"card",name:"Credit/Debit Card",icon:""},{id:"wallet",name:"Digital Wallet",icon:""}].map(b=>l.jsxs("button",{onClick:()=>o({...a,paymentMethod:b.id}),className:`w-full p-3 rounded-2xl border-2 transition-all flex items-center gap-3 ${a.paymentMethod===b.id?"border-blue-500 bg-blue-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,children:[l.jsx("span",{className:"text-lg",children:b.icon}),l.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-50",children:b.name})]},b.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>n(1),className:"flex-1 py-3 px-6 rounded-2xl glass-button text-slate-700 dark:text-slate-300 font-semibold hover:bg-white/20 dark:hover:bg-slate-800/20 transition-colors",children:"Back"}),l.jsx("button",{onClick:x,disabled:c,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:c?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):`Pay ${S()}`})]})]})]})}const Ba=[{id:"icici",name:"ICICI Lombard",logo:"",rating:4.5},{id:"hdfc",name:"HDFC ERGO",logo:"",rating:4.3},{id:"bajaj",name:"Bajaj Allianz",logo:"",rating:4.4},{id:"tata",name:"Tata AIG",logo:"",rating:4.2},{id:"reliance",name:"Reliance General",logo:"",rating:4.1},{id:"oriental",name:"Oriental Insurance",logo:"",rating:4}],aN=[{id:"hatchback",name:"Hatchback",icon:""},{id:"sedan",name:"Sedan",icon:""},{id:"suv",name:"SUV",icon:""},{id:"luxury",name:"Luxury Car",icon:""}];function oN({onClose:t}){var S,x;const[e,n]=f.useState(1),[r,s]=f.useState({vehicleNumber:"",previousProvider:"",expiryDate:"",vehicleType:"",manufacturingYear:"",ownerName:"",mobileNumber:"",selectedPlan:"",selectedProvider:""}),[i,a]=f.useState(!1),[o,c]=f.useState({}),[u,d]=f.useState([]),h=m=>{const y={};return m===1&&(r.vehicleNumber.trim()?/^[A-Z]{2}[0-9]{2}[A-Z]{2}[0-9]{4}$/.test(r.vehicleNumber.replace(/\s/g,""))||(y.vehicleNumber="Please enter a valid vehicle number"):y.vehicleNumber="Vehicle number is required",r.previousProvider||(y.previousProvider="Please select your previous insurance provider"),r.expiryDate||(y.expiryDate="Policy expiry date is required")),m===2&&(r.vehicleType||(y.vehicleType="Please select vehicle type"),r.manufacturingYear?(r.manufacturingYear<2e3||r.manufacturingYear>new Date().getFullYear())&&(y.manufacturingYear="Please enter a valid year"):y.manufacturingYear="Manufacturing year is required",r.ownerName.trim()||(y.ownerName="Owner name is required"),r.mobileNumber.trim()?/^[6-9]\d{9}$/.test(r.mobileNumber)||(y.mobileNumber="Please enter a valid mobile number"):y.mobileNumber="Mobile number is required"),c(y),Object.keys(y).length===0},p=async()=>{if(h(e)){if(e===2){a(!0),await new Promise(y=>setTimeout(y,2e3));const m=Ba.map(y=>({...y,comprehensive:Math.floor(8e3+Math.random()*3e3),thirdparty:Math.floor(2e3+Math.random()*1e3)}));d(m),a(!1)}n(e+1)}},v=(m,y)=>{s({...r,selectedProvider:m,selectedPlan:y}),n(4)},g=async()=>{a(!0),await new Promise(m=>setTimeout(m,2e3)),a(!1),n(5)},w=m=>{const y=m.replace(/[^A-Z0-9]/g,"").toUpperCase();return y.length<=4?y:y.length<=6?y.slice(0,2)+" "+y.slice(2,4)+" "+y.slice(4):y.slice(0,2)+" "+y.slice(2,4)+" "+y.slice(4,6)+" "+y.slice(6,10)};if(e===5){const m=Ba.find(k=>k.id===r.selectedProvider),y=u.find(k=>k.id===r.selectedProvider),b=(y==null?void 0:y[r.selectedPlan])||0;return l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Insurance Renewed Successfully!"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your vehicle insurance policy has been renewed"})]}),l.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-6 text-left",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Vehicle Number"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:r.vehicleNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Premium Amount"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["",b]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Insurance Provider"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:m==null?void 0:m.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Policy Number"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["POL",Date.now()]})]})]})}),l.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-primary-500 to-accent-500 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform",children:"Done"})]})}return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3,4].map(m=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${e>=m?"bg-purple-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500"}`,children:m}),m<4&&l.jsx("div",{className:`w-12 h-1 mx-2 ${e>m?"bg-purple-500":"bg-slate-200 dark:bg-slate-700"}`})]},m))}),e===1&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Number"}),l.jsx("input",{type:"text",value:r.vehicleNumber,onChange:m=>s({...r,vehicleNumber:w(m.target.value)}),placeholder:"MH 12 AB 1234",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 ${o.vehicleNumber?"border-red-500":""}`,maxLength:13}),o.vehicleNumber&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.vehicleNumber})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Previous Insurance Provider"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ba.map(m=>l.jsx("button",{onClick:()=>s({...r,previousProvider:m.id}),className:`p-3 rounded-2xl border-2 transition-all ${r.previousProvider===m.id?"border-purple-500 bg-purple-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:m.logo}),l.jsx("span",{className:"text-xs font-medium text-slate-900 dark:text-slate-50",children:m.name})]})},m.id))}),o.previousProvider&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.previousProvider})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Policy Expiry Date"}),l.jsx("input",{type:"date",value:r.expiryDate,onChange:m=>s({...r,expiryDate:m.target.value}),className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 ${o.expiryDate?"border-red-500":""}`}),o.expiryDate&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.expiryDate})]}),l.jsx("button",{onClick:p,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform",children:"Continue"})]}),e===2&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Vehicle Type"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:aN.map(m=>l.jsx("button",{onClick:()=>s({...r,vehicleType:m.id}),className:`p-3 rounded-2xl border-2 transition-all ${r.vehicleType===m.id?"border-purple-500 bg-purple-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:m.icon}),l.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:m.name})]})},m.id))}),o.vehicleType&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.vehicleType})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Manufacturing Year"}),l.jsx("input",{type:"number",value:r.manufacturingYear,onChange:m=>s({...r,manufacturingYear:m.target.value}),placeholder:"2020",min:"2000",max:new Date().getFullYear(),className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 ${o.manufacturingYear?"border-red-500":""}`}),o.manufacturingYear&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.manufacturingYear})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Owner Name"}),l.jsx("input",{type:"text",value:r.ownerName,onChange:m=>s({...r,ownerName:m.target.value}),placeholder:"John Doe",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 ${o.ownerName?"border-red-500":""}`}),o.ownerName&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.ownerName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Mobile Number"}),l.jsx("input",{type:"tel",value:r.mobileNumber,onChange:m=>s({...r,mobileNumber:m.target.value.replace(/\D/g,"").slice(0,10)}),placeholder:"9876543210",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 ${o.mobileNumber?"border-red-500":""}`}),o.mobileNumber&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.mobileNumber})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>n(1),className:"flex-1 py-3 px-6 rounded-2xl glass-button text-slate-700 dark:text-slate-300 font-semibold hover:bg-white/20 transition-colors",children:"Back"}),l.jsx("button",{onClick:p,disabled:i,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform disabled:opacity-50",children:i?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Getting Quotes..."]}):"Get Quotes"})]})]}),e===3&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-50 mb-4",children:"Choose Your Insurance Plan"}),u.map(m=>l.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("span",{className:"text-2xl",children:m.logo}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-50",children:m.name}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-yellow-400",children:""}),l.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:m.rating})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>v(m.id,"comprehensive"),className:"p-3 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-purple-500 hover:bg-purple-500/10 transition-all",children:l.jsxs("div",{className:"text-left",children:[l.jsx("h5",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Comprehensive"}),l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2",children:"Complete protection"}),l.jsxs("p",{className:"text-lg font-bold text-purple-500",children:["",m.comprehensive]})]})}),l.jsx("button",{onClick:()=>v(m.id,"thirdparty"),className:"p-3 border border-slate-200 dark:border-slate-700 rounded-xl hover:border-purple-500 hover:bg-purple-500/10 transition-all",children:l.jsxs("div",{className:"text-left",children:[l.jsx("h5",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Third Party"}),l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-2",children:"Basic coverage"}),l.jsxs("p",{className:"text-lg font-bold text-purple-500",children:["",m.thirdparty]})]})})]})]},m.id))]}),e===4&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Confirm Your Selection"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Review your insurance details before payment"})]}),l.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Vehicle"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:r.vehicleNumber})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Plan Type"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50 capitalize",children:r.selectedPlan})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Provider"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:(S=Ba.find(m=>m.id===r.selectedProvider))==null?void 0:S.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Premium"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["",(x=u.find(m=>m.id===r.selectedProvider))==null?void 0:x[r.selectedPlan]]})]})]})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>n(3),className:"flex-1 py-3 px-6 rounded-2xl glass-button text-slate-700 dark:text-slate-300 font-semibold hover:bg-white/20 transition-colors",children:"Back"}),l.jsx("button",{onClick:g,disabled:i,className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform disabled:opacity-50",children:i?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Confirm & Pay"})]})]})]})}const cg=[{id:"CH001",challanNumber:"MH12202400001",vehicleNumber:"MH 12 AB 1234",violation:"Over Speeding",amount:1500,date:"2024-01-10",location:"Sitabuldi Square, Nagpur",status:"pending",dueDate:"2024-02-10"},{id:"CH002",challanNumber:"MH12202400002",vehicleNumber:"MH 12 AB 1234",violation:"Wrong Side Driving",amount:2e3,date:"2024-01-08",location:"Civil Lines, Nagpur",status:"pending",dueDate:"2024-02-08"},{id:"CH003",challanNumber:"MH12202400003",vehicleNumber:"MH 12 AB 1234",violation:"No Parking Zone",amount:500,date:"2024-01-05",location:"Dharampeth, Nagpur",status:"pending",dueDate:"2024-02-05"}],lN={"Over Speeding":{icon:"",color:"red"},"Wrong Side Driving":{icon:"",color:"red"},"No Parking Zone":{icon:"",color:"orange"},"Signal Jump":{icon:"",color:"red"},"No Helmet":{icon:"",color:"orange"},"Triple Riding":{icon:"",color:"orange"}};function cN({onClose:t}){const[e,n]=f.useState(1),[r,s]=f.useState("vehicle"),[i,a]=f.useState(""),[o,c]=f.useState([]),[u,d]=f.useState([]),[h,p]=f.useState(!1),[v,g]=f.useState({}),w=()=>{const C={};return i.trim()?r==="vehicle"?/^[A-Z]{2}[0-9]{2}[A-Z]{2}[0-9]{4}$/.test(i.replace(/\s/g,""))||(C.searchValue="Please enter a valid vehicle number"):r==="challan"&&(/^[A-Z]{2}[0-9]{12}$/.test(i.replace(/\s/g,""))||(C.searchValue="Please enter a valid challan number")):C.searchValue=r==="vehicle"?"Vehicle number is required":"Challan number is required",g(C),Object.keys(C).length===0},S=async()=>{if(!w())return;p(!0),await new Promise(E=>setTimeout(E,2e3));let C=[];r==="vehicle"?C=cg.filter(E=>E.vehicleNumber.replace(/\s/g,"")===i.replace(/\s/g,"")):C=cg.filter(E=>E.challanNumber===i.replace(/\s/g,"")),c(C),p(!1),n(2)},x=C=>{d(E=>E.includes(C)?E.filter(_=>_!==C):[...E,C])},m=async()=>{p(!0),await new Promise(C=>setTimeout(C,2e3)),p(!1),n(3)},y=C=>{const E=C.replace(/[^A-Z0-9]/g,"").toUpperCase();return E.length<=4?E:E.length<=6?E.slice(0,2)+" "+E.slice(2,4)+" "+E.slice(4):E.slice(0,2)+" "+E.slice(2,4)+" "+E.slice(4,6)+" "+E.slice(6,10)},b=C=>C.replace(/[^A-Z0-9]/g,"").toUpperCase(),k=()=>u.reduce((C,E)=>{const _=o.find(L=>L.id===E);return C+((_==null?void 0:_.amount)||0)},0),j=()=>o.filter(C=>u.includes(C.id));return e===3?l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Payment Successful!"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your traffic challans have been paid successfully"})]}),l.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-6 text-left",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Total Amount Paid"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["",k()]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Challans Paid"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:u.length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Transaction ID"}),l.jsxs("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["TXN",Date.now()]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Payment Date"}),l.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:new Date().toLocaleDateString()})]})]}),l.jsxs("div",{className:"border-t border-slate-300 dark:border-slate-600 pt-3",children:[l.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Paid Challans:"}),j().map(C=>l.jsxs("div",{className:"flex justify-between items-center py-1",children:[l.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:C.challanNumber}),l.jsxs("span",{className:"text-xs font-semibold text-slate-900 dark:text-slate-50",children:["",C.amount]})]},C.id))]})]}),l.jsx("button",{onClick:t,className:"w-full bg-gradient-to-r from-primary-500 to-accent-500 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform",children:"Done"})]}):l.jsxs("div",{className:"space-y-6",children:[e===1&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-50 mb-4",children:"Search Traffic Challans"}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:()=>s("vehicle"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${r==="vehicle"?"bg-orange-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:"By Vehicle Number"}),l.jsx("button",{onClick:()=>s("challan"),className:`flex-1 py-2 px-4 rounded-xl font-medium transition-all ${r==="challan"?"bg-orange-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300"}`,children:"By Challan Number"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:r==="vehicle"?"Vehicle Number":"Challan Number"}),l.jsx("input",{type:"text",value:i,onChange:C=>a(r==="vehicle"?y(C.target.value):b(C.target.value)),placeholder:r==="vehicle"?"MH 12 AB 1234":"MH12202400001",className:`w-full px-4 py-3 rounded-2xl glass-input text-slate-900 dark:text-slate-50 placeholder:text-slate-400 ${v.searchValue?"border-red-500":""}`,maxLength:r==="vehicle"?13:15}),v.searchValue&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:v.searchValue})]}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 text-sm",children:"Demo Mode"}),l.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-xs mt-1",children:'Try searching with vehicle number "MH 12 AB 1234" to see sample challans'})]})]})}),l.jsx("button",{onClick:S,disabled:h,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:h?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Search Challans"})]}),e===2&&l.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:["Found Challans (",o.length,")"]}),l.jsx("button",{onClick:()=>n(1),className:"text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-50",children:" Back to Search"})]}),o.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"No Pending Challans"}),l.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Great! No traffic challans found for this ",r]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3",children:o.map(C=>{const E=lN[C.violation]||{icon:"",color:"gray"},_=u.includes(C.id),L=new Date(C.dueDate)<new Date;return l.jsx(A.div,{whileHover:{scale:1.02},className:`p-4 rounded-2xl border-2 cursor-pointer transition-all ${_?"border-orange-500 bg-orange-500/10":"border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600"}`,onClick:()=>x(C.id),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`p-2 rounded-xl ${E.color==="red"?"bg-red-500/20 text-red-400":E.color==="orange"?"bg-orange-500/20 text-orange-400":"bg-gray-500/20 text-gray-400"}`,children:l.jsx("span",{className:"text-lg",children:E.icon})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-50",children:C.violation}),L&&l.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded-full",children:"Overdue"})]}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:C.location}),l.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{children:["Challan: ",C.challanNumber]}),l.jsxs("span",{children:["Date: ",new Date(C.date).toLocaleDateString()]}),l.jsxs("span",{children:["Due: ",new Date(C.dueDate).toLocaleDateString()]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:["",C.amount]}),l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${_?"border-orange-500 bg-orange-500":"border-slate-300 dark:border-slate-600"}`,children:_&&l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})},C.id)})}),u.length>0&&l.jsxs("div",{className:"sticky bottom-0 bg-slate-100 dark:bg-slate-800 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-50",children:["Selected: ",u.length," challan(s)"]}),l.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:["Total: ",k()]})]}),l.jsx("button",{onClick:m,disabled:h,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform disabled:opacity-50",children:h?l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Payment..."]}):`Pay ${k()}`})]})]})]})]})}const uN={fastag:iN,insurance:oN,challan:cN},dN={fastag:{title:"FASTag Recharge",icon:"",color:"blue"},insurance:{title:"Vehicle Insurance",icon:"",color:"purple"},challan:{title:"Challan Payment",icon:"",color:"orange"}};function qw({service:t,onClose:e}){const[n,r]=f.useState(!1),s=uN[t],i=dN[t];f.useEffect(()=>(r(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const a=()=>{r(!1),setTimeout(e,300)};return f.useEffect(()=>{const o=c=>{c.key==="Escape"&&a()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsx(ml,{children:n&&l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[l.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),l.jsxs(A.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-3xl glass-modal shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-3 rounded-2xl ${i.color==="blue"?"bg-blue-500/20 text-blue-400":i.color==="purple"?"bg-purple-500/20 text-purple-400":"bg-orange-500/20 text-orange-400"}`,children:l.jsx("span",{className:"text-2xl",children:i.icon})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-50",children:i.title}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Quick and secure service"})]})]}),l.jsx("button",{onClick:a,className:"p-2 rounded-full glass-button hover:bg-white/20 dark:hover:bg-slate-800/20 transition-colors",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:s&&l.jsx(s,{onClose:a})})]})]})})}function hN(){const[t,e]=f.useState(null),[n,r]=f.useState(null),s=Zt(),{getCurrentLocation:i,setLocationFromSearch:a,isLoadingLocation:o,locationError:c,searchQuery:u,setSearchQuery:d,selectedLocation:h}=Ah();f.useEffect(()=>{var g;if(!navigator.geolocation){setLocationError("Geolocation is not supported by this browser");return}(g=navigator.permissions)==null||g.query({name:"geolocation"}).then(w=>{e(w.state),w.onchange=()=>e(w.state)}).catch(()=>{e("prompt")})},[]);const p=async()=>{const g=await i();g&&s("/discover",{state:{coords:{lat:g.lat,lng:g.lng}}})},v=async g=>{if(g.preventDefault(),u.trim()){const w=await a(u.trim());w&&s("/discover",{state:{query:u.trim(),coords:{lat:w.lat,lng:w.lng}}})}};return l.jsxs("section",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid gap-10 pt-6 md:grid-cols-[1.4fr,1fr] md:items-center",children:[l.jsxs("div",{children:[l.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"mb-3 inline-flex items-center gap-2 rounded-full glass-badge bg-emerald-100/50 dark:bg-emerald-500/20 px-3 py-1 text-xs text-emerald-700 dark:text-emerald-300 border-emerald-200/50 dark:border-emerald-500/30",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-emerald-500"})]}),"Live parking updates in Nagpur"]}),l.jsxs(A.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"text-balance text-4xl font-bold tracking-tight text-slate-900 dark:text-slate-50 sm:text-5xl md:text-6xl lg:text-7xl",children:["Find Parking Near You "," ",l.jsx("span",{className:"relative inline-block",children:l.jsx("span",{className:"bg-gradient-to-r from-[#4f46e5] via-[#06b6d4] to-[#4f46e5] dark:from-[#818cf8] dark:via-[#22d3ee] dark:to-[#818cf8] bg-clip-text text-transparent bg-[length:200%_auto] animate-[shimmer_3s_linear_infinite] font-extrabold",children:"Fast & Easy"})})]}),l.jsx(A.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.05},className:"mt-4 max-w-xl text-base leading-relaxed text-slate-600 dark:text-slate-300 sm:text-lg",children:"Discover real-time parking availability, compare prices, and book in seconds. EasyPark syncs with live traffic and navigation so you are always on time."}),l.jsxs(A.form,{onSubmit:v,initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.1},className:"group mt-8 flex flex-col gap-3 rounded-3xl glass-card p-4 sm:flex-row sm:items-end",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"mb-2 block text-xs font-semibold text-slate-700 dark:text-slate-300",children:"Enter location or allow location access"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),placeholder:"e.g. Sitabuldi, MIHAN, Airport, Nagpur...",className:"w-full rounded-2xl glass-input pl-10 pr-4 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20"})]})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:w-auto sm:flex-row",children:[l.jsxs("button",{type:"submit",disabled:!u.trim(),className:"group/btn relative inline-flex items-center justify-center gap-2 overflow-hidden rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary-500/40 backdrop-blur-sm transition-all hover:scale-105 hover:shadow-xl hover:shadow-primary-500/50 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[l.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search Parking"]}),l.jsx("span",{className:"absolute inset-0 -z-0 bg-gradient-to-r from-accent-500 to-primary-500 opacity-0 transition-opacity group-hover/btn:opacity-100"})]}),l.jsx("button",{type:"button",onClick:p,disabled:o||!navigator.geolocation,className:"inline-flex items-center justify-center gap-2 rounded-2xl glass-button px-4 py-3 text-xs font-medium text-slate-700 dark:text-slate-100 transition-all hover:bg-white/80 dark:hover:bg-slate-800/80 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-slate-400 border-t-transparent"}),"Detecting..."]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Find Near Me"]})})]}),c&&l.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-full rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-200",children:"Location Error"}),l.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 mt-1",children:c}),t==="denied"&&l.jsx("button",{onClick:()=>{setLocationError(""),e(null)},className:"text-xs text-red-700 dark:text-red-400 underline mt-1 hover:no-underline",children:"Try again"})]})]})}),t==="denied"&&!c&&l.jsx(A.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-full text-xs text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/50 rounded-xl p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),'Location permission blocked. Enable it from browser settings to use "Find Near Me".']})})]}),l.jsx(A.dl,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.15},className:"mt-8 grid grid-cols-3 gap-4 text-xs sm:gap-4 sm:text-sm",children:[{label:"Live Slots",value:"3.2k+",desc:"Updating in real time",color:"emerald",icon:""},{label:"Avg. Savings",value:"120",desc:"Per 2 hour session",color:"accent",icon:""},{label:"On-Time Arrivals",value:"94%",desc:"With live navigation",color:"primary",icon:""}].map((g,w)=>{const S={emerald:"text-emerald-400",accent:"text-accent-400",primary:"text-primary-400"};return l.jsxs(A.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.15+w*.1},whileHover:{scale:1.05,y:-4},className:"group relative overflow-hidden rounded-2xl glass-card p-4 transition-all hover:shadow-xl",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color==="emerald"?"from-emerald-500/10":g.color==="accent"?"from-accent-500/10":"from-primary-500/10"} to-transparent opacity-0 transition-opacity group-hover:opacity-100`}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"mb-2 text-2xl",children:g.icon}),l.jsx("dt",{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:g.label}),l.jsx("dd",{className:`mt-1 text-xl font-bold ${S[g.color]}`,children:g.value}),l.jsx("span",{className:"mt-1 block text-[10px] text-slate-500 dark:text-slate-400",children:g.desc})]})]},g.label)})}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.25},className:"mt-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:"Additional Services"}),l.jsx(qe,{to:"/services",className:"text-sm text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 font-medium transition-colors",children:"View All "})]}),l.jsx("div",{className:"grid grid-cols-3 gap-4 text-xs sm:gap-4 sm:text-sm",children:[{id:"fastag",label:"FASTag Recharge",desc:"Recharge your FASTag instantly",color:"blue",icon:""},{id:"insurance",label:"Vehicle Insurance",desc:"Renew or manage your car insurance",color:"purple",icon:""},{id:"challan",label:"Challan Payment",desc:"Check and pay traffic challans",color:"orange",icon:""}].map((g,w)=>{const S={blue:"text-blue-400",purple:"text-purple-400",orange:"text-orange-400"};return l.jsxs(A.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.25+w*.1},whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},onClick:()=>r(g.id),className:"group service-card service-card-glow relative overflow-hidden rounded-2xl glass-card p-4 transition-all hover:shadow-xl cursor-pointer",children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${g.color==="blue"?"from-blue-500/10":g.color==="purple"?"from-purple-500/10":"from-orange-500/10"} to-transparent opacity-0 transition-opacity group-hover:opacity-100`}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"mb-2 text-2xl service-icon",children:g.icon}),l.jsx("dt",{className:"text-[10px] font-medium text-slate-600 dark:text-slate-400",children:g.label}),l.jsx("dd",{className:`mt-1 text-sm font-bold ${S[g.color]}`,children:"Available"}),l.jsx("span",{className:"mt-1 block text-[10px] text-slate-500 dark:text-slate-400",children:g.desc})]})]},g.id)})})]})]}),l.jsx(A.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02},className:"relative",children:l.jsxs("div",{className:"group relative flex h-80 flex-col justify-between overflow-hidden rounded-3xl glass-card p-5 transition-all hover:shadow-2xl hover:scale-[1.02] sm:h-96",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,#22d3ee15,transparent_50%),radial-gradient(circle_at_80%_70%,#4f46e515,transparent_50%)]"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-emerald-500"})]}),l.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Live Parking Feed"})]}),l.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:"Nagpur City Center"})]}),l.jsx("span",{className:"rounded-full glass-badge bg-emerald-100/50 dark:bg-emerald-500/20 px-3 py-1.5 text-[11px] font-semibold text-emerald-700 dark:text-emerald-300 border-emerald-200/50 dark:border-emerald-500/30",children:"18 spots free"})]}),l.jsx("div",{className:"relative z-10 mt-6 flex-1 rounded-2xl glass-badge p-4",children:l.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-xl",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_10%_20%,#22d3ee20,transparent_60%),radial-gradient(circle_at_90%_80%,#4f46e520,transparent_55%)]"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-2 h-16 w-16 rounded-full bg-gradient-to-br from-primary-500/20 to-accent-500/20 p-3",children:l.jsxs("svg",{className:"h-full w-full text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l.jsx("p",{className:"text-xs text-slate-400",children:"Interactive Map"})]})})]})}),l.jsxs("div",{className:"relative z-10 mt-4 flex items-center justify-between rounded-xl glass-badge px-3 py-2 text-[11px]",children:[l.jsxs("span",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"ETA with traffic"]}),l.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:"710 mins"})]})]})})]}),n&&l.jsx(qw,{service:n,onClose:()=>r(null)})]})}function fN({parking:t,highlighted:e}){return l.jsxs(A.article,{layout:!0,initial:{opacity:0,y:16},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.01},transition:{duration:.25},className:`group relative flex flex-col justify-between overflow-hidden rounded-3xl glass-card p-5 transition-all ${e?"ring-2 ring-primary-500/30 dark:ring-accent-500/70 shadow-xl shadow-primary-500/20 dark:shadow-accent-500/30 border-primary-300/50 dark:border-accent-500/70":"hover:shadow-xl hover:scale-[1.02]"}`,children:[e&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-500/5 to-transparent pointer-events-none"}),l.jsxs("header",{className:"relative z-10 flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"text-base font-bold text-slate-900 dark:text-slate-50 group-hover:text-primary-600 dark:group-hover:text-accent-300 transition-colors",children:t.name}),e&&l.jsx("span",{className:"rounded-full bg-primary-100 dark:bg-accent-500/20 px-2 py-0.5 text-[9px] font-semibold text-primary-700 dark:text-accent-300 ring-1 ring-primary-300 dark:ring-accent-500/30",children:"RECOMMENDED"})]}),l.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[l.jsxs("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.address]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1.5 text-right",children:[l.jsx("span",{className:`rounded-full px-3 py-1 text-[10px] font-semibold glass-badge ${t.isOpen?"bg-emerald-100/50 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 border-emerald-200/50 dark:border-emerald-500/30":"bg-red-100/50 dark:bg-red-500/20 text-red-700 dark:text-red-300 border-red-200/50 dark:border-red-500/30"}`,children:t.isOpen?" OPEN":" CLOSED"}),l.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[l.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),t.distance," km"]})]})]}),l.jsx("dl",{className:"relative z-10 mt-5 grid grid-cols-3 gap-3 text-xs",children:[{label:"Available",value:t.availableSlots,color:"text-emerald-400",icon:""},{label:"Price / hr",value:`${t.pricePerHour}`,color:"text-slate-50",icon:""},{label:"Rating",value:` ${t.rating.toFixed(1)}`,color:"text-amber-400",icon:""}].map(n=>l.jsxs(A.div,{whileHover:{scale:1.05,y:-2},className:"rounded-2xl glass-badge p-3 transition-all hover:bg-white/80 dark:hover:bg-slate-800/80 hover:scale-105",children:[l.jsx("dt",{className:"text-[10px] text-slate-600 dark:text-slate-400 mb-1",children:n.label}),l.jsxs("dd",{className:`text-sm font-bold ${n.color} flex items-center gap-1`,children:[l.jsx("span",{className:"text-xs",children:n.icon}),n.value]})]},n.label))}),l.jsxs("footer",{className:"relative z-10 mt-5 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.isCheapest&&l.jsx(A.span,{whileHover:{scale:1.1},className:"inline-flex items-center gap-1 rounded-full glass-badge bg-emerald-100/50 dark:bg-emerald-500/20 px-2.5 py-1 text-[10px] font-semibold text-emerald-700 dark:text-emerald-300 border-emerald-200/50 dark:border-emerald-500/30",children:" Cheapest"}),t.isEasiest&&l.jsx(A.span,{whileHover:{scale:1.1},className:"inline-flex items-center gap-1 rounded-full glass-badge bg-primary-100/50 dark:bg-accent-500/20 px-2.5 py-1 text-[10px] font-semibold text-primary-700 dark:text-accent-300 border-primary-200/50 dark:border-accent-500/30",children:" Easiest access"})]}),l.jsxs(qe,{to:`/parking/${t.id}`,className:"group/btn relative inline-flex items-center gap-2 overflow-hidden rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-primary-500/40 backdrop-blur-sm transition-all hover:scale-105 hover:shadow-xl hover:shadow-primary-500/50 active:scale-95",children:[l.jsx("span",{className:"relative z-10",children:"View details"}),l.jsx("svg",{className:"relative z-10 h-3 w-3 transition-transform group-hover/btn:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),l.jsx("span",{className:"absolute inset-0 -z-0 bg-gradient-to-r from-accent-500 to-primary-500 opacity-0 transition-opacity group-hover/btn:opacity-100"})]})]})]})}function pN(){return l.jsxs("div",{className:"animate-pulse rounded-3xl border border-white/5 bg-slate-900/80 p-4 shadow-xl shadow-black/40",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 w-32 rounded bg-slate-800"}),l.jsx("div",{className:"h-4 w-16 rounded bg-slate-800"})]}),l.jsx("div",{className:"mt-2 h-3 w-40 rounded bg-slate-800"}),l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3",children:[l.jsx("div",{className:"h-12 rounded-2xl bg-slate-800"}),l.jsx("div",{className:"h-12 rounded-2xl bg-slate-800"}),l.jsx("div",{className:"h-12 rounded-2xl bg-slate-800"})]}),l.jsx("div",{className:"mt-4 h-7 w-24 rounded-full bg-slate-800"})]})}function Vi(t){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(t)}function mN(t,e){if(Vi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gN(t){var e=mN(t,"string");return Vi(e)=="symbol"?e:e+""}function P(t,e,n){return(e=gN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wc,ug;function vN(){if(ug)return wc;ug=1;var t=function(n,r,s,i,a,o,c,u){if(!n){var d;if(r===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[s,i,a,o,c,u],p=0;d=new Error(r.replace(/%s/g,function(){return h[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return wc=t,wc}var yN=vN(),Ie=Zw(yN),Q=f.createContext(null);function xN(){Ie(!!f.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=f.useContext(Q);return Ie(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function wN(t,e,n){return Object.keys(t).reduce(function(s,i){return e(s,t[i],i)},n)}function bN(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function kN(t,e,n,r){var s={},i=(a,o)=>{var c=n[o];c!==e[o]&&(s[o]=c,a(r,c))};return bN(t,i),s}function SN(t,e,n){var r=wN(n,function(i,a,o){return typeof t[o]=="function"&&i.push(google.maps.event.addListener(e,a,t[o])),i},[]);return r}function jN(t){google.maps.event.removeListener(t)}function ne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(jN)}function te(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:s,instance:i}=t,a=SN(s,i,n);return kN(e,r,s,i),a}var dg={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},hg={extraMapTypes(t,e){e.forEach(function(r,s){t.mapTypes.set(String(s),r)})},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};function CN(t){var{children:e,options:n,id:r,mapContainerStyle:s,mapContainerClassName:i,center:a,onClick:o,onDblClick:c,onDrag:u,onDragEnd:d,onDragStart:h,onMouseMove:p,onMouseOut:v,onMouseOver:g,onMouseDown:w,onMouseUp:S,onRightClick:x,onCenterChanged:m,onLoad:y,onUnmount:b}=t,[k,j]=f.useState(null),C=f.useRef(null),[E,_]=f.useState(null),[L,M]=f.useState(null),[U,z]=f.useState(null),[$,J]=f.useState(null),[X,G]=f.useState(null),[T,I]=f.useState(null),[R,F]=f.useState(null),[Z,V]=f.useState(null),[se,N]=f.useState(null),[le,ce]=f.useState(null),[ee,Ne]=f.useState(null),[q,ae]=f.useState(null);return f.useEffect(()=>{n&&k!==null&&k.setOptions(n)},[k,n]),f.useEffect(()=>{k!==null&&typeof a<"u"&&k.setCenter(a)},[k,a]),f.useEffect(()=>{k&&c&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(k,"dblclick",c)))},[c]),f.useEffect(()=>{k&&d&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(k,"dragend",d)))},[d]),f.useEffect(()=>{k&&h&&($!==null&&google.maps.event.removeListener($),J(google.maps.event.addListener(k,"dragstart",h)))},[h]),f.useEffect(()=>{k&&w&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(k,"mousedown",w)))},[w]),f.useEffect(()=>{k&&p&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(k,"mousemove",p)))},[p]),f.useEffect(()=>{k&&v&&(R!==null&&google.maps.event.removeListener(R),F(google.maps.event.addListener(k,"mouseout",v)))},[v]),f.useEffect(()=>{k&&g&&(Z!==null&&google.maps.event.removeListener(Z),V(google.maps.event.addListener(k,"mouseover",g)))},[g]),f.useEffect(()=>{k&&S&&(se!==null&&google.maps.event.removeListener(se),N(google.maps.event.addListener(k,"mouseup",S)))},[S]),f.useEffect(()=>{k&&x&&(le!==null&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(k,"rightclick",x)))},[x]),f.useEffect(()=>{k&&o&&(ee!==null&&google.maps.event.removeListener(ee),Ne(google.maps.event.addListener(k,"click",o)))},[o]),f.useEffect(()=>{k&&u&&(q!==null&&google.maps.event.removeListener(q),ae(google.maps.event.addListener(k,"drag",u)))},[u]),f.useEffect(()=>{k&&m&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(k,"center_changed",m)))},[o]),f.useEffect(()=>{var Pt=C.current===null?null:new google.maps.Map(C.current,n);return j(Pt),Pt!==null&&y&&y(Pt),()=>{Pt!==null&&b&&b(Pt)}},[]),l.jsx("div",{id:r,ref:C,style:s,className:i,children:l.jsx(Q.Provider,{value:k,children:k!==null?e:null})})}f.memo(CN);class EN extends f.PureComponent{constructor(){super(...arguments),P(this,"state",{map:null}),P(this,"registeredEvents",[]),P(this,"mapRef",null),P(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),P(this,"panTo",e=>{var n=this.getInstance();n&&n.panTo(e)}),P(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),P(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=te({updaterMap:hg,eventMap:dg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:hg,eventMap:dg,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ne(this.registeredEvents))}render(){return l.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:l.jsx(Q.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function fg(t,e,n,r,s,i,a){try{var o=t[i](a),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,s)}function Jw(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function a(c){fg(i,r,s,a,o,"next",c)}function o(c){fg(i,r,s,a,o,"throw",c)}a(void 0)})}}function Yw(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:s,region:i,libraries:a,channel:o,mapIds:c,authReferrerPolicy:u,apiUrl:d="https://maps.googleapis.com"}=t,h=[];return Ie(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?h.push("key=".concat(e)):n&&h.push("client=".concat(n)),r&&h.push("v=".concat(r)),s&&h.push("language=".concat(s)),i&&h.push("region=".concat(i)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),o&&h.push("channel=".concat(o)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("loading=async"),h.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(h.join("&"))}var Pn=typeof document<"u";function Qw(t){var{url:e,id:n,nonce:r}=t;return Pn?new Promise(function(i,a){var o=document.getElementById(n),c=window;if(o){var u=o.getAttribute("data-state");if(o.src===e&&u!=="error"){if(u==="ready")return i(n);var d=c.initMap,h=o.onerror;c.initMap=function(){d&&d(),i(n)},o.onerror=function(v){h&&h(v),a(v)};return}else o.remove()}var p=document.createElement("script");p.type="text/javascript",p.src=e,p.id=n,p.async=!0,p.nonce=r||"",p.onerror=function(g){p.setAttribute("data-state","error"),a(g)},c.initMap=function(){p.setAttribute("data-state","ready"),i(n)},document.head.appendChild(p)}).catch(s=>{throw console.error("injectScript error: ",s),s}):Promise.reject(new Error("document is undefined"))}function pg(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function Rh(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(s,i){return pg(s)||Reflect.apply(e,t,[s,i]),s};var n=t.appendChild.bind(t);t.appendChild=function(s){return pg(s)||Reflect.apply(n,t,[s]),s}}}var Ds=!1;function Xw(){return l.jsx("div",{children:"Loading..."})}var Fi={id:"script-loader",version:"weekly"};class _N extends f.PureComponent{constructor(){super(...arguments),P(this,"check",null),P(this,"state",{loaded:!1}),P(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),P(this,"isCleaningUp",Jw(function*(){function e(n){if(!Ds)n();else if(Pn)var r=window.setInterval(function(){Ds||(window.clearInterval(r),n())},1)}return new Promise(e)})),P(this,"cleanup",()=>{Ds=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),P(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Rh(),Ie(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:Yw(this.props)};Qw(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),P(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Pn){if(window.google&&window.google.maps&&!Ds){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Pn&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Pn){this.cleanup();var e=()=>{this.check||(delete window.google,Ds=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||l.jsx(Xw,{})]})}}P(_N,"defaultProps",Fi);function LN(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ih(t,e){if(t==null)return{};var n,r,s=LN(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var mg;function PN(t){var{id:e=Fi.id,version:n=Fi.version,nonce:r,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:o,libraries:c,preventGoogleFontsLoading:u,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:v="https://maps.googleapis.com"}=t,g=f.useRef(!1),[w,S]=f.useState(!1),[x,m]=f.useState(void 0);f.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),f.useEffect(function(){Pn&&u&&Rh()},[u]),f.useEffect(function(){w&&Ie(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[w]);var y=Yw({version:n,googleMapsApiKey:s,googleMapsClientId:i,language:a,region:o,libraries:c,channel:d,mapIds:h,authReferrerPolicy:p,apiUrl:v});f.useEffect(function(){if(!Pn)return;function j(){g.current&&(S(!0),mg=y)}if(window.google&&window.google.maps&&mg===y){j();return}Qw({id:e,url:y,nonce:r}).then(j).catch(function(E){g.current&&m(E),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(s||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(E)})},[e,y,r]);var b=f.useRef(void 0);return f.useEffect(function(){b.current&&c!==b.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),b.current=c},[c]),{isLoaded:w,loadError:x,url:y}}var NN=["loadingElement","onLoad","onError","onUnmount","children"],TN=l.jsx(Xw,{});function MN(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:s,children:i}=t,a=Ih(t,NN),{isLoaded:o,loadError:c}=PN(a);return f.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),f.useEffect(function(){c&&typeof r=="function"&&r(c)},[c,r]),f.useEffect(function(){return()=>{s&&s()}},[s]),o?i:e||TN}f.memo(MN);function ON(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(t,[])).next())})}function AN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},IN=AN(RN),gg="__googleMapsScriptId",Yr;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Yr||(Yr={}));class ir{constructor(e){var{apiKey:n,authReferrerPolicy:r,channel:s,client:i,id:a=gg,language:o,libraries:c=[],mapIds:u,nonce:d,region:h,retries:p=3,url:v="https://maps.googleapis.com/maps/api/js",version:g}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=s,this.client=i,this.id=a||gg,this.language=o,this.libraries=c,this.mapIds=u,this.nonce=d,this.region=h,this.retries=p,this.url=v,this.version=g,ir.instance){if(!IN(this.options,ir.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(ir.instance.options)));return ir.instance}ir.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Yr.FAILURE:this.done?Yr.SUCCESS:this.loading?Yr.LOADING:Yr.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(r=>{r?n(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{var a,o,c,u="The Google Maps JavaScript API",d="google",h="importLibrary",p="__ib__",v=document,g=window;g=g[d]||(g[d]={});var w=g.maps||(g.maps={}),S=new Set,x=new URLSearchParams,m=()=>a||(a=new Promise((y,b)=>ON(this,void 0,void 0,function*(){var k;yield o=v.createElement("script"),o.id=this.id,x.set("libraries",[...S]+"");for(c in i)x.set(c.replace(/[A-Z]/g,j=>"_"+j[0].toLowerCase()),i[c]);x.set("callback",d+".maps."+p),o.src=this.url+"?"+x,w[p]=y,o.onerror=()=>a=b(Error(u+" could not load.")),o.nonce=this.nonce||((k=v.querySelector("script[nonce]"))===null||k===void 0?void 0:k.nonce)||"",v.head.append(o)})));w[h]?console.warn(u+" only loads once. Ignoring:",i):w[h]=function(y){for(var b=arguments.length,k=new Array(b>1?b-1:0),j=1;j<b;j++)k[j-1]=arguments[j];return S.add(y)&&m().then(()=>w[h](y,...k))}})(r);var s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{var a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var DN=["maps"];function BN(t){var{id:e=Fi.id,version:n=Fi.version,nonce:r,googleMapsApiKey:s,language:i,region:a,libraries:o=DN,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:d}=t,h=f.useRef(!1),[p,v]=f.useState(!1),[g,w]=f.useState(void 0);f.useEffect(function(){return h.current=!0,()=>{h.current=!1}},[]);var S=f.useMemo(()=>new ir({id:e,apiKey:s,version:n,libraries:o,language:i||"en",region:a||"US",mapIds:u||[],nonce:r||"",authReferrerPolicy:d||"origin"}),[e,s,n,o,i,a,u,r,d]);f.useEffect(function(){p||S.load().then(()=>{h.current&&v(!0)}).catch(y=>{w(y)})},[]),f.useEffect(()=>{Pn&&c&&Rh()},[c]);var x=f.useRef();return f.useEffect(()=>{x.current&&o!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=o},[o]),{isLoaded:p,loadError:g}}function vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Uo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var yg={},xg={options(t,e){t.setOptions(e)}};function UN(t){var{options:e,onLoad:n,onUnmount:r}=t,s=f.useContext(Q),[i,a]=f.useState(null);return f.useEffect(()=>{i!==null&&i.setMap(s)},[s]),f.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),f.useEffect(()=>{var o=new google.maps.TrafficLayer(Uo(Uo({},e),{},{map:s}));return a(o),n&&n(o),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}f.memo(UN);class $N extends f.PureComponent{constructor(){super(...arguments),P(this,"state",{trafficLayer:null}),P(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),P(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Uo(Uo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:xg,eventMap:yg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:xg,eventMap:yg,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ne(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}P($N,"contextType",Q);function VN(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(Q),[s,i]=f.useState(null);return f.useEffect(()=>{s!==null&&s.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.BicyclingLayer;return i(a),a.setMap(r),e&&e(a),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}f.memo(VN);class FN extends f.PureComponent{constructor(){super(...arguments),P(this,"state",{bicyclingLayer:null}),P(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}P(FN,"contextType",Q);function zN(t){var{onLoad:e,onUnmount:n}=t,r=f.useContext(Q),[s,i]=f.useState(null);return f.useEffect(()=>{s!==null&&s.setMap(r)},[r]),f.useEffect(()=>{var a=new google.maps.TransitLayer;return i(a),a.setMap(r),e&&e(a),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}f.memo(zN);class WN extends f.PureComponent{constructor(){super(...arguments),P(this,"state",{transitLayer:null}),P(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}P(WN,"contextType",Q);function wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bg={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},kg={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function HN(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:s,onOverlayComplete:i,onPolygonComplete:a,onPolylineComplete:o,onRectangleComplete:c,onLoad:u,onUnmount:d}=t,h=f.useContext(Q),[p,v]=f.useState(null),[g,w]=f.useState(null),[S,x]=f.useState(null),[m,y]=f.useState(null),[b,k]=f.useState(null),[j,C]=f.useState(null),[E,_]=f.useState(null);return f.useEffect(()=>{p!==null&&p.setMap(h)},[h]),f.useEffect(()=>{e&&p!==null&&p.setOptions(e)},[p,e]),f.useEffect(()=>{p!==null&&p.setDrawingMode(n??null)},[p,n]),f.useEffect(()=>{p&&r&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"circlecomplete",r)))},[p,r]),f.useEffect(()=>{p&&s&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(p,"markercomplete",s)))},[p,s]),f.useEffect(()=>{p&&i&&(m!==null&&google.maps.event.removeListener(m),y(google.maps.event.addListener(p,"overlaycomplete",i)))},[p,i]),f.useEffect(()=>{p&&a&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(p,"polygoncomplete",a)))},[p,a]),f.useEffect(()=>{p&&o&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(p,"polylinecomplete",o)))},[p,o]),f.useEffect(()=>{p&&c&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),f.useEffect(()=>{Ie(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var L=new google.maps.drawing.DrawingManager($o($o({},e),{},{map:h}));return n&&L.setDrawingMode(n),r&&w(google.maps.event.addListener(L,"circlecomplete",r)),s&&x(google.maps.event.addListener(L,"markercomplete",s)),i&&y(google.maps.event.addListener(L,"overlaycomplete",i)),a&&k(google.maps.event.addListener(L,"polygoncomplete",a)),o&&C(google.maps.event.addListener(L,"polylinecomplete",o)),c&&_(google.maps.event.addListener(L,"rectanglecomplete",c)),v(L),u&&u(L),()=>{p!==null&&(g&&google.maps.event.removeListener(g),S&&google.maps.event.removeListener(S),m&&google.maps.event.removeListener(m),b&&google.maps.event.removeListener(b),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),d&&d(p),p.setMap(null))}},[]),null}f.memo(HN);class KN extends f.PureComponent{constructor(e){super(e),P(this,"registeredEvents",[]),P(this,"state",{drawingManager:null}),P(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ie(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager($o($o({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:kg,eventMap:bg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:kg,eventMap:bg,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ne(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}P(KN,"contextType",Q);function Sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var jg={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Cg={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Vo={};function GN(t){var{position:e,options:n,clusterer:r,noClustererRedraw:s,children:i,draggable:a,visible:o,animation:c,clickable:u,cursor:d,icon:h,label:p,opacity:v,shape:g,title:w,zIndex:S,onClick:x,onDblClick:m,onDrag:y,onDragEnd:b,onDragStart:k,onMouseOut:j,onMouseOver:C,onMouseUp:E,onMouseDown:_,onRightClick:L,onClickableChanged:M,onCursorChanged:U,onAnimationChanged:z,onDraggableChanged:$,onFlatChanged:J,onIconChanged:X,onPositionChanged:G,onShapeChanged:T,onTitleChanged:I,onVisibleChanged:R,onZindexChanged:F,onLoad:Z,onUnmount:V}=t,se=f.useContext(Q),[N,le]=f.useState(null),[ce,ee]=f.useState(null),[Ne,q]=f.useState(null),[ae,Pt]=f.useState(null),[Jt,Es]=f.useState(null),[de,Uh]=f.useState(null),[Xi,$h]=f.useState(null),[ea,Vh]=f.useState(null),[ta,Fh]=f.useState(null),[na,zh]=f.useState(null),[Wh,Hh]=f.useState(null),[ra,Kh]=f.useState(null),[sa,Gh]=f.useState(null),[ia,qh]=f.useState(null),[aa,Zh]=f.useState(null),[oa,Jh]=f.useState(null),[la,Yh]=f.useState(null),[ca,Qh]=f.useState(null),[Xh,ef]=f.useState(null),[ua,tf]=f.useState(null),[da,nf]=f.useState(null),[ha,rf]=f.useState(null);f.useEffect(()=>{N!==null&&N.setMap(se)},[se]),f.useEffect(()=>{typeof n<"u"&&N!==null&&N.setOptions(n)},[N,n]),f.useEffect(()=>{typeof a<"u"&&N!==null&&N.setDraggable(a)},[N,a]),f.useEffect(()=>{e&&N!==null&&N.setPosition(e)},[N,e]),f.useEffect(()=>{typeof o<"u"&&N!==null&&N.setVisible(o)},[N,o]),f.useEffect(()=>{N==null||N.setAnimation(c)},[N,c]),f.useEffect(()=>{N&&u!==void 0&&N.setClickable(u)},[N,u]),f.useEffect(()=>{N&&d!==void 0&&N.setCursor(d)},[N,d]),f.useEffect(()=>{N&&h!==void 0&&N.setIcon(h)},[N,h]),f.useEffect(()=>{N&&p!==void 0&&N.setLabel(p)},[N,p]),f.useEffect(()=>{N&&v!==void 0&&N.setOpacity(v)},[N,v]),f.useEffect(()=>{N&&g!==void 0&&N.setShape(g)},[N,g]),f.useEffect(()=>{N&&w!==void 0&&N.setTitle(w)},[N,w]),f.useEffect(()=>{N&&S!==void 0&&N.setZIndex(S)},[N,S]),f.useEffect(()=>{N&&m&&(ce!==null&&google.maps.event.removeListener(ce),ee(google.maps.event.addListener(N,"dblclick",m)))},[m]),f.useEffect(()=>{N&&b&&(Ne!==null&&google.maps.event.removeListener(Ne),q(google.maps.event.addListener(N,"dragend",b)))},[b]),f.useEffect(()=>{N&&k&&(ae!==null&&google.maps.event.removeListener(ae),Pt(google.maps.event.addListener(N,"dragstart",k)))},[k]),f.useEffect(()=>{N&&_&&(Jt!==null&&google.maps.event.removeListener(Jt),Es(google.maps.event.addListener(N,"mousedown",_)))},[_]),f.useEffect(()=>{N&&j&&(de!==null&&google.maps.event.removeListener(de),Uh(google.maps.event.addListener(N,"mouseout",j)))},[j]),f.useEffect(()=>{N&&C&&(Xi!==null&&google.maps.event.removeListener(Xi),$h(google.maps.event.addListener(N,"mouseover",C)))},[C]),f.useEffect(()=>{N&&E&&(ea!==null&&google.maps.event.removeListener(ea),Vh(google.maps.event.addListener(N,"mouseup",E)))},[E]),f.useEffect(()=>{N&&L&&(ta!==null&&google.maps.event.removeListener(ta),Fh(google.maps.event.addListener(N,"rightclick",L)))},[L]),f.useEffect(()=>{N&&x&&(na!==null&&google.maps.event.removeListener(na),zh(google.maps.event.addListener(N,"click",x)))},[x]),f.useEffect(()=>{N&&y&&(Wh!==null&&google.maps.event.removeListener(Wh),Hh(google.maps.event.addListener(N,"drag",y)))},[y]),f.useEffect(()=>{N&&M&&(ra!==null&&google.maps.event.removeListener(ra),Kh(google.maps.event.addListener(N,"clickable_changed",M)))},[M]),f.useEffect(()=>{N&&U&&(sa!==null&&google.maps.event.removeListener(sa),Gh(google.maps.event.addListener(N,"cursor_changed",U)))},[U]),f.useEffect(()=>{N&&z&&(ia!==null&&google.maps.event.removeListener(ia),qh(google.maps.event.addListener(N,"animation_changed",z)))},[z]),f.useEffect(()=>{N&&$&&(aa!==null&&google.maps.event.removeListener(aa),Zh(google.maps.event.addListener(N,"draggable_changed",$)))},[$]),f.useEffect(()=>{N&&J&&(oa!==null&&google.maps.event.removeListener(oa),Jh(google.maps.event.addListener(N,"flat_changed",J)))},[J]),f.useEffect(()=>{N&&X&&(la!==null&&google.maps.event.removeListener(la),Yh(google.maps.event.addListener(N,"icon_changed",X)))},[X]),f.useEffect(()=>{N&&G&&(ca!==null&&google.maps.event.removeListener(ca),Qh(google.maps.event.addListener(N,"position_changed",G)))},[G]),f.useEffect(()=>{N&&T&&(Xh!==null&&google.maps.event.removeListener(Xh),ef(google.maps.event.addListener(N,"shape_changed",T)))},[T]),f.useEffect(()=>{N&&I&&(ua!==null&&google.maps.event.removeListener(ua),tf(google.maps.event.addListener(N,"title_changed",I)))},[I]),f.useEffect(()=>{N&&R&&(da!==null&&google.maps.event.removeListener(da),nf(google.maps.event.addListener(N,"visible_changed",R)))},[R]),f.useEffect(()=>{N&&F&&(ha!==null&&google.maps.event.removeListener(ha),rf(google.maps.event.addListener(N,"zindex_changed",F)))},[F]),f.useEffect(()=>{var _s=is(is(is({},n||Vo),r?Vo:{map:se}),{},{position:e}),Y=new google.maps.Marker(_s);return r?r.addMarker(Y,!!s):Y.setMap(se),e&&Y.setPosition(e),typeof o<"u"&&Y.setVisible(o),typeof a<"u"&&Y.setDraggable(a),typeof u<"u"&&Y.setClickable(u),typeof d=="string"&&Y.setCursor(d),h&&Y.setIcon(h),typeof p<"u"&&Y.setLabel(p),typeof v<"u"&&Y.setOpacity(v),g&&Y.setShape(g),typeof w=="string"&&Y.setTitle(w),typeof S=="number"&&Y.setZIndex(S),m&&ee(google.maps.event.addListener(Y,"dblclick",m)),b&&q(google.maps.event.addListener(Y,"dragend",b)),k&&Pt(google.maps.event.addListener(Y,"dragstart",k)),_&&Es(google.maps.event.addListener(Y,"mousedown",_)),j&&Uh(google.maps.event.addListener(Y,"mouseout",j)),C&&$h(google.maps.event.addListener(Y,"mouseover",C)),E&&Vh(google.maps.event.addListener(Y,"mouseup",E)),L&&Fh(google.maps.event.addListener(Y,"rightclick",L)),x&&zh(google.maps.event.addListener(Y,"click",x)),y&&Hh(google.maps.event.addListener(Y,"drag",y)),M&&Kh(google.maps.event.addListener(Y,"clickable_changed",M)),U&&Gh(google.maps.event.addListener(Y,"cursor_changed",U)),z&&qh(google.maps.event.addListener(Y,"animation_changed",z)),$&&Zh(google.maps.event.addListener(Y,"draggable_changed",$)),J&&Jh(google.maps.event.addListener(Y,"flat_changed",J)),X&&Yh(google.maps.event.addListener(Y,"icon_changed",X)),G&&Qh(google.maps.event.addListener(Y,"position_changed",G)),T&&ef(google.maps.event.addListener(Y,"shape_changed",T)),I&&tf(google.maps.event.addListener(Y,"title_changed",I)),R&&nf(google.maps.event.addListener(Y,"visible_changed",R)),F&&rf(google.maps.event.addListener(Y,"zindex_changed",F)),le(Y),Z&&Z(Y),()=>{ce!==null&&google.maps.event.removeListener(ce),Ne!==null&&google.maps.event.removeListener(Ne),ae!==null&&google.maps.event.removeListener(ae),Jt!==null&&google.maps.event.removeListener(Jt),de!==null&&google.maps.event.removeListener(de),Xi!==null&&google.maps.event.removeListener(Xi),ea!==null&&google.maps.event.removeListener(ea),ta!==null&&google.maps.event.removeListener(ta),na!==null&&google.maps.event.removeListener(na),ra!==null&&google.maps.event.removeListener(ra),sa!==null&&google.maps.event.removeListener(sa),ia!==null&&google.maps.event.removeListener(ia),aa!==null&&google.maps.event.removeListener(aa),oa!==null&&google.maps.event.removeListener(oa),la!==null&&google.maps.event.removeListener(la),ca!==null&&google.maps.event.removeListener(ca),ua!==null&&google.maps.event.removeListener(ua),da!==null&&google.maps.event.removeListener(da),ha!==null&&google.maps.event.removeListener(ha),V&&V(Y),r?r.removeMarker(Y,!!s):Y&&Y.setMap(null)}},[]);var cb=f.useMemo(()=>i?f.Children.map(i,_s=>{if(!f.isValidElement(_s))return _s;var Y=_s;return f.cloneElement(Y,{anchor:N})}):null,[i,N]);return l.jsx(l.Fragment,{children:cb})||null}f.memo(GN);class Zu extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[])}componentDidMount(){var e=this;return Jw(function*(){var n=is(is(is({},e.props.options||Vo),e.props.clusterer?Vo:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=te({updaterMap:Cg,eventMap:jg,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Cg,eventMap:jg,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ne(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?f.Children.map(this.props.children,n=>{if(!f.isValidElement(n))return n;var r=n;return f.cloneElement(r,{anchor:this.marker})}):null;return e||null}}P(Zu,"contextType",Q);var qN=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),s=this.cluster.getBounds(),i=n.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(s),this.timeOut=window.setTimeout(function(){var a=n.getMap();if(a!==null){"fitBounds"in a&&a.fitBounds(s);var o=a.getZoom()||0;r!==null&&o>r&&a.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,s,i,a;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),d=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var p=document.createElement("img");p.alt=o,p.src=this.url,p.width=this.width,p.height=this.height,p.setAttribute("style","position: absolute; top: ".concat(d,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(p.style.clip="rect(-".concat(d,"px, -").concat(u+this.width,"px, -").concat(d+this.height,", -").concat(u,")"));var v=document.createElement("div");v.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(v.innerText="".concat((s=this.sums)===null||s===void 0?void 0:s.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(v.innerHTML="".concat((a=this.sums)===null||a===void 0?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(p),this.div.appendChild(v),this.div.title=o,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),ZN=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new qN(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,s=n;r<s.length;r++){var i=s[r],a=i.getPosition();a&&e.extend(a)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,a=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(a!==null&&typeof o<"u"&&o>a)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var d=u[c];d.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof s<"u"&&s>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function JN(t,e){var n=t.length,r=n.toString().length,s=Math.min(r,e);return{text:n.toString(),index:s,title:""}}var YN=2e3,QN=500,XN="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",eT="png",tT=[53,56,66,78,90],nT="cluster",eb=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||XN,this.imageExtension=r.imageExtension||eT,this.imageSizes=r.imageSizes||tT,this.calculator=r.calculator||JN,this.batchSize=r.batchSize||YN,this.batchSizeIE=r.batchSizeIE||QN,this.clusterClass=r.clusterClass||nT,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,i=this.clusters;s<i.length;s++){var a=i[s];a.remove()}this.clusters=[];for(var o=0,c=this.listeners;o<c.length;o++){var u=c[o];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var i=s[r],a=i.getPosition();a&&n.extend(a)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,s=0,i=e;s<i.length;s++){var a=i[s];r=r||this.removeMarker_(a)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,s=e;r<s.length;r++){var i=s[r];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(s!==null&&(s.x-=this.gridSize,s.y+=this.gridSize),r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&e.extend(i)}if(s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&e.extend(a)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var s=r[n];s.remove()}this.clusters=[];for(var i=0,a=this.markers;i<a.length;i++){var o=a[i];o.isAdded=!1,e&&o.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,s=(n.lat()-e.lat())*Math.PI/180,i=(n.lng()-e.lng())*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return r*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,s=null,i=0,a=this.clusters;i<a.length;i++){var o=a[i];n=o;var c=n.getCenter(),u=e.getPosition();if(c&&u){var d=this.distanceBetweenPoints(c,u);d<r&&(r=d,s=n)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):(n=new ZN(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=r!==null&&("getBounds"in r)?r.getBounds():null,i=(r==null?void 0:r.getZoom())||0,a=i>3?new google.maps.LatLngBounds(s==null?void 0:s.getSouthWest(),s==null?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(a),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var d=this.markers[u];d&&!d.isAdded&&this.isMarkerInBounds(d,o)&&(!this.ignoreHidden||this.ignoreHidden&&d.getVisible())&&this.addToClosestCluster(d)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,p=this.clusters;h<p.length;h++){var v=p[h];v.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype){var a=i;this.prototype[a]=s.prototype[a]}return this}).apply(e,[n])},t}();function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kt={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},oe={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},sT={};function iT(t){var{children:e,options:n,averageCenter:r,batchSizeIE:s,calculator:i,clusterClass:a,enableRetinaIcons:o,gridSize:c,ignoreHidden:u,imageExtension:d,imagePath:h,imageSizes:p,maxZoom:v,minimumClusterSize:g,styles:w,title:S,zoomOnClick:x,onClick:m,onClusteringBegin:y,onClusteringEnd:b,onMouseOver:k,onMouseOut:j,onLoad:C,onUnmount:E}=t,[_,L]=f.useState(null),M=f.useContext(Q),[U,z]=f.useState(null),[$,J]=f.useState(null),[X,G]=f.useState(null),[T,I]=f.useState(null),[R,F]=f.useState(null);return f.useEffect(()=>{_&&j&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(_,kt.onMouseOut,j)))},[j]),f.useEffect(()=>{_&&k&&(R!==null&&google.maps.event.removeListener(R),F(google.maps.event.addListener(_,kt.onMouseOver,k)))},[k]),f.useEffect(()=>{_&&m&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(_,kt.onClick,m)))},[m]),f.useEffect(()=>{_&&y&&($!==null&&google.maps.event.removeListener($),J(google.maps.event.addListener(_,kt.onClusteringBegin,y)))},[y]),f.useEffect(()=>{_&&b&&(X!==null&&google.maps.event.removeListener(X),J(google.maps.event.addListener(_,kt.onClusteringEnd,b)))},[b]),f.useEffect(()=>{typeof r<"u"&&_!==null&&oe.averageCenter(_,r)},[_,r]),f.useEffect(()=>{typeof s<"u"&&_!==null&&oe.batchSizeIE(_,s)},[_,s]),f.useEffect(()=>{typeof i<"u"&&_!==null&&oe.calculator(_,i)},[_,i]),f.useEffect(()=>{typeof a<"u"&&_!==null&&oe.clusterClass(_,a)},[_,a]),f.useEffect(()=>{typeof o<"u"&&_!==null&&oe.enableRetinaIcons(_,o)},[_,o]),f.useEffect(()=>{typeof c<"u"&&_!==null&&oe.gridSize(_,c)},[_,c]),f.useEffect(()=>{typeof u<"u"&&_!==null&&oe.ignoreHidden(_,u)},[_,u]),f.useEffect(()=>{typeof d<"u"&&_!==null&&oe.imageExtension(_,d)},[_,d]),f.useEffect(()=>{typeof h<"u"&&_!==null&&oe.imagePath(_,h)},[_,h]),f.useEffect(()=>{typeof p<"u"&&_!==null&&oe.imageSizes(_,p)},[_,p]),f.useEffect(()=>{typeof v<"u"&&_!==null&&oe.maxZoom(_,v)},[_,v]),f.useEffect(()=>{typeof g<"u"&&_!==null&&oe.minimumClusterSize(_,g)},[_,g]),f.useEffect(()=>{typeof w<"u"&&_!==null&&oe.styles(_,w)},[_,w]),f.useEffect(()=>{typeof S<"u"&&_!==null&&oe.title(_,S)},[_,S]),f.useEffect(()=>{typeof x<"u"&&_!==null&&oe.zoomOnClick(_,x)},[_,x]),f.useEffect(()=>{if(M){var Z=rT({},n||sT),V=new eb(M,[],Z);return r&&oe.averageCenter(V,r),s&&oe.batchSizeIE(V,s),i&&oe.calculator(V,i),a&&oe.clusterClass(V,a),o&&oe.enableRetinaIcons(V,o),c&&oe.gridSize(V,c),u&&oe.ignoreHidden(V,u),d&&oe.imageExtension(V,d),h&&oe.imagePath(V,h),p&&oe.imageSizes(V,p),v&&oe.maxZoom(V,v),g&&oe.minimumClusterSize(V,g),w&&oe.styles(V,w),S&&oe.title(V,S),x&&oe.zoomOnClick(V,x),j&&I(google.maps.event.addListener(V,kt.onMouseOut,j)),k&&F(google.maps.event.addListener(V,kt.onMouseOver,k)),m&&z(google.maps.event.addListener(V,kt.onClick,m)),y&&J(google.maps.event.addListener(V,kt.onClusteringBegin,y)),b&&G(google.maps.event.addListener(V,kt.onClusteringEnd,b)),L(V),C&&C(V),()=>{T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),U!==null&&google.maps.event.removeListener(U),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),E&&E(V)}}},[]),_!==null&&e(_)||null}f.memo(iT);class aT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{markerClusterer:null}),P(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new eb(this.context,[],this.props.options);this.registeredEvents=te({updaterMap:oe,eventMap:kt,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:oe,eventMap:kt,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ne(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}P(aT,"contextType",Q);function _g(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var tb=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(d){d.returnValue=!1,d.preventDefault&&d.preventDefault(),e.enableEventPropagation||_g(d)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var s=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-s.left-s.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0,o=i;a<o.length;a++){var c=o[a];this.eventListeners.push(google.maps.event.addListener(this.div,c,_g))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,s=0,i=n.getBounds();i&&!i.contains(this.position)&&n.setCenter(this.position);var a=n.getDiv(),o=a.offsetWidth,c=a.offsetHeight,u=this.pixelOffset.width,d=this.pixelOffset.height,h=this.div.offsetWidth,p=this.div.offsetHeight,v=this.infoBoxClearance.width,g=this.infoBoxClearance.height,w=this.getProjection(),S=w.fromLatLngToContainerPixel(this.position);S!==null&&(S.x<-u+v?r=S.x+u-v:S.x+h+u+v>o&&(r=S.x+h+u+v-o),this.alignBottom?S.y<-d+g+p?s=S.y+d-g-p:S.y+d+g>c&&(s=S.y+d+g-c):S.y<-d+g?s=S.y+d-g:S.y+p+d+g>c&&(s=S.y+p+d+g-c)),r===0&&s===0||n.panBy(r,s)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var s=n.getPosition();r.setPosition(s)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(s){for(var i in s.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=s.prototype[i]);return this}).apply(e,[n])},t}(),oT=["position"],lT=["position"];function Lg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Pg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Ng={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},cT={};function uT(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:o,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=t,v=f.useContext(Q),[g,w]=f.useState(null),[S,x]=f.useState(null),[m,y]=f.useState(null),[b,k]=f.useState(null),[j,C]=f.useState(null),[E,_]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{v&&g!==null&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))},[v,g,n]),f.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),f.useEffect(()=>{if(s&&g!==null){var M=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(M)}},[s]),f.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),f.useEffect(()=>{g&&a&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(g,"closeclick",a)))},[a]),f.useEffect(()=>{g&&o&&(m!==null&&google.maps.event.removeListener(m),y(google.maps.event.addListener(g,"domready",o)))},[o]),f.useEffect(()=>{g&&c&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(g,"content_changed",c)))},[c]),f.useEffect(()=>{g&&u&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(g,"position_changed",u)))},[u]),f.useEffect(()=>{g&&d&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),f.useEffect(()=>{if(v){var M=r||cT,{position:U}=M,z=Ih(M,oT),$;U&&!(U instanceof google.maps.LatLng)&&($=new google.maps.LatLng(U.lat,U.lng));var J=new tb(Fo(Fo({},z),$?{position:$}:{}));L.current=document.createElement("div"),w(J),a&&x(google.maps.event.addListener(J,"closeclick",a)),o&&y(google.maps.event.addListener(J,"domready",o)),c&&k(google.maps.event.addListener(J,"content_changed",c)),u&&C(google.maps.event.addListener(J,"position_changed",u)),d&&_(google.maps.event.addListener(J,"zindex_changed",d)),J.setContent(L.current),n?J.open(v,n):J.getPosition()?J.open(v):Ie(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(J)}return()=>{g!==null&&(S&&google.maps.event.removeListener(S),b&&google.maps.event.removeListener(b),m&&google.maps.event.removeListener(m),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),p&&p(g),g.close())}},[]),L.current?br.createPortal(f.Children.only(e),L.current):null}f.memo(uT);class dT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",null),P(this,"state",{infoBox:null}),P(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Ie(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),P(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Ih(e,lT),s;n&&!(n instanceof google.maps.LatLng)&&(s=new google.maps.LatLng(n.lat,n.lng));var i=new tb(Fo(Fo({},r),s?{position:s}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:Ng,eventMap:Pg,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Ng,eventMap:Pg,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),ne(this.registeredEvents),n.close())}render(){return this.containerElement?br.createPortal(f.Children.only(this.props.children),this.containerElement):null}}P(dT,"contextType",Q);var bc,Tg;function hT(){return Tg||(Tg=1,bc=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var a=i[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),bc}var fT=hT(),Mg=Zw(fT),Og=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],kc=1,Bs=8;class Dh{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(s!==kc)throw new Error("Got v".concat(s," data when expected v").concat(kc,"."));var i=Og[r&15];if(!i)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new Dh(o,a,i,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=Og.indexOf(this.ArrayType),a=e*2*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Bs,e),this.coords=new this.ArrayType(this.data,Bs+o+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Bs+a+o+c),this.ids=new this.IndexArrayType(this.data,Bs,e),this.coords=new this.ArrayType(this.data,Bs+o+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(kc<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Ju(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:a,nodeSize:o}=this,c=[0,i.length-1,0],u=[];c.length;){var d=c.pop()||0,h=c.pop()||0,p=c.pop()||0;if(h-p<=o){for(var v=p;v<=h;v++){var g=a[2*v],w=a[2*v+1];g>=e&&g<=r&&w>=n&&w<=s&&u.push(i[v])}continue}var S=p+h>>1,x=a[2*S],m=a[2*S+1];x>=e&&x<=r&&m>=n&&m<=s&&u.push(i[S]),(d===0?e<=x:n<=m)&&(c.push(p),c.push(S-1),c.push(1-d)),(d===0?r>=x:s>=m)&&(c.push(S+1),c.push(h),c.push(1-d))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:i,nodeSize:a}=this,o=[0,s.length-1,0],c=[],u=r*r;o.length;){var d=o.pop()||0,h=o.pop()||0,p=o.pop()||0;if(h-p<=a){for(var v=p;v<=h;v++)Ag(i[2*v],i[2*v+1],e,n)<=u&&c.push(s[v]);continue}var g=p+h>>1,w=i[2*g],S=i[2*g+1];Ag(w,S,e,n)<=u&&c.push(s[g]),(d===0?e-r<=w:n-r<=S)&&(o.push(p),o.push(g-1),o.push(1-d)),(d===0?e+r>=w:n+r>=S)&&(o.push(g+1),o.push(h),o.push(1-d))}return c}}function Ju(t,e,n,r,s,i){if(!(s-r<=n)){var a=r+s>>1;nb(t,e,a,r,s,i),Ju(t,e,n,r,a-1,1-i),Ju(t,e,n,a+1,s,1-i)}}function nb(t,e,n,r,s,i){for(;s>r;){if(s-r>600){var a=s-r+1,o=n-r+1,c=Math.log(a),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(a-u)/a)*(o-a/2<0?-1:1),h=Math.max(r,Math.floor(n-o*u/a+d)),p=Math.min(s,Math.floor(n+(a-o)*u/a+d));nb(t,e,n,h,p,i)}var v=e[2*n+i],g=r,w=s;for(Us(t,e,r,n),e[2*s+i]>v&&Us(t,e,r,s);g<w;){for(Us(t,e,g,w),g++,w--;e[2*g+i]<v;)g++;for(;e[2*w+i]>v;)w--}e[2*r+i]===v?Us(t,e,r,w):(w++,Us(t,e,w,s)),w<=n&&(r=w+1),n<=w&&(s=w-1)}}function Us(t,e,n,r){Sc(t,n,r),Sc(e,2*n,2*r),Sc(e,2*n+1,2*r+1)}function Sc(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ag(t,e,n,r){var s=t-n,i=e-r;return s*s+i*i}var pT={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Rg=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Yn=2,kn=3,jc=4,yn=5,rb=6;class mT{constructor(e){this.options=Object.assign(Object.create(pT),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");var i="prepare ".concat(e.length," points");n&&console.time(i),this.points=e;for(var a=[],o=0;o<e.length;o++){var c=e[o];if(c.geometry){var[u,d]=c.geometry.coordinates,h=Rg(Ua(u)),p=Rg($a(d));a.push(h,p,1/0,o,-1,1),this.options.reduce&&a.push(0)}}var v=this.trees[s+1]=this._createTree(a);n&&console.timeEnd(i);for(var g=s;g>=r;g--){var w=+Date.now();v=this.trees[g]=this._createTree(this._cluster(v,g)),n&&console.log("z%d: %d clusters in %dms",g,v.numItems,+Date.now()-w)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){var o=this.getClusters([r,s,180,a],n),c=this.getClusters([-180,s,i,a],n);return o.concat(c)}var u=this.trees[this._limitZoom(n)],d=u.range(Ua(r),$a(a),Ua(i),$a(s)),h=u.data,p=[];for(var v of d){var g=this.stride*v;p.push(h[g+yn]>1?Ig(h,g,this.clusterProps):this.points[h[g+kn]])}return p}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);var a=i.data;if(n*this.stride>=a.length)throw new Error(s);var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=a[n*this.stride],u=a[n*this.stride+1],d=i.within(c,u,o),h=[];for(var p of d){var v=p*this.stride;a[v+jc]===e&&h.push(a[v+yn]>1?Ig(a,v,this.clusterProps):this.points[a[v+kn]])}if(h.length===0)throw new Error(s);return h}getLeaves(e,n,r){n=n||10,r=r||0;var s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){var s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:a,radius:o}=this.options,c=o/a,u=(r-c)/i,d=(r+1+c)/i,h={features:[]};return this._addTileFeatures(s.range((n-c)/i,u,(n+1+c)/i,d),s.data,n,r,i,h),n===0&&this._addTileFeatures(s.range(1-c/i,u,1,d),s.data,i,r,i,h),n===i-1&&this._addTileFeatures(s.range(0,u,c/i,d),s.data,-1,r,i,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){var a=this.getChildren(n);for(var o of a){var c=o.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(o),e.length===r)break}return i}_createTree(e){for(var n=new Dh(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,a){for(var o of e){var c=o*this.stride,u=n[c+yn]>1,d=void 0,h=void 0,p=void 0;if(u)d=sb(n,c,this.clusterProps),h=n[c],p=n[c+1];else{var v=this.points[n[c+kn]];d=v.properties;var[g,w]=v.geometry.coordinates;h=Ua(g),p=$a(w)}var S={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(p*i-s))]],tags:d},x=void 0;u||this.options.generateId?x=n[c+kn]:x=this.points[n[c+kn]].id,x!==void 0&&(S.id=x),a.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:s,reduce:i,minPoints:a}=this.options,o=r/(s*Math.pow(2,n)),c=e.data,u=[],d=this.stride,h=0;h<c.length;h+=d)if(!(c[h+Yn]<=n)){c[h+Yn]=n;var p=c[h],v=c[h+1],g=e.within(c[h],c[h+1],o),w=c[h+yn],S=w;for(var x of g){var m=x*d;c[m+Yn]>n&&(S+=c[m+yn])}if(S>w&&S>=a){var y=p*w,b=v*w,k=void 0,j=-1,C=((h/d|0)<<5)+(n+1)+this.points.length;for(var E of g){var _=E*d;if(!(c[_+Yn]<=n)){c[_+Yn]=n;var L=c[_+yn];y+=c[_]*L,b+=c[_+1]*L,c[_+jc]=C,i&&(k||(k=this._map(c,h,!0),j=this.clusterProps.length,this.clusterProps.push(k)),i(k,this._map(c,_)))}}c[h+jc]=C,u.push(y/S,b/S,1/0,C,-1,S),i&&u.push(j)}else{for(var M=0;M<d;M++)u.push(c[h+M]);if(S>1)for(var U of g){var z=U*d;if(!(c[z+Yn]<=n)){c[z+Yn]=n;for(var $=0;$<d;$++)u.push(c[z+$])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+yn]>1){var s=this.clusterProps[e[n+rb]];return r?Object.assign({},s):s}var i=this.points[e[n+kn]].properties,a=this.options.map(i);return r&&a===i?Object.assign({},a):a}}function Ig(t,e,n){return{type:"Feature",id:t[e+kn],properties:sb(t,e,n),geometry:{type:"Point",coordinates:[gT(t[e]),vT(t[e+1])]}}}function sb(t,e,n){var r=t[e+yn],s=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,i=t[e+rb],a=i===-1?{}:Object.assign({},n[i]);return Object.assign(a,{cluster:!0,cluster_id:t[e+kn],point_count:r,point_count_abbreviated:s})}function Ua(t){return t/360+.5}function $a(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function gT(t){return(t-.5)*360}function vT(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function yT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class ut{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Yu{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(ut.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>ut.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(ut.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class xT{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return wT(n)}}var wT=t=>{var e=t.map(n=>new Yu({position:ut.getPosition(n),markers:[n]}));return e};class bT extends xT{constructor(e){var{maxZoom:n,radius:r=60}=e,s=yT(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new mT(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!Mg(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var s=this.markers.map(i=>{var a=ut.getPosition(i),o=[a.lng(),a.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Mg(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:s}=e;if(s.cluster)return new Yu({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:n}});var i=s.marker;return new Yu({markers:[i],position:ut.getPosition(i)})}}class kT{constructor(e,n){this.markers={sum:e.length};var r=n.map(i=>i.count),s=r.reduce((i,a)=>i+a,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class ST{render(e,n,r){var{count:s,position:i}=e,a=s>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(a,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(s,`</text>
</svg>`),c="Cluster of ".concat(s," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+s;if(ut.isAdvancedMarkerAvailable(r)){var d=new DOMParser,h=d.parseFromString(o,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var p={map:r,position:i,zIndex:u,title:c,content:h};return new google.maps.marker.AdvancedMarkerElement(p)}var v={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(v)}}function jT(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class Bh{constructor(){jT(Bh,google.maps.OverlayView)}}var ui;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ui||(ui={}));var CT=(t,e,n)=>{n.fitBounds(e.bounds)};class ET extends Bh{constructor(e){var{map:n,markers:r=[],algorithmOptions:s={},algorithm:i=new bT(s),renderer:a=new ST,onClusterClick:o=CT}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=o,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(ut.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ui.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var s=new Set;for(var i of n)i.markers.length==1&&s.add(i.markers[0]);var a=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?s.has(o.marker)||ut.setMap(o.marker,null):a.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>a.forEach(c=>ut.setMap(c,null)))}google.maps.event.trigger(this,ui.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>ut.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new kT(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>ut.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,ui.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),ut.setMap(r.marker,n)})}}function Dg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _T(t){var e=xN(),[n,r]=f.useState(null);return f.useEffect(()=>{if(e&&n===null){var s=new ET(Bg(Bg({},t),{},{map:e}));r(s)}},[e]),n}function LT(t){var{children:e,options:n}=t,r=_T(n);return r!==null?e(r):null}f.memo(LT);var Ug={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},$g={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function PT(t){var{children:e,anchor:n,options:r,position:s,zIndex:i,onCloseClick:a,onDomReady:o,onContentChanged:c,onPositionChanged:u,onZindexChanged:d,onLoad:h,onUnmount:p}=t,v=f.useContext(Q),[g,w]=f.useState(null),[S,x]=f.useState(null),[m,y]=f.useState(null),[b,k]=f.useState(null),[j,C]=f.useState(null),[E,_]=f.useState(null),L=f.useRef(null);return f.useEffect(()=>{g!==null&&(g.close(),n?g.open(v,n):g.getPosition()&&g.open(v))},[v,g,n]),f.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),f.useEffect(()=>{s&&g!==null&&g.setPosition(s)},[s]),f.useEffect(()=>{typeof i=="number"&&g!==null&&g.setZIndex(i)},[i]),f.useEffect(()=>{g&&a&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(g,"closeclick",a)))},[a]),f.useEffect(()=>{g&&o&&(m!==null&&google.maps.event.removeListener(m),y(google.maps.event.addListener(g,"domready",o)))},[o]),f.useEffect(()=>{g&&c&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(g,"content_changed",c)))},[c]),f.useEffect(()=>{g&&u&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(g,"position_changed",u)))},[u]),f.useEffect(()=>{g&&d&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(g,"zindex_changed",d)))},[d]),f.useEffect(()=>{var M=new google.maps.InfoWindow(r);return w(M),L.current=document.createElement("div"),a&&x(google.maps.event.addListener(M,"closeclick",a)),o&&y(google.maps.event.addListener(M,"domready",o)),c&&k(google.maps.event.addListener(M,"content_changed",c)),u&&C(google.maps.event.addListener(M,"position_changed",u)),d&&_(google.maps.event.addListener(M,"zindex_changed",d)),M.setContent(L.current),s&&M.setPosition(s),i&&M.setZIndex(i),n?M.open(v,n):M.getPosition()?M.open(v):Ie(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(M),()=>{S&&google.maps.event.removeListener(S),b&&google.maps.event.removeListener(b),m&&google.maps.event.removeListener(m),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),p&&p(M),M.close()}},[]),L.current?br.createPortal(f.Children.only(e),L.current):null}f.memo(PT);class NT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",null),P(this,"state",{infoWindow:null}),P(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Ie(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),P(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=te({updaterMap:$g,eventMap:Ug,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:$g,eventMap:Ug,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ne(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?br.createPortal(f.Children.only(this.props.children),this.containerElement):null}}P(NT,"contextType",Q);function Vg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Fg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},zg={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},TT={};function MT(t){var{options:e,draggable:n,editable:r,visible:s,path:i,onDblClick:a,onDragEnd:o,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:v,onRightClick:g,onClick:w,onDrag:S,onLoad:x,onUnmount:m}=t,y=f.useContext(Q),[b,k]=f.useState(null),[j,C]=f.useState(null),[E,_]=f.useState(null),[L,M]=f.useState(null),[U,z]=f.useState(null),[$,J]=f.useState(null),[X,G]=f.useState(null),[T,I]=f.useState(null),[R,F]=f.useState(null),[Z,V]=f.useState(null),[se,N]=f.useState(null),[le,ce]=f.useState(null);return f.useEffect(()=>{b!==null&&b.setMap(y)},[y]),f.useEffect(()=>{typeof e<"u"&&b!==null&&b.setOptions(e)},[b,e]),f.useEffect(()=>{typeof n<"u"&&b!==null&&b.setDraggable(n)},[b,n]),f.useEffect(()=>{typeof r<"u"&&b!==null&&b.setEditable(r)},[b,r]),f.useEffect(()=>{typeof s<"u"&&b!==null&&b.setVisible(s)},[b,s]),f.useEffect(()=>{typeof i<"u"&&b!==null&&b.setPath(i)},[b,i]),f.useEffect(()=>{b&&a&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(b,"dblclick",a)))},[a]),f.useEffect(()=>{b&&o&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(b,"dragend",o)))},[o]),f.useEffect(()=>{b&&c&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(b,"dragstart",c)))},[c]),f.useEffect(()=>{b&&u&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(b,"mousedown",u)))},[u]),f.useEffect(()=>{b&&d&&($!==null&&google.maps.event.removeListener($),J(google.maps.event.addListener(b,"mousemove",d)))},[d]),f.useEffect(()=>{b&&h&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(b,"mouseout",h)))},[h]),f.useEffect(()=>{b&&p&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(b,"mouseover",p)))},[p]),f.useEffect(()=>{b&&v&&(R!==null&&google.maps.event.removeListener(R),F(google.maps.event.addListener(b,"mouseup",v)))},[v]),f.useEffect(()=>{b&&g&&(Z!==null&&google.maps.event.removeListener(Z),V(google.maps.event.addListener(b,"rightclick",g)))},[g]),f.useEffect(()=>{b&&w&&(se!==null&&google.maps.event.removeListener(se),N(google.maps.event.addListener(b,"click",w)))},[w]),f.useEffect(()=>{b&&S&&(le!==null&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(b,"drag",S)))},[S]),f.useEffect(()=>{var ee=new google.maps.Polyline(zo(zo({},e||TT),{},{map:y}));return i&&ee.setPath(i),typeof s<"u"&&ee.setVisible(s),typeof r<"u"&&ee.setEditable(r),typeof n<"u"&&ee.setDraggable(n),a&&C(google.maps.event.addListener(ee,"dblclick",a)),o&&_(google.maps.event.addListener(ee,"dragend",o)),c&&M(google.maps.event.addListener(ee,"dragstart",c)),u&&z(google.maps.event.addListener(ee,"mousedown",u)),d&&J(google.maps.event.addListener(ee,"mousemove",d)),h&&G(google.maps.event.addListener(ee,"mouseout",h)),p&&I(google.maps.event.addListener(ee,"mouseover",p)),v&&F(google.maps.event.addListener(ee,"mouseup",v)),g&&V(google.maps.event.addListener(ee,"rightclick",g)),w&&N(google.maps.event.addListener(ee,"click",w)),S&&ce(google.maps.event.addListener(ee,"drag",S)),k(ee),x&&x(ee),()=>{j!==null&&google.maps.event.removeListener(j),E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),m&&m(ee),ee.setMap(null)}},[]),null}f.memo(MT);class OT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{polyline:null}),P(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(zo(zo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:zg,eventMap:Fg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:zg,eventMap:Fg,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ne(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}P(OT,"contextType",Q);function Wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Kg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Gg={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function AT(t){var{options:e,draggable:n,editable:r,visible:s,path:i,paths:a,onDblClick:o,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:v,onMouseUp:g,onRightClick:w,onClick:S,onDrag:x,onLoad:m,onUnmount:y,onEdit:b}=t,k=f.useContext(Q),[j,C]=f.useState(null),[E,_]=f.useState(null),[L,M]=f.useState(null),[U,z]=f.useState(null),[$,J]=f.useState(null),[X,G]=f.useState(null),[T,I]=f.useState(null),[R,F]=f.useState(null),[Z,V]=f.useState(null),[se,N]=f.useState(null),[le,ce]=f.useState(null),[ee,Ne]=f.useState(null);return f.useEffect(()=>{j!==null&&j.setMap(k)},[k]),f.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),f.useEffect(()=>{typeof n<"u"&&j!==null&&j.setDraggable(n)},[j,n]),f.useEffect(()=>{typeof r<"u"&&j!==null&&j.setEditable(r)},[j,r]),f.useEffect(()=>{typeof s<"u"&&j!==null&&j.setVisible(s)},[j,s]),f.useEffect(()=>{typeof i<"u"&&j!==null&&j.setPath(i)},[j,i]),f.useEffect(()=>{typeof a<"u"&&j!==null&&j.setPaths(a)},[j,a]),f.useEffect(()=>{j&&typeof o=="function"&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(j,"dblclick",o)))},[o]),f.useEffect(()=>{j&&(google.maps.event.addListener(j.getPath(),"insert_at",()=>{b==null||b(j)}),google.maps.event.addListener(j.getPath(),"set_at",()=>{b==null||b(j)}),google.maps.event.addListener(j.getPath(),"remove_at",()=>{b==null||b(j)}))},[j,b]),f.useEffect(()=>{j&&typeof c=="function"&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(j,"dragend",c)))},[c]),f.useEffect(()=>{j&&typeof u=="function"&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(j,"dragstart",u)))},[u]),f.useEffect(()=>{j&&typeof d=="function"&&($!==null&&google.maps.event.removeListener($),J(google.maps.event.addListener(j,"mousedown",d)))},[d]),f.useEffect(()=>{j&&typeof h=="function"&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(j,"mousemove",h)))},[h]),f.useEffect(()=>{j&&typeof p=="function"&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(j,"mouseout",p)))},[p]),f.useEffect(()=>{j&&typeof v=="function"&&(R!==null&&google.maps.event.removeListener(R),F(google.maps.event.addListener(j,"mouseover",v)))},[v]),f.useEffect(()=>{j&&typeof g=="function"&&(Z!==null&&google.maps.event.removeListener(Z),V(google.maps.event.addListener(j,"mouseup",g)))},[g]),f.useEffect(()=>{j&&typeof w=="function"&&(se!==null&&google.maps.event.removeListener(se),N(google.maps.event.addListener(j,"rightclick",w)))},[w]),f.useEffect(()=>{j&&typeof S=="function"&&(le!==null&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(j,"click",S)))},[S]),f.useEffect(()=>{j&&typeof x=="function"&&(ee!==null&&google.maps.event.removeListener(ee),Ne(google.maps.event.addListener(j,"drag",x)))},[x]),f.useEffect(()=>{var q=new google.maps.Polygon(Hg(Hg({},e),{},{map:k}));return i&&q.setPath(i),a&&q.setPaths(a),typeof s<"u"&&q.setVisible(s),typeof r<"u"&&q.setEditable(r),typeof n<"u"&&q.setDraggable(n),o&&_(google.maps.event.addListener(q,"dblclick",o)),c&&M(google.maps.event.addListener(q,"dragend",c)),u&&z(google.maps.event.addListener(q,"dragstart",u)),d&&J(google.maps.event.addListener(q,"mousedown",d)),h&&G(google.maps.event.addListener(q,"mousemove",h)),p&&I(google.maps.event.addListener(q,"mouseout",p)),v&&F(google.maps.event.addListener(q,"mouseover",v)),g&&V(google.maps.event.addListener(q,"mouseup",g)),w&&N(google.maps.event.addListener(q,"rightclick",w)),S&&ce(google.maps.event.addListener(q,"click",S)),x&&Ne(google.maps.event.addListener(q,"drag",x)),C(q),m&&m(q),()=>{E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),y&&y(q),q.setMap(null)}},[]),null}f.memo(AT);class RT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=te({updaterMap:Gg,eventMap:Kg,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Gg,eventMap:Kg,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ne(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}P(RT,"contextType",Q);function qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Zg={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Jg={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function IT(t){var{options:e,bounds:n,draggable:r,editable:s,visible:i,onDblClick:a,onDragEnd:o,onDragStart:c,onMouseDown:u,onMouseMove:d,onMouseOut:h,onMouseOver:p,onMouseUp:v,onRightClick:g,onClick:w,onDrag:S,onBoundsChanged:x,onLoad:m,onUnmount:y}=t,b=f.useContext(Q),[k,j]=f.useState(null),[C,E]=f.useState(null),[_,L]=f.useState(null),[M,U]=f.useState(null),[z,$]=f.useState(null),[J,X]=f.useState(null),[G,T]=f.useState(null),[I,R]=f.useState(null),[F,Z]=f.useState(null),[V,se]=f.useState(null),[N,le]=f.useState(null),[ce,ee]=f.useState(null),[Ne,q]=f.useState(null);return f.useEffect(()=>{k!==null&&k.setMap(b)},[b]),f.useEffect(()=>{typeof e<"u"&&k!==null&&k.setOptions(e)},[k,e]),f.useEffect(()=>{typeof r<"u"&&k!==null&&k.setDraggable(r)},[k,r]),f.useEffect(()=>{typeof s<"u"&&k!==null&&k.setEditable(s)},[k,s]),f.useEffect(()=>{typeof i<"u"&&k!==null&&k.setVisible(i)},[k,i]),f.useEffect(()=>{typeof n<"u"&&k!==null&&k.setBounds(n)},[k,n]),f.useEffect(()=>{k&&a&&(C!==null&&google.maps.event.removeListener(C),E(google.maps.event.addListener(k,"dblclick",a)))},[a]),f.useEffect(()=>{k&&o&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(k,"dragend",o)))},[o]),f.useEffect(()=>{k&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(k,"dragstart",c)))},[c]),f.useEffect(()=>{k&&u&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(k,"mousedown",u)))},[u]),f.useEffect(()=>{k&&d&&(J!==null&&google.maps.event.removeListener(J),X(google.maps.event.addListener(k,"mousemove",d)))},[d]),f.useEffect(()=>{k&&h&&(G!==null&&google.maps.event.removeListener(G),T(google.maps.event.addListener(k,"mouseout",h)))},[h]),f.useEffect(()=>{k&&p&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(k,"mouseover",p)))},[p]),f.useEffect(()=>{k&&v&&(F!==null&&google.maps.event.removeListener(F),Z(google.maps.event.addListener(k,"mouseup",v)))},[v]),f.useEffect(()=>{k&&g&&(V!==null&&google.maps.event.removeListener(V),se(google.maps.event.addListener(k,"rightclick",g)))},[g]),f.useEffect(()=>{k&&w&&(N!==null&&google.maps.event.removeListener(N),le(google.maps.event.addListener(k,"click",w)))},[w]),f.useEffect(()=>{k&&S&&(ce!==null&&google.maps.event.removeListener(ce),ee(google.maps.event.addListener(k,"drag",S)))},[S]),f.useEffect(()=>{k&&x&&(Ne!==null&&google.maps.event.removeListener(Ne),q(google.maps.event.addListener(k,"bounds_changed",x)))},[x]),f.useEffect(()=>{var ae=new google.maps.Rectangle(Wo(Wo({},e),{},{map:b}));return typeof i<"u"&&ae.setVisible(i),typeof s<"u"&&ae.setEditable(s),typeof r<"u"&&ae.setDraggable(r),typeof n<"u"&&ae.setBounds(n),a&&E(google.maps.event.addListener(ae,"dblclick",a)),o&&L(google.maps.event.addListener(ae,"dragend",o)),c&&U(google.maps.event.addListener(ae,"dragstart",c)),u&&$(google.maps.event.addListener(ae,"mousedown",u)),d&&X(google.maps.event.addListener(ae,"mousemove",d)),h&&T(google.maps.event.addListener(ae,"mouseout",h)),p&&R(google.maps.event.addListener(ae,"mouseover",p)),v&&Z(google.maps.event.addListener(ae,"mouseup",v)),g&&se(google.maps.event.addListener(ae,"rightclick",g)),w&&le(google.maps.event.addListener(ae,"click",w)),S&&ee(google.maps.event.addListener(ae,"drag",S)),x&&q(google.maps.event.addListener(ae,"bounds_changed",x)),j(ae),m&&m(ae),()=>{C!==null&&google.maps.event.removeListener(C),_!==null&&google.maps.event.removeListener(_),M!==null&&google.maps.event.removeListener(M),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),G!==null&&google.maps.event.removeListener(G),I!==null&&google.maps.event.removeListener(I),F!==null&&google.maps.event.removeListener(F),V!==null&&google.maps.event.removeListener(V),N!==null&&google.maps.event.removeListener(N),ce!==null&&google.maps.event.removeListener(ce),Ne!==null&&google.maps.event.removeListener(Ne),y&&y(ae),ae.setMap(null)}},[]),null}f.memo(IT);class DT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{rectangle:null}),P(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Wo(Wo({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Jg,eventMap:Zg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Jg,eventMap:Zg,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ne(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}P(DT,"contextType",Q);function Yg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yg(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Qg={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Xg={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},BT={};function UT(t){var{options:e,center:n,radius:r,draggable:s,editable:i,visible:a,onDblClick:o,onDragEnd:c,onDragStart:u,onMouseDown:d,onMouseMove:h,onMouseOut:p,onMouseOver:v,onMouseUp:g,onRightClick:w,onClick:S,onDrag:x,onCenterChanged:m,onRadiusChanged:y,onLoad:b,onUnmount:k}=t,j=f.useContext(Q),[C,E]=f.useState(null),[_,L]=f.useState(null),[M,U]=f.useState(null),[z,$]=f.useState(null),[J,X]=f.useState(null),[G,T]=f.useState(null),[I,R]=f.useState(null),[F,Z]=f.useState(null),[V,se]=f.useState(null),[N,le]=f.useState(null),[ce,ee]=f.useState(null),[Ne,q]=f.useState(null),[ae,Pt]=f.useState(null),[Jt,Es]=f.useState(null);return f.useEffect(()=>{C!==null&&C.setMap(j)},[j]),f.useEffect(()=>{typeof e<"u"&&C!==null&&C.setOptions(e)},[C,e]),f.useEffect(()=>{typeof s<"u"&&C!==null&&C.setDraggable(s)},[C,s]),f.useEffect(()=>{typeof i<"u"&&C!==null&&C.setEditable(i)},[C,i]),f.useEffect(()=>{typeof a<"u"&&C!==null&&C.setVisible(a)},[C,a]),f.useEffect(()=>{typeof r=="number"&&C!==null&&C.setRadius(r)},[C,r]),f.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),f.useEffect(()=>{C&&o&&(_!==null&&google.maps.event.removeListener(_),L(google.maps.event.addListener(C,"dblclick",o)))},[o]),f.useEffect(()=>{C&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(C,"dragend",c)))},[c]),f.useEffect(()=>{C&&u&&(z!==null&&google.maps.event.removeListener(z),$(google.maps.event.addListener(C,"dragstart",u)))},[u]),f.useEffect(()=>{C&&d&&(J!==null&&google.maps.event.removeListener(J),X(google.maps.event.addListener(C,"mousedown",d)))},[d]),f.useEffect(()=>{C&&h&&(G!==null&&google.maps.event.removeListener(G),T(google.maps.event.addListener(C,"mousemove",h)))},[h]),f.useEffect(()=>{C&&p&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(C,"mouseout",p)))},[p]),f.useEffect(()=>{C&&v&&(F!==null&&google.maps.event.removeListener(F),Z(google.maps.event.addListener(C,"mouseover",v)))},[v]),f.useEffect(()=>{C&&g&&(V!==null&&google.maps.event.removeListener(V),se(google.maps.event.addListener(C,"mouseup",g)))},[g]),f.useEffect(()=>{C&&w&&(N!==null&&google.maps.event.removeListener(N),le(google.maps.event.addListener(C,"rightclick",w)))},[w]),f.useEffect(()=>{C&&S&&(ce!==null&&google.maps.event.removeListener(ce),ee(google.maps.event.addListener(C,"click",S)))},[S]),f.useEffect(()=>{C&&x&&(Ne!==null&&google.maps.event.removeListener(Ne),q(google.maps.event.addListener(C,"drag",x)))},[x]),f.useEffect(()=>{C&&m&&(ae!==null&&google.maps.event.removeListener(ae),Pt(google.maps.event.addListener(C,"center_changed",m)))},[S]),f.useEffect(()=>{C&&y&&(Jt!==null&&google.maps.event.removeListener(Jt),Es(google.maps.event.addListener(C,"radius_changed",y)))},[y]),f.useEffect(()=>{var de=new google.maps.Circle(Ho(Ho({},e||BT),{},{map:j}));return typeof r=="number"&&de.setRadius(r),typeof n<"u"&&de.setCenter(n),typeof r=="number"&&de.setRadius(r),typeof a<"u"&&de.setVisible(a),typeof i<"u"&&de.setEditable(i),typeof s<"u"&&de.setDraggable(s),o&&L(google.maps.event.addListener(de,"dblclick",o)),c&&U(google.maps.event.addListener(de,"dragend",c)),u&&$(google.maps.event.addListener(de,"dragstart",u)),d&&X(google.maps.event.addListener(de,"mousedown",d)),h&&T(google.maps.event.addListener(de,"mousemove",h)),p&&R(google.maps.event.addListener(de,"mouseout",p)),v&&Z(google.maps.event.addListener(de,"mouseover",v)),g&&se(google.maps.event.addListener(de,"mouseup",g)),w&&le(google.maps.event.addListener(de,"rightclick",w)),S&&ee(google.maps.event.addListener(de,"click",S)),x&&q(google.maps.event.addListener(de,"drag",x)),m&&Pt(google.maps.event.addListener(de,"center_changed",m)),y&&Es(google.maps.event.addListener(de,"radius_changed",y)),E(de),b&&b(de),()=>{_!==null&&google.maps.event.removeListener(_),M!==null&&google.maps.event.removeListener(M),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),G!==null&&google.maps.event.removeListener(G),I!==null&&google.maps.event.removeListener(I),F!==null&&google.maps.event.removeListener(F),V!==null&&google.maps.event.removeListener(V),N!==null&&google.maps.event.removeListener(N),ce!==null&&google.maps.event.removeListener(ce),ae!==null&&google.maps.event.removeListener(ae),Jt!==null&&google.maps.event.removeListener(Jt),k&&k(de),de.setMap(null)}},[]),null}f.memo(UT);class $T extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{circle:null}),P(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Ho(Ho({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:Xg,eventMap:Qg,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:Xg,eventMap:Qg,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ne(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}P($T,"contextType",Q);function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t0={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},n0={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function VT(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:s,onMouseMove:i,onMouseOut:a,onMouseOver:o,onMouseUp:c,onRightClick:u,onAddFeature:d,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:v,onSetProperty:g,onLoad:w,onUnmount:S}=t,x=f.useContext(Q),[m,y]=f.useState(null),[b,k]=f.useState(null),[j,C]=f.useState(null),[E,_]=f.useState(null),[L,M]=f.useState(null),[U,z]=f.useState(null),[$,J]=f.useState(null),[X,G]=f.useState(null),[T,I]=f.useState(null),[R,F]=f.useState(null),[Z,V]=f.useState(null),[se,N]=f.useState(null),[le,ce]=f.useState(null),[ee,Ne]=f.useState(null);return f.useEffect(()=>{m!==null&&m.setMap(x)},[x]),f.useEffect(()=>{m&&r&&(b!==null&&google.maps.event.removeListener(b),k(google.maps.event.addListener(m,"dblclick",r)))},[r]),f.useEffect(()=>{m&&s&&(j!==null&&google.maps.event.removeListener(j),C(google.maps.event.addListener(m,"mousedown",s)))},[s]),f.useEffect(()=>{m&&i&&(E!==null&&google.maps.event.removeListener(E),_(google.maps.event.addListener(m,"mousemove",i)))},[i]),f.useEffect(()=>{m&&a&&(L!==null&&google.maps.event.removeListener(L),M(google.maps.event.addListener(m,"mouseout",a)))},[a]),f.useEffect(()=>{m&&o&&(U!==null&&google.maps.event.removeListener(U),z(google.maps.event.addListener(m,"mouseover",o)))},[o]),f.useEffect(()=>{m&&c&&($!==null&&google.maps.event.removeListener($),J(google.maps.event.addListener(m,"mouseup",c)))},[c]),f.useEffect(()=>{m&&u&&(X!==null&&google.maps.event.removeListener(X),G(google.maps.event.addListener(m,"rightclick",u)))},[u]),f.useEffect(()=>{m&&n&&(T!==null&&google.maps.event.removeListener(T),I(google.maps.event.addListener(m,"click",n)))},[n]),f.useEffect(()=>{m&&d&&(R!==null&&google.maps.event.removeListener(R),F(google.maps.event.addListener(m,"addfeature",d)))},[d]),f.useEffect(()=>{m&&h&&(Z!==null&&google.maps.event.removeListener(Z),V(google.maps.event.addListener(m,"removefeature",h)))},[h]),f.useEffect(()=>{m&&p&&(se!==null&&google.maps.event.removeListener(se),N(google.maps.event.addListener(m,"removeproperty",p)))},[p]),f.useEffect(()=>{m&&v&&(le!==null&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(m,"setgeometry",v)))},[v]),f.useEffect(()=>{m&&g&&(ee!==null&&google.maps.event.removeListener(ee),Ne(google.maps.event.addListener(m,"setproperty",g)))},[g]),f.useEffect(()=>{if(x!==null){var q=new google.maps.Data(Ko(Ko({},e),{},{map:x}));r&&k(google.maps.event.addListener(q,"dblclick",r)),s&&C(google.maps.event.addListener(q,"mousedown",s)),i&&_(google.maps.event.addListener(q,"mousemove",i)),a&&M(google.maps.event.addListener(q,"mouseout",a)),o&&z(google.maps.event.addListener(q,"mouseover",o)),c&&J(google.maps.event.addListener(q,"mouseup",c)),u&&G(google.maps.event.addListener(q,"rightclick",u)),n&&I(google.maps.event.addListener(q,"click",n)),d&&F(google.maps.event.addListener(q,"addfeature",d)),h&&V(google.maps.event.addListener(q,"removefeature",h)),p&&N(google.maps.event.addListener(q,"removeproperty",p)),v&&ce(google.maps.event.addListener(q,"setgeometry",v)),g&&Ne(google.maps.event.addListener(q,"setproperty",g)),y(q),w&&w(q)}return()=>{m&&(b!==null&&google.maps.event.removeListener(b),j!==null&&google.maps.event.removeListener(j),E!==null&&google.maps.event.removeListener(E),L!==null&&google.maps.event.removeListener(L),U!==null&&google.maps.event.removeListener(U),$!==null&&google.maps.event.removeListener($),X!==null&&google.maps.event.removeListener(X),T!==null&&google.maps.event.removeListener(T),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),le!==null&&google.maps.event.removeListener(le),ee!==null&&google.maps.event.removeListener(ee),S&&S(m),m.setMap(null))}},[]),null}f.memo(VT);class FT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{data:null}),P(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Ko(Ko({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:n0,eventMap:t0,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:n0,eventMap:t0,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ne(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}P(FT,"contextType",Q);function r0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i0={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},a0={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class zT extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{kmlLayer:null}),P(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(s0(s0({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:a0,eventMap:i0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:a0,eventMap:i0,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ne(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}P(zT,"contextType",Q);function ib(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function WT(t,e){return new e(t.lat,t.lng)}function HT(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function KT(t,e,n){return t instanceof e?t:n(t,e)}function GT(t,e,n){return t instanceof e?t:n(t,e)}function qT(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),s=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&s?{left:"".concat(s.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-s.x-e.x,"px"),height:"".concat(s.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function ZT(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:s,y:i}=r;return{left:"".concat(s+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function ab(t,e,n,r){return n!==void 0?qT(t,e,GT(n,google.maps.LatLngBounds,HT)):ZT(t,e,KT(r,google.maps.LatLng,WT))}function JT(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function o0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QT(t,e,n,r,s){class i extends google.maps.OverlayView{constructor(o,c,u,d){super(),this.container=o,this.pane=c,this.position=u,this.bounds=d}onAdd(){var o,c=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];c==null||c.appendChild(this.container)}draw(){var o=this.getProjection(),c=YT({},this.container?ib(this.container,s):{x:0,y:0}),u=ab(o,c,this.bounds,this.position);for(var[d,h]of Object.entries(u))this.container.style[d]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,n,r)}function l0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function XT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c0(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function u0(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function e4(t){var{position:e,bounds:n,mapPaneName:r,zIndex:s,onLoad:i,onUnmount:a,getPixelPositionOffset:o,children:c}=t,u=f.useContext(Q),d=f.useMemo(()=>{var p=document.createElement("div");return p.style.position="absolute",p},[]),h=f.useMemo(()=>QT(d,r,e,n,o),[d,r,e,n]);return f.useEffect(()=>(i==null||i(h),h==null||h.setMap(u),()=>{a==null||a(h),h==null||h.setMap(null)}),[u,h]),f.useEffect(()=>{d.style.zIndex="".concat(s)},[s,d]),br.createPortal(c,d)}f.memo(e4);class Cs extends f.PureComponent{constructor(e){super(e),P(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),P(this,"updatePane",()=>{var r=this.props.mapPaneName,s=this.overlayView.getPanes();Ie(!!r,"OverlayView requires props.mapPaneName but got %s",r),s?this.setState({paneEl:s[r]}):this.setState({paneEl:null})}),P(this,"onAdd",()=>{var r,s;this.updatePane(),(r=(s=this.props).onLoad)===null||r===void 0||r.call(s,this.overlayView)}),P(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),s=XT({x:0,y:0},this.containerRef.current?ib(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=ab(r,s,this.props.bounds,this.props.position);if(!JT(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var a,o,c,u;this.setState({containerStyle:{top:(a=i.top)!==null&&a!==void 0?a:0,left:(o=i.left)!==null&&o!==void 0?o:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),P(this,"draw",()=>{this.onPositionElement()}),P(this,"onRemove",()=>{var r,s;this.setState(()=>({paneEl:null})),(r=(s=this.props).onUnmount)===null||r===void 0||r.call(s,this.overlayView)}),this.containerRef=f.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=c0(e.position),r=c0(this.props.position),s=u0(e.bounds),i=u0(this.props.bounds);(n!==r||s!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?br.createPortal(l.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:f.Children.only(this.props.children)}),e):null}}P(Cs,"FLOAT_PANE","floatPane");P(Cs,"MAP_PANE","mapPane");P(Cs,"MARKER_LAYER","markerLayer");P(Cs,"OVERLAY_LAYER","overlayLayer");P(Cs,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");P(Cs,"contextType",Q);function t4(){}function d0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function h0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f0={onDblClick:"dblclick",onClick:"click"},p0={opacity(t,e){t.setOpacity(e)}};function n4(t){var{url:e,bounds:n,options:r,visible:s}=t,i=f.useContext(Q),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=f.useMemo(()=>new google.maps.GroundOverlay(e,a,r),[]);return f.useEffect(()=>{o!==null&&o.setMap(i)},[i]),f.useEffect(()=>{typeof e<"u"&&o!==null&&(o.set("url",e),o.setMap(i))},[o,e]),f.useEffect(()=>{typeof s<"u"&&o!==null&&o.setOpacity(s?1:0)},[o,s]),f.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",c),o.setMap(i))},[o,n]),null}f.memo(n4);class ob extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{groundOverlay:null}),P(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ie(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,h0(h0({},this.props.options),{},{map:this.context}));this.registeredEvents=te({updaterMap:p0,eventMap:f0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:p0,eventMap:f0,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}P(ob,"defaultProps",{onLoad:t4});P(ob,"contextType",Q);function m0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m0(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var g0={},v0={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function r4(t){var{data:e,onLoad:n,onUnmount:r,options:s}=t,i=f.useContext(Q),[a,o]=f.useState(null);return f.useEffect(()=>{google.maps.visualization||Ie(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),f.useEffect(()=>{Ie(!!e,"data property is required in HeatmapLayer %s",e)},[e]),f.useEffect(()=>{a!==null&&a.setMap(i)},[i]),f.useEffect(()=>{s&&a!==null&&a.setOptions(s)},[a,s]),f.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Go(Go({},s),{},{data:e,map:i}));return o(c),n&&n(c),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}f.memo(r4);class s4 extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{heatmapLayer:null}),P(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ie(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ie(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Go(Go({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=te({updaterMap:v0,eventMap:g0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:v0,eventMap:g0,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ne(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}P(s4,"contextType",Q);var y0={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},x0={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class i4 extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{streetViewPanorama:null}),P(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=te({updaterMap:x0,eventMap:y0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:x0,eventMap:y0,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ne(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}P(i4,"contextType",Q);class a4 extends f.PureComponent{constructor(){super(...arguments),P(this,"state",{streetViewService:null}),P(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}P(a4,"contextType",Q);var w0={onDirectionsChanged:"directions_changed"},b0={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class o4 extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"state",{directionsRenderer:null}),P(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=te({updaterMap:b0,eventMap:w0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:b0,eventMap:w0,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ne(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}P(o4,"contextType",Q);var k0={onPlacesChanged:"places_changed"},S0={bounds(t,e){t.setBounds(e)}};class l4 extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",f.createRef()),P(this,"state",{searchBox:null}),P(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ie(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=te({updaterMap:S0,eventMap:k0,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ne(this.registeredEvents),this.registeredEvents=te({updaterMap:S0,eventMap:k0,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ne(this.registeredEvents))}render(){return l.jsx("div",{ref:this.containerElement,children:f.Children.only(this.props.children)})}}P(l4,"contextType",Q);var j0={onPlaceChanged:"place_changed"},C0={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class lb extends f.PureComponent{constructor(){super(...arguments),P(this,"registeredEvents",[]),P(this,"containerElement",f.createRef()),P(this,"state",{autocomplete:null}),P(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ie(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=te({updaterMap:C0,eventMap:j0,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){ne(this.registeredEvents),this.registeredEvents=te({updaterMap:C0,eventMap:j0,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ne(this.registeredEvents)}render(){return l.jsx("div",{ref:this.containerElement,className:this.props.className,children:f.Children.only(this.props.children)})}}P(lb,"defaultProps",{className:""});P(lb,"contextType",Q);const c4={width:"100%",height:"100%"},u4=["places","geometry"];function d4({center:t,markers:e=[],userLocation:n,onMarkerClick:r}){const[s,i]=f.useState(null),a=(o,c)=>{const u=t.lat,d=t.lng,h=(c-d)*1e5+50,p=(u-o)*1e5+50;return{left:Math.max(5,Math.min(95,h))+"%",top:Math.max(5,Math.min(95,p))+"%"}};return l.jsxs("div",{className:"relative h-full overflow-hidden rounded-3xl border border-white/5 bg-gradient-to-br from-slate-800 to-slate-900",children:[l.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(59,130,246,0.1),transparent_50%),radial-gradient(circle_at_70%_80%,rgba(16,185,129,0.1),transparent_50%)]"}),l.jsx("div",{className:"absolute inset-0 opacity-20",children:l.jsx("div",{className:"h-full w-full",style:{backgroundImage:`
            linear-gradient(rgba(148, 163, 184, 0.1) 1px, transparent 1px),
            linear-gradient(90deg, rgba(148, 163, 184, 0.1) 1px, transparent 1px)
          `,backgroundSize:"20px 20px"}})}),l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-1/3 left-0 right-0 h-1 bg-slate-600/50"}),l.jsx("div",{className:"absolute top-2/3 left-0 right-0 h-1 bg-slate-600/50"}),l.jsx("div",{className:"absolute left-1/4 top-0 bottom-0 w-1 bg-slate-600/50"}),l.jsx("div",{className:"absolute left-3/4 top-0 bottom-0 w-1 bg-slate-600/50"})]}),n&&l.jsxs(A.div,{initial:{scale:0},animate:{scale:1},className:"absolute z-20 -translate-x-1/2 -translate-y-1/2",style:a(n.lat,n.lng),children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-4 w-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"}),l.jsx("div",{className:"absolute inset-0 h-4 w-4 rounded-full bg-blue-400 animate-ping opacity-75"})]}),l.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 text-xs text-blue-300 font-medium whitespace-nowrap",children:"Your Location"})]}),e.map((o,c)=>{const u=a(o.lat,o.lng),d=o.availableSlots||o.available_slots||0,h=d>20?"emerald":d>10?"amber":"red",p={emerald:"bg-emerald-500 border-emerald-300",amber:"bg-amber-500 border-amber-300",red:"bg-red-500 border-red-300"};return l.jsxs(A.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:c*.1},className:"absolute z-10 -translate-x-1/2 -translate-y-1/2 cursor-pointer",style:u,onClick:()=>{i(s===o.id?null:o.id),r==null||r(o)},children:[l.jsx(A.div,{whileHover:{scale:1.2},whileTap:{scale:.9},className:`h-6 w-6 rounded-full border-2 shadow-lg ${p[h]} relative`,children:l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})}),s===o.id&&l.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute -top-20 left-1/2 -translate-x-1/2 bg-slate-800 border border-slate-600 rounded-lg p-2 shadow-xl min-w-32",children:[l.jsx("div",{className:"text-xs text-white font-medium",children:o.name}),l.jsxs("div",{className:"text-xs text-slate-300",children:[d," slots"]}),l.jsxs("div",{className:"text-xs text-emerald-400",children:["",o.pricePerHour||o.price_per_hour,"/hr"]}),l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-slate-800 border-r border-b border-slate-600 rotate-45"})]})]},o.id)}),l.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[l.jsx("button",{className:"bg-slate-800/80 border border-slate-600 rounded-lg p-2 text-white hover:bg-slate-700/80 transition-colors",children:l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),l.jsx("button",{className:"bg-slate-800/80 border border-slate-600 rounded-lg p-2 text-white hover:bg-slate-700/80 transition-colors",children:l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})})]}),l.jsxs("div",{className:"absolute bottom-4 left-4 bg-slate-800/90 border border-slate-600 rounded-lg p-3",children:[l.jsx("div",{className:"text-xs text-slate-300 font-medium mb-2",children:"Availability"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500"}),l.jsx("span",{className:"text-xs text-slate-400",children:"High (20+)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-500"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Medium (10-20)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),l.jsx("span",{className:"text-xs text-slate-400",children:"Low (<10)"})]})]})]}),l.jsx("div",{className:"absolute top-4 left-4 bg-amber-900/80 border border-amber-600 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})}),l.jsx("span",{className:"text-xs text-amber-200",children:"Fallback Map View"})]})})]})}function h4({center:t,markers:e=[],userLocation:n,onMarkerClick:r,enableLocationSelection:s=!1}){const[i,a]=f.useState(null),[o,c]=f.useState(null),{setLocationFromMap:u,isLoadingLocation:d}=Ah(),{showError:h,showSuccess:p}=jl(),v="AIzaSyDpeM5WRBtWU7p-fX4sUxx2MhJQXRWJ6E8",g=v.length>10,{isLoaded:w,loadError:S}=BN({id:"google-map-script",googleMapsApiKey:g?v:"",libraries:u4}),x=f.useCallback(async y=>{if(!s)return;const b=y.latLng.lat(),k=y.latLng.lng();try{if(await u(b,k)){p("Location selected successfully"),o&&o.setMap(null);const C=new window.google.maps.Marker({position:{lat:b,lng:k},map:i,title:"Selected Location",icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:10,fillColor:"#ef4444",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2}});c(C)}}catch{h("Failed to select location")}},[s,u,o,i,h,p]);if(f.useEffect(()=>{i&&t&&i.panTo(t)},[i,t]),f.useEffect(()=>{S&&console.warn("Google Maps failed to load:",S)},[S]),!g||S)return l.jsx(d4,{center:t,markers:e,userLocation:n,onMarkerClick:r});if(!w)return l.jsxs("div",{className:"flex h-full items-center justify-center rounded-3xl border border-white/5 bg-slate-900/80",children:[l.jsx(A.div,{className:"h-8 w-8 rounded-full border-2 border-accent-500 border-t-transparent",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}}),l.jsx("span",{className:"ml-3 text-slate-400",children:"Loading Google Maps..."})]});const m={styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#1f2937"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#9ca3af"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#1f2937"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#374151"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0f172a"}]}],disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0,clickableIcons:!0};return l.jsxs("div",{className:"h-full overflow-hidden rounded-3xl border border-white/5 bg-slate-900/80 relative",children:[d&&l.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 bg-blue-500/90 text-white px-4 py-2 rounded-full text-sm font-medium",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Getting location..."]})}),l.jsxs(EN,{mapContainerStyle:c4,center:t,zoom:n?15:14,options:m,onLoad:a,onClick:x,children:[n&&l.jsx(Zu,{position:{lat:n.lat,lng:n.lng},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:8,fillColor:"#3b82f6",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:2},title:"Your Location"}),e.map(y=>l.jsx(Zu,{position:{lat:parseFloat(y.lat),lng:parseFloat(y.lng)},onClick:()=>r==null?void 0:r(y),icon:{path:window.google.maps.SymbolPath.BACKWARD_CLOSED_ARROW,scale:6,fillColor:(y.availableSlots||y.available_slots)>20?"#10b981":(y.availableSlots||y.available_slots)>10?"#f59e0b":"#ef4444",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:1},title:`${y.name} - ${y.availableSlots||y.available_slots} slots available`},y.id))]}),s&&l.jsx("div",{className:"absolute bottom-4 right-4 bg-slate-800/90 border border-slate-600 rounded-lg p-3",children:l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-300",children:[l.jsxs("svg",{className:"h-4 w-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Click to select location"]})})]})}const f4=()=>{const[t,e]=f.useState([]),[n,r]=f.useState(!0),[s,i]=f.useState(null),a=async()=>{r(!0),i(null);try{const d=await qs.getAll();e(d||[])}catch(d){i(d.message),console.error("Error fetching parking:",d)}finally{r(!1)}};return f.useEffect(()=>{a()},[]),{parking:t,isLoading:n,error:s,fetchParking:a,getNearbyParking:async(d,h,p=5)=>{r(!0),i(null);try{const v=await qs.getNearby(d,h,p);return e(v||[]),v}catch(v){return i(v.message),console.error("Error fetching nearby parking:",v),[]}finally{r(!1)}},searchParking:async d=>{r(!0),i(null);try{const h=await qs.search(d);return e(h||[]),h}catch(h){return i(h.message),console.error("Error searching parking:",h),[]}finally{r(!1)}},getParkingById:async d=>{try{return await qs.getById(d)}catch(h){return console.error("Error fetching parking by ID:",h),null}},refetch:a}},E0=[{id:"1",name:"Sitabuldi Metro Parking",address:"Zero Mile  Sitabuldi Metro Station, Nagpur",lat:21.1458,lng:79.0882,price_per_hour:30,total_slots:50,available_slots:24,rating:4.6,is_open:!0},{id:"2",name:"MIHAN Business Park Parking",address:"MIHAN IT Park, Wardha Road, Nagpur",lat:21.0624,lng:79.0606,price_per_hour:25,total_slots:100,available_slots:38,rating:4.4,is_open:!0},{id:"3",name:"Airport Multi-level Parking",address:"Dr. Babasaheb Ambedkar International Airport, Nagpur",lat:21.092,lng:79.0556,price_per_hour:40,total_slots:200,available_slots:52,rating:4.7,is_open:!0}],p4=[{id:"nearest",label:"Nearest first"},{id:"cheapest",label:"Cheapest first"},{id:"slots",label:"Most available slots"},{id:"rating",label:"Highest rated"}];function m4(){const t=Vt(),[e,n]=f.useState("nearest"),[r,s]=f.useState(!1),{parking:i,isLoading:a,error:o,getNearbyParking:c,searchParking:u,fetchParking:d}=f4(),{selectedLocation:h,userLocation:p,calculateDistance:v,searchQuery:g,setSearchQuery:w}=Ah(),[S,x]=f.useState(()=>{var E;return(E=t.state)!=null&&E.coords?{lat:t.state.coords.lat,lng:t.state.coords.lng}:h||{lat:21.1458,lng:79.0882}}),[m]=f.useState(()=>{var E;return((E=t.state)==null?void 0:E.query)||g||""}),[y]=f.useState(()=>{var E;return((E=t.state)==null?void 0:E.coords)||null}),b=p||y;f.useEffect(()=>{h&&x(h)},[h]),f.useEffect(()=>{m&&m!==g&&w(m)},[m,g,w]),f.useEffect(()=>{(async()=>{try{b?await c(b.lat,b.lng,10):m?await u(m):await d()}catch(_){console.error("Failed to load parking data:",_),s(!0)}})()},[b,m]);const k=f.useMemo(()=>o&&o.includes("table")&&o.includes("schema cache")?(s(!0),E0):i&&i.length>0?i:r?E0:[],[i,o,r]),j=(E,_,L,M)=>v(E,_,L,M),C=f.useMemo(()=>{var _;if(!k||k.length===0)return[];let E=[...k];switch(b&&!((_=E[0])!=null&&_.distance_km)&&(E=E.map(L=>({...L,distance:j(b.lat,b.lng,parseFloat(L.lat),parseFloat(L.lng))}))),e){case"cheapest":E.sort((L,M)=>parseFloat(L.price_per_hour)-parseFloat(M.price_per_hour));break;case"slots":E.sort((L,M)=>M.available_slots-L.available_slots);break;case"rating":E.sort((L,M)=>parseFloat(M.rating||0)-parseFloat(L.rating||0));break;case"nearest":default:b&&E.sort((L,M)=>(L.distance_km||L.distance||0)-(M.distance_km||M.distance||0));break}return E},[k,e,b]);return o&&o.includes("table")&&o.includes("schema cache")?l.jsx("section",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-amber-100 dark:bg-amber-900/20 p-3",children:l.jsx("svg",{className:"h-full w-full text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Database Setup Required"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 max-w-md mx-auto",children:"The parking table hasn't been created in your Supabase database yet. Please run the database setup to continue."}),l.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-4 mb-4 text-left max-w-2xl mx-auto",children:[l.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"Quick Setup:"}),l.jsxs("ol",{className:"text-sm text-slate-600 dark:text-slate-400 space-y-1",children:[l.jsx("li",{children:"1. Go to your Supabase dashboard"}),l.jsx("li",{children:"2. Open the SQL Editor"}),l.jsxs("li",{children:["3. Copy and run the SQL from ",l.jsx("code",{children:"DATABASE_SETUP_QUICK.sql"})]}),l.jsx("li",{children:"4. Refresh this page"})]})]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsxs("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary-500/40 transition-all hover:scale-105",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retry"]}),l.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 rounded-2xl glass-button px-6 py-3 text-sm font-medium text-slate-700 dark:text-slate-100 transition-all hover:bg-white/80 dark:hover:bg-slate-800/80 hover:scale-105",children:[l.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Demo Data"]})]})]})}):l.jsxs("section",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-4 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-end",children:[l.jsxs("div",{children:[l.jsx(A.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-slate-50 sm:text-3xl",children:b?"Nearby parking spaces":m?`Parking near "${m}"`:"Parking spaces in Nagpur"}),l.jsx(A.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-2 text-sm text-slate-400 sm:text-base",children:b?"Showing smart recommendations using your current location, live distance, pricing, and availability.":m?"Showing parking options for your search query with live pricing and availability.":"Showing smart recommendations using live distance, pricing, and availability in Nagpur."})]}),l.jsxs(A.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.15},className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Sort by"}),l.jsx("div",{className:"flex gap-1 rounded-full glass-card p-1 text-xs",children:p4.map(E=>l.jsx("button",{type:"button",onClick:()=>n(E.id),className:`rounded-full px-4 py-1.5 font-medium transition-all ${e===E.id?"bg-gradient-to-r from-primary-500 to-accent-500 text-white shadow-lg shadow-primary-500/40":"text-slate-400 hover:bg-slate-800/80 hover:text-slate-100"}`,children:E.label},E.id))})]})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr,1fr] lg:gap-6",children:[l.jsx("div",{className:"space-y-3",children:a&&!r?Array.from({length:3}).map((E,_)=>l.jsx(pN,{},_)):C.length>0?C.map((E,_)=>l.jsx(fN,{parking:{...E,distance:E.distance_km||E.distance||0,pricePerHour:E.price_per_hour,availableSlots:E.available_slots,totalSlots:E.total_slots},highlighted:_===0},E.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-800 p-3",children:l.jsxs("svg",{className:"h-full w-full text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50 mb-2",children:"No parking spaces found"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:m?`No parking spaces found for "${m}". Try a different search term.`:"No parking spaces available in this area."})]})}),l.jsx("div",{className:"h-72 md:h-full",children:l.jsx(h4,{center:S,markers:C.map(E=>({...E,availableSlots:E.available_slots,pricePerHour:E.price_per_hour})),userLocation:b,enableLocationSelection:!0,onMarkerClick:E=>{const _=document.getElementById(`parking-${E.id}`);_&&_.scrollIntoView({behavior:"smooth",block:"center"})}})})]}),l.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.2},className:"mt-4 flex flex-wrap items-center justify-between gap-3 rounded-2xl glass-badge bg-gradient-to-r from-emerald-100/50 to-primary-100/50 dark:from-emerald-500/10 dark:to-accent-500/10 px-4 py-3 text-xs text-emerald-700 dark:text-emerald-200 border-emerald-200/50 dark:border-emerald-500/20",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-emerald-500"})]}),l.jsx("span",{children:b?"Real-time slot updates and traffic-aware ETAs from your location":"Real-time slot updates and traffic-aware ETAs"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[b&&l.jsx("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-[10px] font-medium ring-1 ring-blue-500/30 text-blue-300",children:" Location detected"}),l.jsx("span",{className:"rounded-full bg-emerald-500/20 px-3 py-1 text-[10px] font-medium ring-1 ring-emerald-500/30",children:r?"Demo Data":"Powered by Supabase"})]})]})]})}const _0={1:{name:"Sitabuldi Metro Parking",address:"Zero Mile  Sitabuldi Metro Station, Nagpur",description:"Multi-level covered parking at the heart of Nagpur with CCTV, metro connectivity, and EV charging bays.",photos:["/img/parking-1a.jpg","/img/parking-1b.jpg"],pricePerHour:30,dayCap:200,availableSlots:24,totalSlots:80,lat:21.1458,lng:79.0882,instructions:["Enter from the Sitabuldi Metro side gate towards Zero Mile.","Collect a ticket at the barrier; EasyPark will sync your booking automatically.","Park in any slot with green LEDs or EasyPark reserved marking."]}};function g4(){const{id:t}=hl(),e=_0[t]||_0[1],n=Zt(),r=Math.round(e.availableSlots/e.totalSlots*100),s=()=>{if(!e.lat||!e.lng)return;const a=`https://www.google.com/maps/dir/?api=1&destination=${e.lat},${e.lng}&travelmode=driving`;window.open(a,"_blank","noopener,noreferrer")},i=()=>{n(`/parking/${t}/select-slot`)};return l.jsx("section",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-[1.4fr,1fr] md:items-start",children:[l.jsxs("div",{children:[l.jsx(A.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-2xl font-semibold text-slate-50 sm:text-3xl",children:e.name}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:e.address}),l.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-2xl bg-slate-900/80 p-3 text-xs",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Price breakdown"}),l.jsxs("p",{className:"mt-1 text-base font-semibold text-slate-50",children:["",e.pricePerHour,l.jsx("span",{className:"text-xs text-slate-400",children:" / hour"})]}),l.jsxs("p",{className:"mt-1 text-[11px] text-slate-400",children:["Day cap: ",e.dayCap]})]}),l.jsxs("div",{className:"rounded-2xl bg-slate-900/80 p-3 text-xs",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Availability"}),l.jsx("div",{className:"mt-2 h-2 rounded-full bg-slate-800",children:l.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-emerald-400 to-accent-400",style:{width:`${r}%`}})}),l.jsxs("p",{className:"mt-1 text-[11px] text-emerald-300",children:[e.availableSlots," of ",e.totalSlots," slots free"]})]}),l.jsxs("div",{className:"rounded-2xl bg-slate-900/80 p-3 text-xs",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Access"}),l.jsx("p",{className:"mt-1 text-[11px] text-slate-300",children:"24x7 guarded entry, EV charging, disabled-friendly ramps"})]})]}),l.jsxs("div",{className:"mt-6 space-y-3 text-sm text-slate-300",children:[l.jsx("p",{children:e.description}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:"Entry / exit instructions"}),l.jsx("ul",{className:"mt-2 space-y-1 text-xs text-slate-300",children:e.instructions.map(a=>l.jsxs("li",{children:[" ",a]},a))})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"h-40 rounded-3xl border border-white/10 bg-[radial-gradient(circle_at_10%_20%,#22d3ee33,transparent_60%),radial-gradient(circle_at_90%_80%,#4f46e533,transparent_55%)] shadow-xl shadow-primary-500/40"}),l.jsx("button",{type:"button",onClick:i,className:"flex w-full items-center justify-center gap-2 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-3 text-sm font-semibold text-white shadow-xl shadow-primary-500/40 transition hover:translate-y-0.5",children:"Book Now"}),l.jsx("button",{type:"button",onClick:s,className:"flex w-full items-center justify-center gap-2 rounded-2xl border border-white/10 bg-slate-900/80 px-4 py-3 text-xs font-medium text-slate-100 hover:border-accent-500",children:"Navigate using Google Maps"})]})]})})}const v4=[{id:"b1",parkingName:"Skyline Mall Parking",date:"Today, 5:30 PM",duration:"2 hrs",amount:120,status:"Active"},{id:"b2",parkingName:"Central Business Bay",date:"Yesterday, 11:00 AM",duration:"3 hrs",amount:180,status:"Completed"}];function y4(){return l.jsxs("section",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Your Dashboard"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"View active bookings, history, and saved parking spots."})]}),l.jsx(qe,{to:"/booking-history",className:"rounded-2xl border border-accent-400/30 bg-accent-500/10 px-4 py-2 text-xs font-medium text-accent-300 hover:bg-accent-500/20 transition-colors",children:"View History"})]}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.3fr,1fr]",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-sm font-medium text-slate-200",children:"Active bookings"}),l.jsx("div",{className:"rounded-3xl border border-white/10 bg-slate-900/80 p-3 text-xs shadow-xl shadow-black/40",children:v4.map(t=>l.jsxs(A.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"flex items-center justify-between border-b border-white/5 py-2 last:border-0",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-50",children:t.parkingName}),l.jsxs("p",{className:"text-[11px] text-slate-400",children:[t.date,"  ",t.duration]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-semibold text-slate-50",children:["",t.amount]}),l.jsx("p",{className:`text-[10px] ${t.status==="Active"?"text-emerald-400":"text-slate-400"}`,children:t.status})]})]},t.id))})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h2",{className:"text-sm font-medium text-slate-200",children:"Saved parking"}),l.jsx("div",{className:"rounded-3xl border border-dashed border-white/10 bg-slate-900/60 p-4 text-xs text-slate-400",children:"Sign in to sync your favourites and view them across devices."})]})]})]})}function x4(){return l.jsxs("section",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Admin Panel"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Manage parking locations, pricing, and live availability."})]}),l.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4 rounded-3xl border border-white/10 bg-slate-900/80 p-4 text-xs shadow-xl shadow-black/40",children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Parking name"}),l.jsx("input",{className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none",placeholder:"e.g. Skyline Mall Parking"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Price per hour ()"}),l.jsx("input",{type:"number",className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none",placeholder:"40"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Total slots"}),l.jsx("input",{type:"number",className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none",placeholder:"80"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Available slots"}),l.jsx("input",{type:"number",className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none",placeholder:"24"})]})]}),l.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-primary-500/40",children:"Save parking location"}),l.jsx("p",{className:"text-[11px] text-slate-400",children:"This is a demo UI. In the full version, this will persist to MongoDB and update all users in real time."})]})]})}function w4(){var o,c,u;const{id:t}=hl(),e=Zt(),n=Vt(),[r,s]=f.useState({date:"",time:"",hours:2,vehicle:"",type:"Car",level:((o=n.state)==null?void 0:o.preselectedLevel)||"B1",slot:((u=(c=n.state)==null?void 0:c.preselectedSlot)==null?void 0:u.toString())||"12",paymentMethod:"upi"}),i=(d,h)=>{s(p=>({...p,[d]:h}))},a=d=>{d.preventDefault(),e(`/parking/${t}/payment`,{state:{booking:{...r,parkingName:"Sitabuldi Metro Parking"}}})};return l.jsxs("section",{className:"mx-auto max-w-xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-4",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Book your parking slot"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Select your time and vehicle details. A QR e-ticket will be generated after payment."})]}),l.jsxs(A.form,{onSubmit:a,initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"space-y-3 rounded-3xl border border-white/10 bg-slate-900/80 p-4 text-xs shadow-xl shadow-black/40",children:[l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Date"}),l.jsx("input",{type:"date",required:!0,value:r.date,onChange:d=>i("date",d.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Arrival time"}),l.jsx("input",{type:"time",required:!0,value:r.time,onChange:d=>i("time",d.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Duration (hours)"}),l.jsx("input",{type:"number",min:1,max:12,required:!0,value:r.hours,onChange:d=>i("hours",Number(d.target.value||1)),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Vehicle number"}),l.jsx("input",{type:"text",required:!0,placeholder:"MH 31 AB 1234",value:r.vehicle,onChange:d=>i("vehicle",d.target.value.toUpperCase()),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Vehicle type"}),l.jsxs("select",{value:r.type,onChange:d=>i("type",d.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none",children:[l.jsx("option",{children:"Car"}),l.jsx("option",{children:"Bike"}),l.jsx("option",{children:"SUV"})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"mb-1 text-[11px] text-slate-400",children:"Payment method"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"upi",label:"UPI",badge:"",desc:"GPay / PhonePe"},{id:"card",label:"Card",badge:"",desc:"Debit / Credit"},{id:"qr",label:"QR code",badge:"",desc:"Scan & pay"}].map(d=>l.jsxs("button",{type:"button",onClick:()=>i("paymentMethod",d.id),className:`flex flex-col rounded-2xl border px-2 py-1.5 text-[10px] ${r.paymentMethod===d.id?"border-accent-400 bg-accent-500/10 text-accent-100":"border-white/10 bg-slate-950/60 text-slate-300"}`,children:[l.jsxs("span",{className:"flex items-center gap-1 text-[11px] font-semibold",children:[l.jsx("span",{children:d.badge}),d.label]}),l.jsx("span",{className:"text-[9px] text-slate-400",children:d.desc})]},d.id))})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Preferred level"}),l.jsxs("select",{value:r.level,onChange:d=>i("level",d.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none",children:[l.jsx("option",{value:"B1",children:"B1 (near exit)"}),l.jsx("option",{value:"B2",children:"B2 (shaded)"}),l.jsx("option",{value:"B3",children:"B3 (economy)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-[11px] text-slate-400",children:"Preferred slot number"}),l.jsx("input",{type:"number",min:1,max:120,required:!0,value:r.slot,onChange:d=>i("slot",d.target.value),className:"mt-1 w-full rounded-2xl border border-white/10 bg-slate-950/80 px-3 py-2 text-xs text-slate-50 focus:border-accent-500 focus:outline-none"})]})]}),l.jsxs("div",{className:"flex items-center justify-between pt-1 text-[10px] text-slate-400",children:[l.jsx("span",{children:"Payment is simulated in this demo. No real money will be charged."}),l.jsxs("span",{children:["Parking ID: ",t]})]}),l.jsx("button",{type:"submit",className:"mt-2 flex w-full items-center justify-center rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-2 text-xs font-semibold text-white shadow-lg shadow-primary-500/40",children:"Continue to Payment"})]})]})}const b4=60,k4=[3,4,10,18,21,25,34,35,41,55];function S4(){const{id:t}=hl(),e=Zt(),[n,r]=f.useState("B1"),[s,i]=f.useState(null),a=f.useMemo(()=>Array.from({length:b4}).map((c,u)=>{const d=u+1,h=k4.includes(d),p=d%11===0;return{number:d,occupied:h,reserved:p}}),[]),o=()=>{s&&e(`/parking/${t}/book`,{state:{preselectedLevel:n,preselectedSlot:s}})};return l.jsxs("section",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-4 flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Choose your parking slot"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Tap on an available slot, just like selecting seats while booking movie tickets."})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-slate-400",children:[l.jsx("span",{className:"h-3 w-3 rounded-sm bg-slate-700"})," Available",l.jsx("span",{className:"h-3 w-3 rounded-sm bg-emerald-400"})," Selected",l.jsx("span",{className:"h-3 w-3 rounded-sm bg-slate-500"})," Occupied",l.jsx("span",{className:"h-3 w-3 rounded-sm bg-primary-500"})," Reserved"]})]}),l.jsxs("div",{className:"space-y-4 rounded-3xl border border-white/10 bg-slate-900/80 p-4 text-xs shadow-xl shadow-black/40",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-[11px] text-slate-400",children:"Level"}),l.jsx("div",{className:"inline-flex gap-1 rounded-full bg-slate-950/80 p-1",children:["B1","B2","B3"].map(c=>l.jsx("button",{type:"button",onClick:()=>r(c),className:`rounded-full px-3 py-1 text-[11px] ${n===c?"bg-gradient-to-r from-primary-500 to-accent-500 text-white":"text-slate-300"}`,children:c},c))})]}),l.jsxs("p",{className:"text-[11px] text-slate-400",children:["Parking ID: ",l.jsx("span",{className:"font-mono text-slate-200",children:t})]})]}),l.jsxs("div",{className:"mt-2 overflow-x-auto rounded-2xl bg-slate-950/70 p-3",children:[l.jsx("p",{className:"mb-2 text-[11px] text-center text-slate-400",children:"Entry Gate"}),l.jsx("div",{className:"mx-auto grid max-w-2xl grid-cols-10 gap-1",children:a.map(c=>{const u=s===c.number,d="flex h-7 items-center justify-center rounded-[6px] text-[10px]";let h="bg-slate-700 text-slate-200";return c.occupied?h="bg-slate-500 text-slate-200 cursor-not-allowed":c.reserved&&(h="bg-primary-500/80 text-white"),u&&(h="bg-emerald-400 text-slate-950"),l.jsx("button",{type:"button",disabled:c.occupied,onClick:()=>i(c.number),className:`${d} ${h}`,children:c.number},c.number)})}),l.jsx("p",{className:"mt-2 text-[11px] text-center text-slate-400",children:"Exit Gate"})]}),l.jsxs("div",{className:"flex flex-col items-start justify-between gap-2 pt-1 sm:flex-row sm:items-center",children:[l.jsxs("p",{className:"text-[11px] text-slate-400",children:["Selected slot:"," ",s?l.jsxs("span",{className:"font-medium text-emerald-300",children:["Level ",n,"  Slot ",s]}):l.jsx("span",{className:"text-slate-500",children:"None"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>e(-1),className:"rounded-2xl border border-white/15 bg-slate-950/80 px-3 py-1.5 text-[11px] font-medium text-slate-100",children:"Back"}),l.jsx("button",{type:"button",disabled:!s,onClick:o,className:"rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-1.5 text-[11px] font-semibold text-white shadow-lg shadow-primary-500/40 disabled:opacity-50",children:"Continue to details"})]})]})]})]})}function j4(){var p;const{id:t}=hl(),e=Zt(),r=((p=Vt().state)==null?void 0:p.booking)||{},[s,i]=f.useState("payment"),[a,o]=f.useState(r.paymentMethod||"upi"),[c,u]=f.useState("");f.useEffect(()=>{(!r.date||!r.time)&&e(`/parking/${t}/book`)},[r,t,e]);const d=()=>50*(r.hours||2),h=()=>{const g=`EP-${Date.now().toString().slice(-6)}`;u(g),i("processing"),setTimeout(()=>{try{const w=["","         EasyPark e-Ticket","","",`Booking ID: ${g}`,`Parking Location: ${r.parkingName||"Sitabuldi Metro Parking"}`,`Parking ID: ${t}`,"","Booking Details:",`  Date: ${r.date||"Today"}`,`  Time: ${r.time||"-"}`,`  Duration: ${r.hours||2} hours`,"","Vehicle Details:",`  Type: ${r.type||"Car"}`,`  Number: ${r.vehicle||"-"}`,"","Parking Slot:",`  Level: ${r.level||"B1"}`,`  Slot Number: ${r.slot||"12"}`,"","Payment:",`  Method: ${a.toUpperCase()}`,`  Amount: ${d()}`,"  Status: Paid","","","Show this ticket at entry and exit gates",""].join(`
`),S=new Blob([w],{type:"text/plain"}),x=URL.createObjectURL(S),m=document.createElement("a");m.href=x,m.download=`easypark-ticket-${g}.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(x)}catch(w){console.error("Download failed:",w)}i("success")},2e3)};return s==="success"?l.jsx("section",{className:"mx-auto max-w-2xl px-4 py-8 sm:px-6 lg:px-8",children:l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 rounded-3xl glass-modal border-emerald-500/40 dark:border-emerald-500/40 p-6 text-sm text-slate-900 dark:text-slate-100 shadow-2xl shadow-emerald-500/30",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-emerald-300",children:"Payment Successful"}),l.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-50",children:"Booking Confirmed!"})]}),l.jsxs("div",{className:"rounded-2xl bg-emerald-500/20 px-4 py-2 text-right",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Booking ID"}),l.jsx("p",{className:"text-sm font-mono font-semibold text-emerald-300",children:c})]})]}),l.jsxs("div",{className:"rounded-2xl bg-slate-950/80 p-4",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold text-slate-300",children:"Your e-Ticket"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Date & Time"}),l.jsxs("span",{className:"font-medium",children:[r.date||"Today"," at ",r.time||""]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Duration"}),l.jsxs("span",{children:[r.hours||2," hours"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Vehicle"}),l.jsxs("span",{children:[r.type||"Car","  ",r.vehicle||""]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Slot"}),l.jsxs("span",{className:"font-semibold text-emerald-300",children:["Level ",r.level||"B1","  Slot ",r.slot||"12"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Amount Paid"}),l.jsxs("span",{className:"font-semibold",children:["",d()]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-dashed border-emerald-400/60 bg-slate-950/80 p-4",children:[l.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-400/80 to-accent-400/80",children:l.jsx("div",{className:"grid grid-cols-3 gap-1",children:Array.from({length:9}).map((v,g)=>l.jsx("div",{className:"h-4 w-4 rounded bg-slate-900"},g))})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs font-semibold text-slate-200",children:"QR Code"}),l.jsx("p",{className:"mt-1 text-[10px] text-slate-400",children:"Scan at entry and exit gates for automatic barrier opening"})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>e(`/parking/${t}`),className:"flex-1 rounded-2xl border border-white/15 bg-slate-950/80 px-4 py-3 text-xs font-medium text-slate-100 hover:bg-slate-900",children:"Back to Parking"}),l.jsx("button",{onClick:()=>e("/dashboard"),className:"flex-1 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-3 text-xs font-semibold text-white shadow-lg shadow-primary-500/40",children:"View Dashboard"})]}),l.jsx("p",{className:"text-center text-[10px] text-slate-500",children:"Your e-ticket has been downloaded automatically. Check your downloads folder."})]})}):l.jsx("section",{className:"mx-auto max-w-2xl px-4 py-8 sm:px-6 lg:px-8",children:l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("header",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Complete Payment"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Review your booking and choose a payment method"})]}),l.jsxs("div",{className:"rounded-3xl glass-card p-5 text-xs",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Booking Summary"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Parking Location"}),l.jsx("span",{className:"font-medium",children:r.parkingName||"Sitabuldi Metro Parking"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Date & Time"}),l.jsxs("span",{className:"font-medium",children:[r.date||"Today","  ",r.time||"--:--"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Duration"}),l.jsxs("span",{children:[r.hours||2," hours"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Vehicle"}),l.jsxs("span",{children:[r.type||"Car","  ",r.vehicle||""]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Slot"}),l.jsxs("span",{className:"font-semibold text-accent-300",children:["Level ",r.level||"B1","  Slot ",r.slot||"12"]})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-white/10 pt-3",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-200",children:"Total Amount"}),l.jsxs("span",{className:"text-lg font-bold text-accent-400",children:["",d()]})]})]})]}),l.jsxs("div",{className:"rounded-3xl glass-card p-5 text-xs",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Select Payment Method"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"upi",label:"UPI",icon:"",desc:"GPay / PhonePe",color:"from-blue-500 to-blue-600"},{id:"card",label:"Card",icon:"",desc:"Debit / Credit",color:"from-purple-500 to-purple-600"},{id:"qr",label:"QR Code",icon:"",desc:"Scan & Pay",color:"from-green-500 to-green-600"}].map(v=>l.jsxs("button",{type:"button",onClick:()=>o(v.id),className:`flex flex-col items-center gap-2 rounded-2xl border px-3 py-4 transition-all ${a===v.id?`border-accent-400 bg-gradient-to-br ${v.color} text-white shadow-lg`:"border-white/10 bg-slate-950/60 text-slate-300 hover:border-white/20"}`,children:[l.jsx("span",{className:"text-2xl",children:v.icon}),l.jsx("span",{className:"text-xs font-semibold",children:v.label}),l.jsx("span",{className:"text-[9px] text-slate-400",children:v.desc})]},v.id))})]}),l.jsxs(ml,{mode:"wait",children:[a==="upi"&&l.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"rounded-3xl glass-card p-5 text-xs",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold text-slate-300",children:"UPI Payment"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",placeholder:"Enter UPI ID (e.g., yourname@paytm)",className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-4 py-3 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none"}),l.jsx("p",{className:"text-[10px] text-slate-500",children:"You'll be redirected to your UPI app to complete payment"})]})]},"upi"),a==="card"&&l.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"rounded-3xl glass-card p-5 text-xs",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold text-slate-300",children:"Card Payment"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",placeholder:"Card Number",className:"w-full rounded-2xl border border-white/10 bg-slate-950/80 px-4 py-3 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",placeholder:"MM/YY",className:"rounded-2xl border border-white/10 bg-slate-950/80 px-4 py-3 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none"}),l.jsx("input",{type:"text",placeholder:"CVV",className:"rounded-2xl border border-white/10 bg-slate-950/80 px-4 py-3 text-xs text-slate-50 placeholder:text-slate-500 focus:border-accent-500 focus:outline-none"})]}),l.jsx("p",{className:"text-[10px] text-slate-500",children:"Secure payment gateway. Your card details are encrypted."})]})]},"card"),a==="qr"&&l.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"rounded-3xl glass-card p-5 text-xs",children:[l.jsx("p",{className:"mb-3 text-xs font-semibold text-slate-300",children:"QR Code Payment"}),l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"flex h-48 w-48 items-center justify-center rounded-2xl bg-white p-4",children:l.jsx("div",{className:"grid grid-cols-8 gap-1",children:Array.from({length:64}).map((v,g)=>l.jsx("div",{className:`h-4 w-4 rounded ${Math.random()>.5?"bg-slate-900":"bg-white"}`},g))})}),l.jsxs("p",{className:"text-center text-[10px] text-slate-500",children:["Scan this QR code with your payment app to pay ",d()]})]})]},"qr")]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>e(`/parking/${t}/book`,{state:{booking:r}}),className:"flex-1 rounded-2xl border border-white/15 bg-slate-950/80 px-4 py-3 text-xs font-medium text-slate-100 hover:bg-slate-900",children:"Back"}),l.jsx("button",{onClick:h,disabled:s==="processing",className:"flex-1 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-500 px-4 py-3 text-xs font-semibold text-white shadow-lg shadow-primary-500/40 disabled:opacity-60 disabled:cursor-not-allowed",children:s==="processing"?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/30 border-t-white"}),"Processing Payment..."]}):`Pay ${d()}`})]}),l.jsx("p",{className:"text-center text-[10px] text-slate-500",children:"This is a demo. No real payment will be processed."})]})})}const Yt=[{bookingId:"EP-123456",parkingName:"Sitabuldi Metro Parking",parkingId:"1",date:"2024-01-15",time:"14:30",duration:3,vehicle:{type:"Car",number:"MH 31 AB 1234"},slot:{level:"B1",number:"12"},amount:150,paymentMethod:"UPI",status:"Completed",entryTime:"14:35",exitTime:"17:30"},{bookingId:"EP-123455",parkingName:"MIHAN Parking Complex",parkingId:"2",date:"2024-01-14",time:"10:00",duration:4,vehicle:{type:"SUV",number:"MH 31 CD 5678"},slot:{level:"B2",number:"45"},amount:200,paymentMethod:"Card",status:"Completed",entryTime:"10:05",exitTime:"14:10"},{bookingId:"EP-123454",parkingName:"Nagpur Airport Parking",parkingId:"3",date:"2024-01-13",time:"08:00",duration:6,vehicle:{type:"Car",number:"MH 31 EF 9012"},slot:{level:"B1",number:"8"},amount:300,paymentMethod:"QR",status:"Completed",entryTime:"08:05",exitTime:"14:15"},{bookingId:"EP-123453",parkingName:"Sitabuldi Metro Parking",parkingId:"1",date:"2024-01-12",time:"16:00",duration:2,vehicle:{type:"Bike",number:"MH 31 GH 3456"},slot:{level:"B3",number:"78"},amount:100,paymentMethod:"UPI",status:"Completed",entryTime:"16:05",exitTime:"18:10"},{bookingId:"EP-123452",parkingName:"MIHAN Parking Complex",parkingId:"2",date:"2024-01-11",time:"12:00",duration:5,vehicle:{type:"Car",number:"MH 31 IJ 7890"},slot:{level:"B1",number:"23"},amount:250,paymentMethod:"Card",status:"Completed",entryTime:"12:05",exitTime:"17:15"}];function C4(){const[t,e]=f.useState("all"),n=Zt(),r=Yt.filter(a=>t==="all"?!0:a.status.toLowerCase()===t.toLowerCase()),s=a=>new Date(a).toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),i=a=>{n(`/parking/${a}`)};return l.jsxs("section",{className:"mx-auto max-w-5xl px-4 py-8 sm:px-6 lg:px-8",children:[l.jsxs("header",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-semibold text-slate-50",children:"Booking History"}),l.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"View all your past and current parking bookings"})]}),l.jsx("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:[{id:"all",label:"All Bookings",count:Yt.length},{id:"completed",label:"Completed",count:Yt.filter(a=>a.status==="Completed").length},{id:"active",label:"Active",count:Yt.filter(a=>a.status==="Active").length},{id:"cancelled",label:"Cancelled",count:Yt.filter(a=>a.status==="Cancelled").length}].map(a=>l.jsxs("button",{onClick:()=>e(a.id),className:`whitespace-nowrap rounded-2xl border px-4 py-2 text-xs font-medium transition-all ${t===a.id?"border-accent-400 bg-accent-500/10 text-accent-100":"border-white/10 bg-slate-900/60 text-slate-300 hover:border-white/20"}`,children:[a.label,l.jsx("span",{className:"ml-2 rounded-full bg-slate-800/80 px-2 py-0.5 text-[10px]",children:a.count})]},a.id))}),l.jsx("div",{className:"space-y-3",children:r.length===0?l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl border border-dashed border-white/10 bg-slate-900/60 p-8 text-center text-xs text-slate-400",children:[l.jsx("p",{className:"text-sm",children:"No bookings found"}),l.jsx("p",{className:"mt-1 text-[10px]",children:"Your booking history will appear here"})]}):r.map((a,o)=>l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.05},className:"rounded-3xl border border-white/10 bg-slate-900/80 p-4 text-xs shadow-xl shadow-black/40",children:l.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-50",children:a.parkingName}),l.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-medium ${a.status==="Completed"?"bg-emerald-500/20 text-emerald-300":a.status==="Active"?"bg-blue-500/20 text-blue-300":"bg-red-500/20 text-red-300"}`,children:a.status})]}),l.jsxs("p",{className:"mt-1 text-[10px] text-slate-400",children:["Booking ID: ",l.jsx("span",{className:"font-mono text-slate-300",children:a.bookingId})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-bold text-accent-400",children:["",a.amount]}),l.jsx("p",{className:"text-[10px] text-slate-400",children:a.paymentMethod})]})]}),l.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Date & Time"}),l.jsxs("p",{className:"mt-1 text-xs font-medium text-slate-200",children:[s(a.date)," at ",a.time]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Duration"}),l.jsxs("p",{className:"mt-1 text-xs font-medium text-slate-200",children:[a.duration," hours"]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Vehicle"}),l.jsxs("p",{className:"mt-1 text-xs font-medium text-slate-200",children:[a.vehicle.type,"  ",a.vehicle.number]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Parking Slot"}),l.jsxs("p",{className:"mt-1 text-xs font-medium text-emerald-300",children:["Level ",a.slot.level,"  Slot ",a.slot.number]})]})]}),a.status==="Completed"&&a.entryTime&&a.exitTime&&l.jsx("div",{className:"rounded-2xl border border-white/5 bg-slate-950/60 p-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400",children:"Entry Time"}),l.jsx("p",{className:"mt-0.5 font-medium text-slate-200",children:a.entryTime})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-400",children:"Exit Time"}),l.jsx("p",{className:"mt-0.5 font-medium text-slate-200",children:a.exitTime})]})]})})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:w-32",children:[l.jsx("button",{onClick:()=>i(a.parkingId),className:"rounded-2xl border border-white/15 bg-slate-950/80 px-3 py-2 text-[11px] font-medium text-slate-100 hover:bg-slate-900 transition-colors",children:"View Parking"}),l.jsx("button",{onClick:()=>{alert(`Downloading e-ticket for ${a.bookingId}`)},className:"rounded-2xl border border-accent-400/30 bg-accent-500/10 px-3 py-2 text-[11px] font-medium text-accent-300 hover:bg-accent-500/20 transition-colors",children:"Download Ticket"})]})]})},a.bookingId))}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-6 grid gap-3 rounded-3xl border border-white/10 bg-slate-900/80 p-4 text-xs sm:grid-cols-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Total Bookings"}),l.jsx("p",{className:"mt-1 text-lg font-bold text-slate-50",children:Yt.length})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Total Spent"}),l.jsxs("p",{className:"mt-1 text-lg font-bold text-accent-400",children:["",Yt.reduce((a,o)=>a+o.amount,0)]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[10px] text-slate-400",children:"Average Duration"}),l.jsxs("p",{className:"mt-1 text-lg font-bold text-slate-50",children:[Math.round(Yt.reduce((a,o)=>a+o.duration,0)/Yt.length)," hrs"]})]})]})]})}function E4(){const[t,e]=f.useState("testing"),[n,r]=f.useState(null),[s,i]=f.useState(0),{showSuccess:a,showError:o}=jl(),c=async()=>{var v;e("testing"),r(null);try{const g=await ZP();g.success?(e("connected"),a("Supabase connection successful")):(e("failed"),r(((v=g.error)==null?void 0:v.message)||"Connection failed"),o("Supabase connection failed"))}catch(g){e("failed"),r(g.message),o("Supabase connection error")}};f.useEffect(()=>{c()},[]);const u=()=>{i(v=>v+1),c()},d=()=>{switch(t){case"testing":return l.jsx(A.div,{className:"h-5 w-5 rounded-full border-2 border-blue-500 border-t-transparent",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}});case"connected":return l.jsx("div",{className:"h-5 w-5 rounded-full bg-emerald-500 flex items-center justify-center",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"failed":return l.jsx("div",{className:"h-5 w-5 rounded-full bg-red-500 flex items-center justify-center",children:l.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});default:return null}},h=()=>{switch(t){case"testing":return"Testing connection...";case"connected":return"Connected to Supabase";case"failed":return"Connection failed";default:return"Unknown status"}},p=()=>{switch(t){case"testing":return"text-blue-600 dark:text-blue-400";case"connected":return"text-emerald-600 dark:text-emerald-400";case"failed":return"text-red-600 dark:text-red-400";default:return"text-slate-600 dark:text-slate-400"}};return l.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl glass-card p-4 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[d(),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-50",children:"Supabase Connection"}),l.jsx("p",{className:`text-sm ${p()}`,children:h()})]})]}),t==="failed"&&l.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 rounded-xl bg-blue-500 hover:bg-blue-600 px-3 py-2 text-sm font-medium text-white transition-colors",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retry"]})]}),n&&l.jsx(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 rounded-lg bg-red-50 dark:bg-red-900/20 p-3 border border-red-200 dark:border-red-800",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Connection Error"}),l.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:n}),s>0&&l.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Retry attempts: ",s]})]})]})}),t==="connected"&&l.jsx(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 rounded-lg bg-emerald-50 dark:bg-emerald-900/20 p-3 border border-emerald-200 dark:border-emerald-800",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:"Successfully connected to Supabase database"})]})})]})}function _4(){const[t,e]=f.useState(null),[n,r]=f.useState(!0),[s,i]=f.useState(null),{user:a}=js();f.useEffect(()=>{o()},[]);const o=async()=>{var g;try{r(!0),i(null);const w=await qs.getAll(),S={overview:{totalBookings:156,completedBookings:142,totalRevenue:45600,averageBookingAmount:292,activeBookings:14,totalParkingLocations:(w==null?void 0:w.length)||3},revenueByPaymentMethod:[{_id:"UPI",total:28500,count:95},{_id:"Card",total:12400,count:42},{_id:"Cash",total:4700,count:19}],bookingsByStatus:[{_id:"completed",count:142},{_id:"active",count:14},{_id:"cancelled",count:8}],bookingsByParking:(w==null?void 0:w.map(x=>({parkingName:x.name,parkingAddress:x.address,bookingCount:Math.floor(Math.random()*50)+10,totalRevenue:Math.floor(Math.random()*15e3)+5e3})))||[],recentBookings:[{_id:"1",bookingId:"EP001234",parkingId:{name:((g=w==null?void 0:w[0])==null?void 0:g.name)||"Sitabuldi Metro Parking"},vehicle:{type:"Car",number:"MH12AB1234"},date:new Date().toISOString(),time:"14:30",duration:2,amount:60}]};e(S)}catch(w){i(w.message||"Failed to fetch analytics"),console.error("Error fetching stats:",w)}finally{r(!1)}},c=g=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(g);if(n)return l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:l.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:l.jsxs("div",{className:"text-center",children:[l.jsx(A.div,{className:"inline-block h-8 w-8 rounded-full border-4 border-primary-500 border-t-transparent",animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"}}),l.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-400",children:"Loading analytics..."})]})})});if(s)return l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"rounded-2xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:"Connection Error"})]}),l.jsxs("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error: ",s]}),l.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retry"]})]})});if(!t)return null;const{overview:u,revenueByPaymentMethod:d,bookingsByParking:h,recentBookings:p,bookingsByStatus:v}=t;return l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs(A.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Management Dashboard"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Track bookings, revenue, and parking performance"})]}),l.jsx("div",{className:"mb-8",children:l.jsx(E4,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Total Bookings"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsx("p",{className:"text-3xl font-bold",children:u.totalBookings}),l.jsxs("p",{className:"text-sm opacity-75 mt-1",children:[u.completedBookings," completed"]})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-2xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Total Revenue"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsx("p",{className:"text-3xl font-bold",children:c(u.totalRevenue)}),l.jsxs("p",{className:"text-sm opacity-75 mt-1",children:["Avg: ",c(u.averageBookingAmount)]})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Active Bookings"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsx("p",{className:"text-3xl font-bold",children:u.activeBookings}),l.jsx("p",{className:"text-sm opacity-75 mt-1",children:"Currently parked"})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 p-6 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium opacity-90",children:"Parking Locations"}),l.jsx("span",{className:"text-2xl",children:""})]}),l.jsx("p",{className:"text-3xl font-bold",children:u.totalParkingLocations}),l.jsx("p",{className:"text-sm opacity-75 mt-1",children:"Total locations"})]})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-2xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 p-6 shadow-lg mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50 mb-4",children:"Revenue by Payment Method"}),l.jsx("div",{className:"space-y-4",children:d.length>0?d.map(g=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center text-white font-semibold",children:g._id==="UPI"||g._id==="Card"?"":""}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-50",children:g._id}),l.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[g.count," bookings"]})]})]}),l.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-slate-50",children:c(g.total)})]},g._id)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No payment data available"})})]})]})}function L4(){const[t,e]=f.useState({email:"",password:""}),[n,r]=f.useState(""),[s,i]=f.useState(!1),{signIn:a,signInWithGoogle:o,signInWithFacebook:c,isLoading:u}=js(),d=Zt(),h=w=>{e({...t,[w.target.name]:w.target.value}),n&&r("")},p=async w=>{if(w.preventDefault(),r(""),!t.email||!t.password){r("Please fill in all fields");return}const{data:S,error:x}=await a(t.email,t.password);x?x.message.includes("Invalid login credentials")?r("Invalid email or password. Please try again."):x.message.includes("Email not confirmed")?r("Please check your email and click the confirmation link before signing in."):r(x.message||"Login failed. Please try again."):S!=null&&S.user&&d("/dashboard")},v=async()=>{try{const{error:w}=await o();w&&(w.message.includes("provider is not enabled")?r("Google login is not configured yet. Please use email/password login or contact support."):r(w.message||"Google sign-in failed. Please try again."))}catch{r("Google sign-in is not available. Please use email/password login.")}},g=async()=>{try{const{error:w}=await c();w&&(w.message.includes("provider is not enabled")?r("Facebook login is not configured yet. Please use email/password login or contact support."):r(w.message||"Facebook sign-in failed. Please try again."))}catch{r("Facebook sign-in is not available. Please use email/password login.")}};return l.jsx("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[l.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.1},className:"mx-auto mb-4 h-16 w-16 rounded-full bg-gradient-to-br from-primary-500/20 to-accent-500/20 p-3",children:l.jsxs("svg",{className:"h-full w-full text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:["Welcome back to"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500 bg-clip-text text-transparent",children:"EasyPark"})]}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Sign in to find and book parking spaces"})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"glass-iridescent-subtle rounded-3xl p-8 shadow-2xl",children:[l.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:h,placeholder:"Enter your email",className:"w-full rounded-2xl glass-input pl-10 pr-4 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("input",{type:s?"text":"password",name:"password",value:t.password,onChange:h,placeholder:"Enter your password",className:"w-full rounded-2xl glass-input pl-10 pr-12 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:s?l.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):l.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded border-slate-300 dark:border-slate-600 text-primary-500 focus:ring-primary-500/20 focus:ring-offset-0"}),l.jsx("span",{className:"ml-2 text-sm text-slate-600 dark:text-slate-400",children:"Remember me"})]}),l.jsx(qe,{to:"/forgot-password",className:"text-sm text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 transition-colors",children:"Forgot password?"})]}),n&&l.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:n})]})}),l.jsxs("button",{type:"submit",disabled:u,className:"w-full group/btn relative inline-flex items-center justify-center gap-2 overflow-hidden rounded-2xl glass-iridescent-button px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary-500/40 backdrop-blur-sm transition-all hover:scale-105 hover:shadow-xl hover:shadow-primary-500/50 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[l.jsx("span",{className:"relative z-10 flex items-center gap-2",children:u?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]})}),l.jsx("span",{className:"absolute inset-0 -z-0 bg-gradient-to-r from-accent-500 to-primary-500 opacity-0 transition-opacity group-hover/btn:opacity-100"})]})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"bg-white/70 dark:bg-slate-900/70 px-4 text-slate-500 dark:text-slate-400",children:"Or continue with"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:v,disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-2xl glass-iridescent-button px-4 py-3 text-sm font-medium text-slate-700 dark:text-slate-100 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 relative z-10",children:[l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),l.jsxs("button",{type:"button",onClick:g,disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-2xl glass-iridescent-button px-4 py-3 text-sm font-medium text-slate-700 dark:text-slate-100 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 relative z-10",children:[l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"text-center mt-6",children:l.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Don't have an account?"," ",l.jsx(qe,{to:"/signup",className:"text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 font-semibold transition-colors",children:"Sign up for free"})]})}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-6 rounded-2xl glass-badge bg-gradient-to-r from-emerald-100/50 to-primary-100/50 dark:from-emerald-500/10 dark:to-accent-500/10 px-4 py-3 text-center border-emerald-200/50 dark:border-emerald-500/20",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-emerald-500"})]}),l.jsx("span",{className:"text-xs text-emerald-700 dark:text-emerald-200",children:"Powered by Supabase - Real authentication & database"})]})})]})})}function P4(){const[t,e]=f.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=f.useState(""),[s,i]=f.useState(""),[a,o]=f.useState(!1),[c,u]=f.useState(!1),{signUp:d,signInWithGoogle:h,signInWithFacebook:p,isLoading:v}=js(),g=Zt(),w=y=>{e({...t,[y.target.name]:y.target.value}),n&&r(""),s&&i("")},S=async y=>{if(y.preventDefault(),r(""),i(""),!t.name||!t.email||!t.password||!t.confirmPassword){r("Please fill in all fields");return}if(t.password!==t.confirmPassword){r("Passwords do not match");return}if(t.password.length<6){r("Password must be at least 6 characters long");return}const{data:b,error:k}=await d(t.email,t.password,{full_name:t.name,display_name:t.name});k?k.message.includes("User already registered")?r("An account with this email already exists. Please sign in instead."):k.message.includes("Password should be at least")?r("Password must be at least 6 characters long"):r(k.message||"Signup failed. Please try again."):b!=null&&b.user&&(b.user.email_confirmed_at?g("/dashboard"):i("Account created! Please check your email and click the confirmation link to complete your registration."))},x=async()=>{try{const{error:y}=await h();y&&(y.message.includes("provider is not enabled")?r("Google signup is not configured yet. Please use email/password signup or contact support."):r(y.message||"Google sign-up failed. Please try again."))}catch{r("Google sign-up is not available. Please use email/password signup.")}},m=async()=>{try{const{error:y}=await p();y&&(y.message.includes("provider is not enabled")?r("Facebook signup is not configured yet. Please use email/password signup or contact support."):r(y.message||"Facebook sign-up failed. Please try again."))}catch{r("Facebook sign-up is not available. Please use email/password signup.")}};return l.jsx("section",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[l.jsx(A.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.1},className:"mx-auto mb-4 h-16 w-16 rounded-full bg-gradient-to-br from-primary-500/20 to-accent-500/20 p-3",children:l.jsxs("svg",{className:"h-full w-full text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),l.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:["Join"," ",l.jsx("span",{className:"bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500 bg-clip-text text-transparent",children:"EasyPark"})]}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Create your account to start finding parking"})]}),l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"glass-iridescent-subtle rounded-3xl p-8 shadow-2xl",children:[l.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l.jsx("input",{type:"text",name:"name",value:t.name,onChange:w,placeholder:"Enter your full name",className:"w-full rounded-2xl glass-input pl-10 pr-4 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:w,placeholder:"Enter your email",className:"w-full rounded-2xl glass-input pl-10 pr-4 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("input",{type:a?"text":"password",name:"password",value:t.password,onChange:w,placeholder:"Create a password",className:"w-full rounded-2xl glass-input pl-10 pr-12 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0}),l.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:a?l.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):l.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("svg",{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("input",{type:c?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:w,placeholder:"Confirm your password",className:"w-full rounded-2xl glass-input pl-10 pr-12 py-3 text-sm text-slate-900 dark:text-slate-50 placeholder:text-slate-400 dark:placeholder:text-slate-500 transition-all focus:border-primary-400/50 dark:focus:border-accent-500/50 focus:bg-white/70 dark:focus:bg-slate-900/70 focus:outline-none focus:ring-2 focus:ring-primary-500/20 dark:focus:ring-accent-500/20",required:!0}),l.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors",children:c?l.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):l.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 rounded border-slate-300 dark:border-slate-600 text-primary-500 focus:ring-primary-500/20 focus:ring-offset-0",required:!0}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-slate-600 dark:text-slate-400",children:["I agree to the"," ",l.jsx(qe,{to:"/terms",className:"text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 transition-colors",children:"Terms of Service"})," ","and"," ",l.jsx(qe,{to:"/privacy",className:"text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 transition-colors",children:"Privacy Policy"})]})]}),s&&l.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800/50 p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-emerald-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-sm text-emerald-800 dark:text-emerald-200",children:s})]})}),n&&l.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"h-4 w-4 text-red-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:n})]})}),l.jsxs("button",{type:"submit",disabled:v,className:"w-full group/btn relative inline-flex items-center justify-center gap-2 overflow-hidden rounded-2xl glass-iridescent-button px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-primary-500/40 backdrop-blur-sm transition-all hover:scale-105 hover:shadow-xl hover:shadow-primary-500/50 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[l.jsx("span",{className:"relative z-10 flex items-center gap-2",children:v?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Creating account..."]}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Create Account"]})}),l.jsx("span",{className:"absolute inset-0 -z-0 bg-gradient-to-r from-accent-500 to-primary-500 opacity-0 transition-opacity group-hover/btn:opacity-100"})]})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"bg-white/70 dark:bg-slate-900/70 px-4 text-slate-500 dark:text-slate-400",children:"Or sign up with"})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:x,disabled:v,className:"inline-flex items-center justify-center gap-2 rounded-2xl glass-iridescent-button px-4 py-3 text-sm font-medium text-slate-700 dark:text-slate-100 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 relative z-10",children:[l.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),l.jsxs("button",{type:"button",onClick:m,disabled:v,className:"inline-flex items-center justify-center gap-2 rounded-2xl glass-iridescent-button px-4 py-3 text-sm font-medium text-slate-700 dark:text-slate-100 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 relative z-10",children:[l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Facebook"]})]})]}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"text-center mt-6",children:l.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",l.jsx(qe,{to:"/login",className:"text-primary-500 hover:text-primary-600 dark:text-accent-400 dark:hover:text-accent-300 font-semibold transition-colors",children:"Sign in"})]})}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-6 rounded-2xl glass-badge bg-gradient-to-r from-emerald-100/50 to-primary-100/50 dark:from-emerald-500/10 dark:to-accent-500/10 px-4 py-3 text-center border-emerald-200/50 dark:border-emerald-500/20",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-emerald-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-emerald-500"})]}),l.jsx("span",{className:"text-xs text-emerald-700 dark:text-emerald-200",children:"Powered by Supabase - Real authentication & database"})]})})]})})}const N4=[{id:"fastag",title:"FASTag Recharge",description:"Recharge your FASTag instantly with secure payment options",icon:"",color:"blue",features:["Instant Recharge","All Banks Supported","Secure Payment","24/7 Available"],stats:{users:"2.5M+",success:"99.8%"}},{id:"insurance",title:"Vehicle Insurance",description:"Renew or manage your car insurance with best rates",icon:"",color:"purple",features:["Compare Plans","Best Rates","Quick Renewal","Instant Policy"],stats:{users:"1.8M+",success:"99.5%"}},{id:"challan",title:"Challan Payment",description:"Check and pay traffic challans quickly and securely",icon:"",color:"orange",features:["Quick Search","Bulk Payment","Instant Receipt","No Extra Charges"],stats:{users:"3.2M+",success:"99.9%"}}];function T4(){const[t,e]=f.useState(null);return l.jsxs("section",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center py-12",children:[l.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"mb-3 inline-flex items-center gap-2 rounded-full glass-badge bg-primary-100/50 dark:bg-primary-500/20 px-3 py-1 text-xs text-primary-700 dark:text-primary-300 border-primary-200/50 dark:border-primary-500/30",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-primary-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-primary-500"})]}),"All-in-one platform"]}),l.jsxs(A.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},className:"text-4xl font-bold tracking-tight text-slate-900 dark:text-slate-50 sm:text-5xl md:text-6xl mb-6",children:["Vehicle Services",l.jsx("span",{className:"block bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500 bg-clip-text text-transparent",children:"Made Simple"})]}),l.jsx(A.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},className:"max-w-2xl mx-auto text-lg leading-relaxed text-slate-600 dark:text-slate-300",children:"From parking to payments, insurance to challans - manage all your vehicle needs in one place with secure, fast, and reliable services."})]}),l.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:N4.map((n,r)=>{const i={blue:{bg:"from-blue-500/10 to-blue-600/5",border:"border-blue-500/20",text:"text-blue-400",button:"from-blue-500 to-blue-600"},purple:{bg:"from-purple-500/10 to-purple-600/5",border:"border-purple-500/20",text:"text-purple-400",button:"from-purple-500 to-purple-600"},orange:{bg:"from-orange-500/10 to-orange-600/5",border:"border-orange-500/20",text:"text-orange-400",button:"from-orange-500 to-orange-600"}}[n.color];return l.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3+r*.1},whileHover:{y:-8,scale:1.02},className:`group relative overflow-hidden rounded-3xl glass-card p-8 transition-all hover:shadow-2xl border ${i.border}`,children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.bg} opacity-0 transition-opacity group-hover:opacity-100`}),l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:`inline-flex p-4 rounded-2xl bg-gradient-to-br ${i.bg} border ${i.border} mb-4`,children:l.jsx("span",{className:"text-4xl",children:n.icon})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-50 mb-2",children:n.title}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed",children:n.description})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-50 mb-3",children:"Key Features"}),l.jsx("ul",{className:"space-y-2",children:n.features.map((a,o)=>l.jsxs("li",{className:"flex items-center gap-2 text-xs text-slate-600 dark:text-slate-400",children:[l.jsx("svg",{className:`w-3 h-3 ${i.text}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a]},o))})]}),l.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-lg font-bold ${i.text}`,children:n.stats.users}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Active Users"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:`text-lg font-bold ${i.text}`,children:n.stats.success}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Success Rate"})]})]}),l.jsx("button",{onClick:()=>e(n.id),className:`w-full bg-gradient-to-r ${i.button} text-white py-3 px-6 rounded-2xl font-semibold hover:scale-105 transition-transform shadow-lg`,children:"Try Now"})]})]},n.id)})}),l.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-16 text-center",children:l.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[l.jsxs("div",{className:"p-6 rounded-2xl glass-card",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Secure Payments"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Bank-grade security with encrypted transactions and secure payment gateways"})]}),l.jsxs("div",{className:"p-6 rounded-2xl glass-card",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-50 mb-2",children:"Instant Processing"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Lightning-fast processing with real-time updates and instant confirmations"})]}),l.jsxs("div",{className:"p-6 rounded-2xl glass-card",children:[l.jsx("div",{className:"text-3xl mb-3",children:""}),l.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-50 mb-2",children:"24/7 Support"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Round-the-clock customer support for all your queries and assistance"})]})]})}),t&&l.jsx(qw,{service:t,onClose:()=>e(null)})]})}function M4(){return l.jsx(p_,{children:l.jsx(JP,{children:l.jsx(QP,{children:l.jsx(XP,{children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800 text-slate-800 dark:text-slate-50 transition-colors duration-300 relative overflow-hidden",children:[l.jsx(tN,{}),l.jsx(eN,{}),l.jsx("main",{className:"pt-20 pb-10 relative z-10",children:l.jsx(ml,{mode:"wait",children:l.jsxs(LS,{children:[l.jsx(nt,{path:"/",element:l.jsx(hN,{})}),l.jsx(nt,{path:"/discover",element:l.jsx(m4,{})}),l.jsx(nt,{path:"/services",element:l.jsx(T4,{})}),l.jsx(nt,{path:"/parking/:id",element:l.jsx(g4,{})}),l.jsx(nt,{path:"/login",element:l.jsx(L4,{})}),l.jsx(nt,{path:"/signup",element:l.jsx(P4,{})}),l.jsx(nt,{path:"/parking/:id/book",element:l.jsx(Jn,{children:l.jsx(w4,{})})}),l.jsx(nt,{path:"/parking/:id/select-slot",element:l.jsx(Jn,{children:l.jsx(S4,{})})}),l.jsx(nt,{path:"/parking/:id/payment",element:l.jsx(Jn,{children:l.jsx(j4,{})})}),l.jsx(nt,{path:"/dashboard",element:l.jsx(Jn,{children:l.jsx(y4,{})})}),l.jsx(nt,{path:"/booking-history",element:l.jsx(Jn,{children:l.jsx(C4,{})})}),l.jsx(nt,{path:"/management",element:l.jsx(Jn,{requireRole:"manager",children:l.jsx(_4,{})})}),l.jsx(nt,{path:"/admin",element:l.jsx(Jn,{requireRole:"admin",children:l.jsx(x4,{})})})]})})})]})})})})})}Cc.createRoot(document.getElementById("root")).render(l.jsx(B0.StrictMode,{children:l.jsx(IS,{children:l.jsx(M4,{})})}));
